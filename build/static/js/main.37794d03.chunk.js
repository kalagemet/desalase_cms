(this["webpackJsonpcms.desalase.id"]=this["webpackJsonpcms.desalase.id"]||[]).push([[0],{212:function(e,a,t){e.exports=t(339)},218:function(e,a,t){},236:function(e,a,t){},339:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(40),o=t.n(r),i=(t(217),t(10)),c=t(11),s=(t(218),t(354)),d=t(13),u=t(14),m=t(16),h=t(15),g=t(367),p=t(368),f=t(199),b=t(352),k=t(47),v=t(359),E=t(369),S=t(340),y=t(353),w=t(358),I=t(195),C=Object(I.createMedia)({breakpoints:{mobile:0,tablet:768,computer:1024}}),P=C.MediaContextProvider,T=C.Media,j=(C.createMediaStyle(),"https://api.desalase.id"),x={bannerImage:j+"/getbanner",setBanner:j+"/setbanner",logo:j+"/getlogo",footer:j+"/getfooterdata",tambahToko:j+"/tambahtoko",hapusToko:j+"/hapustoko",updateToko:j+"/updatetoko",tambahAlamat:j+"/tambahfoot",hapusAlamat:j+"/hapusfoot",updateAlamat:j+"/updatefoot",favorite:j+"/getproduk",new:j+"/getprodukbaru",makanan:j+"/getprodukbykategori?kategori=makanan",minuman:j+"/getprodukbykategori?kategori=minuman",lain:j+"/getprodukbykategori?kategori=lain",buah:j+"/getprodukbykategori?kategori=buah",tanaman:j+"/getprodukbykategori?kategori=tanaman",hewani:j+"/getprodukbykategori?kategori=hewani",jasa:j+"/getprodukbykategori?kategori=jasa",konveksi:j+"/getprodukbykategori?kategori=konveksi",detail:j+"/getdetail?id=",tag:j+"/caritag?tag=",cari:j+"/cariproduk?key=",hapusproduk:j+"/hapusproduk",tentang:j+"/gettentangadmin",addtentang:j+"/puttentang",updatetentang:j+"/updatetentang",deltentang:j+"/deletetentang",getKategori:j+"/getkategori",getTags:j+"/gettags",addProduk:j+"/saveproduk",uppProduk:j+"/updateproduk",hapusGambarProduk:j+"/delgambarproduk",login:j+"/oauth/token",client_id:2,client_secret:"AbmLYlIeor9p47Qt4Tz5Ovi19vEKzbDvINeQeTIQ"},O=t(32),N=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).scrollToSection=function(e){O.scroller.scrollTo(e,{duration:800,delay:0,smooth:"easeInOutQuart"})},n.handleItemClick=function(e,a){var t=a.name;n.setState({activeItem:t}),"Beranda"===t?n.scrollToSection("app-layout"):("Tentang"===t||"Etalase"===t)&&n.scrollToSection("divider-page")},n.state={isLoading:!0,activeItem:"Beranda",logo:"",cari:""},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",this.headerOnScroll),fetch(x.logo).then((function(e){return e.json()})).then((function(a){e.setState({logo:a})})).catch((function(e){console.log(e)}))}},{key:"headerOnScroll",value:function(){var e=window.pageYOffset||document.documentElement.scrollTop,a=document.getElementById("desktop-header"),t=document.getElementById("wrapper");window.innerWidth>100&&(e>100?(null!=a&&a.classList.add("scroll"),null!=t&&t.classList.add("scroll")):(null!=a&&a.classList.remove("scroll"),null!=t&&t.classList.remove("scroll")))}},{key:"render",value:function(){var e=this,a=this.state,t=a.activeItem,n=a.logo,r=a.cari;return l.a.createElement(T,{greaterThan:"tablet"},l.a.createElement(g.a,{className:"desktop-header",id:"desktop-header",vertical:!0},l.a.createElement(p.a,{centered:!0,columns:3},l.a.createElement(p.a.Column,{width:3,stretched:!0,className:"header-logo-container"},l.a.createElement(f.a,{className:"header-logo",href:"/",alt:"desalase.id logo",src:n})),l.a.createElement(p.a.Column,{width:10,className:"cari-header-container",stretched:!0},l.a.createElement(b.a,{size:"small",className:"cari-header",placeholder:"Cari Produk...",onChange:function(a){return e.setState({cari:a.target.value})},action:{icon:l.a.createElement(k.a,{name:"search",circular:!0,inverted:!0,link:!0}),href:"/etalase/cari/"+r}})),l.a.createElement(p.a.Column,{width:3},l.a.createElement(v.a,{secondary:!0,className:"desktop-menu"},l.a.createElement(v.a.Menu,{position:"right"},l.a.createElement(v.a.Item,{className:"menu-item",name:"Beranda",active:"Beranda"===t,onClick:this.handleItemClick}),l.a.createElement(v.a.Item,{className:"menu-item",name:"Etalase",active:"Etalase"===t,onClick:this.handleItemClick}),l.a.createElement(v.a.Item,{className:"menu-item",as:i.b,to:"/tentang",name:"Tentang",active:"Tentang"===t,onClick:this.handleItemClick})))))))}}]),t}(n.Component),M=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).handleToggle=function(){return n.setState({headerVisible:!n.state.headerVisible})},n.handleItemClick=function(e,a){var t=a.name,l=a.text;n.setState({activeItem:t}),"Beranda"===t?window.scrollTo(0,0):"Tentang"===t?window.scrollTo(0,document.body.scrollHeight):null!=l?(n.setState({activeItemSub:l}),window.scrollTo(0,window.innerHeight-70)):window.scrollTo(0,window.innerHeight-70),n.handleToggle()},n.state={cari:"",logo:"",headerVisible:!1,activeItem:"Beranda",activeItemSub:null,redirect:null},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",this.headerOnScroll),fetch(x.logo).then((function(e){return e.json()})).then((function(a){e.setState({logo:a})})).catch((function(e){console.log(e)}))}},{key:"headerOnScroll",value:function(){var e=window.pageYOffset||document.documentElement.scrollTop,a=document.getElementById("mobile-header"),t=document.getElementById("wrapper");window.innerWidth>300&&(e>300?(null!=a&&a.classList.add("scroll"),null!=t&&t.classList.add("scroll")):(null!=a&&a.classList.remove("scroll"),null!=t&&t.classList.remove("scroll")))}},{key:"render",value:function(){var e=this,a=this.state,t=a.cari,n=a.headerVisible,r=a.redirect,o=a.logo,s=a.activeItem;return null!=r?l.a.createElement(c.a,{push:!0,to:r}):l.a.createElement(T,{lessThan:"computer"},l.a.createElement(E.a,{as:g.a,className:"menu-header-mobile",animation:"push",direction:"left",visible:n},l.a.createElement(g.a,{className:"mobile-header",vertical:!0},l.a.createElement(p.a,null,l.a.createElement(p.a.Row,{columns:2},l.a.createElement(p.a.Column,null,l.a.createElement(f.a,{floated:"left",href:"/",className:"header-logo-mobile",src:o})),l.a.createElement(p.a.Column,null,l.a.createElement(S.a,{onClick:this.handleToggle,floated:"right",className:"header-button-mobile",icon:!0},l.a.createElement(k.a,{size:"big",name:"arrow left"})))))),l.a.createElement(v.a,{className:"item-menu-mobile",vertical:!0,text:!0},l.a.createElement(v.a.Item,{as:i.b,to:"/beranda",name:"Beranda",active:"Beranda"===s,onClick:this.handleItemClick}),l.a.createElement(y.a,null),l.a.createElement(w.a,{className:"Produk UMKM"===this.state.activeItem?"on":"",as:v.a.Item,simple:!0,item:!0,text:"Produk UMKM"},l.a.createElement(w.a.Menu,null,l.a.createElement(w.a.Item,{as:i.b,to:"/etalase/umkm/makanan",active:"Makanan"===this.state.activeItemSub,name:"Produk UMKM",text:"Makanan",onClick:this.handleItemClick}),l.a.createElement(w.a.Item,{as:i.b,to:"/etalase/umkm/minuman",active:"Minuman"===this.state.activeItemSub,name:"Produk UMKM",text:"Minuman",onClick:this.handleItemClick}),l.a.createElement(w.a.Item,{as:i.b,to:"/etalase/umkm/lainya",active:"Lainya"===this.state.activeItemSub,name:"Produk UMKM",text:"Lainya",onClick:this.handleItemClick}))),l.a.createElement(w.a,{as:v.a.Item,className:"Produk Pertanian"===this.state.activeItem?"on":"",simple:!0,item:!0,text:"Produk Pertanian"},l.a.createElement(w.a.Menu,null,l.a.createElement(w.a.Item,{as:i.b,to:"/etalase/pertanian/buah",active:"Buah"===this.state.activeItemSub,name:"Produk Pertanian",text:"Buah",onClick:this.handleItemClick}),l.a.createElement(w.a.Item,{as:i.b,to:"/etalase/pertanian/tanaman",active:"Tanaman"===this.state.activeItemSub,name:"Produk Pertanian",text:"Tanaman",onClick:this.handleItemClick}),l.a.createElement(w.a.Item,{as:i.b,to:"/etalase/pertanian/hewani",active:"Hewani"===this.state.activeItemSub,name:"Produk Pertanian",text:"Hewani",onClick:this.handleItemClick}))),l.a.createElement(v.a.Item,{as:i.b,to:"/etalase/jasa",name:"Jasa",active:"Jasa"===s,onClick:this.handleItemClick}),l.a.createElement(v.a.Item,{as:i.b,to:"/etalase/konveksi",name:"Konveksi",active:"Konveksi"===s,onClick:this.handleItemClick}),l.a.createElement(y.a,null),l.a.createElement(v.a.Item,{as:i.b,to:"/tentang",name:"Tentang",active:"Tentang"===s,onClick:this.handleItemClick}))),l.a.createElement(g.a,{className:"mobile-header",id:"mobile-header",vertical:!0},l.a.createElement(p.a,{centered:!0},l.a.createElement(p.a.Row,{columns:3},l.a.createElement(p.a.Column,{width:4,className:"img-header-container"},l.a.createElement(f.a,{floated:"left",href:"/",className:"header-logo-mobile",alt:"desalase.id logo",src:o})),l.a.createElement(p.a.Column,{width:9,className:"cari-header-container",stretched:!0},l.a.createElement(b.a,{size:"small",className:"cari-header",placeholder:"Cari Produk...",onChange:function(a){return e.setState({cari:a.target.value})},action:{icon:l.a.createElement(k.a,{name:"search",circular:!0,inverted:!0,link:!0}),href:"/etalase/cari/"+t}})),l.a.createElement(p.a.Column,{width:3},l.a.createElement(S.a,{onClick:this.handleToggle,floated:"right",className:"header-button-mobile",icon:!0},l.a.createElement(k.a,{size:"big",name:"list ul"})))))))}}]),t}(n.Component),A=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){return Object(d.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(P,null,l.a.createElement(N,null),l.a.createElement(M,null))}}]),t}(n.Component),B=t(363),z=t(355),L=t(370),D=t(360),H=t(361),F=t(98),J=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).handleHapusToko=function(e){if(window.confirm("Anda Yakin menghapus "+e.target.name)){var a=e.target.id;n.setState({disabledButton:!0,loading:!0}),fetch(x.hapusToko+"?id="+a,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),document.location.reload()),n.setState({disabledButton:!1,loading:!1})})).catch((function(e){alert(e),console.log(e),n.setState({disabledButton:!1,loading:!1})}))}},n.handleHapusAlamat=function(e){if(window.confirm("Anda Yakin menghapus "+e.target.name)){var a=e.target.id;n.setState({disabledButton:!0,loading:!0}),fetch(x.hapusAlamat+"?id="+a,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),document.location.reload()),n.setState({disabledButton:!1,loading:!1})})).catch((function(e){alert(e),console.log(e),n.setState({disabledButton:!1,loading:!1})}))}},n.handleTambahToko=function(e){if(""===e.target.icon.value)e.target.icon.focus();else if(""===e.target.header.value)e.target.header.focus();else if(""===e.target.data.value)e.target.data.focus();else if(""===e.target.link.value)e.target.link.focus();else{n.setState({disabledButton:!0,loading:!0});var a={icon:e.target.icon.value,header:e.target.header.value,data:e.target.data.value,link:e.target.link.value};fetch(x.tambahToko,{method:"post",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),console.log(e.msg),document.location.reload()),n.setState({disabledButton:!1,loading:!1})})).catch((function(e){alert(e),console.log(e),n.setState({disabledButton:!1,loading:!1})}))}},n.handleTambahAlamat=function(e){if(""===e.target.icon.value)e.target.icon.focus();else if(""===e.target.header.value)e.target.header.focus();else if(""===e.target.data.value)e.target.data.focus();else if(""===e.target.link.value)e.target.link.focus();else{n.setState({disabledButton:!0,loading:!0});var a={icon:e.target.icon.value,header:e.target.header.value,data:e.target.data.value,link:e.target.link.value};fetch(x.tambahAlamat,{method:"post",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),console.log(e.msg),document.location.reload()),n.setState({disabledButton:!1,loading:!1})})).catch((function(e){alert(e),console.log(e),n.setState({disabledButton:!1,loading:!1})}))}},n.handleUpdateToko=function(e){if(""===e.target.icon.value)e.target.icon.focus();else if(""===e.target.header.value)e.target.header.focus();else if(""===e.target.data.value)e.target.data.focus();else if(""===e.target.id.value)e.target.data.focus();else if(""===e.target.link.value)e.target.link.focus();else{if(window.confirm("Anda Yakin memperbarui "+e.target.header.value)){n.setState({disabledButton:!0,loading:!0});var a={id:e.target.id.value,icon:e.target.icon.value,header:e.target.header.value,data:e.target.data.value,link:e.target.link.value};fetch(x.updateToko,{method:"post",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),console.log(e.msg),document.location.reload()),n.setState({disabledButton:!1,loading:!1})})).catch((function(e){alert(e),console.log(e),n.setState({disabledButton:!1,loading:!1})}))}}},n.handleUpdateAlamat=function(e){if(""===e.target.icon.value)e.target.icon.focus();else if(""===e.target.header.value)e.target.header.focus();else if(""===e.target.data.value)e.target.data.focus();else if(""===e.target.id.value)e.target.data.focus();else if(""===e.target.link.value)e.target.link.focus();else{if(window.confirm("Anda Yakin memperbarui "+e.target.header.value)){n.setState({disabledButton:!0,loading:!0});var a={id:e.target.id.value,icon:e.target.icon.value,header:e.target.header.value,data:e.target.data.value,link:e.target.link.value};fetch(x.updateAlamat,{method:"post",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),console.log(e.msg),document.location.reload()),n.setState({disabledButton:!1,loading:!1})})).catch((function(e){alert(e),console.log(e),n.setState({disabledButton:!1,loading:!1})}))}}},n.state={footerData:[],isLoading:!0,disabledButton:!1,loading:!1},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(x.footer).then((function(e){return e.json()})).then((function(a){e.setState({footerData:a,isLoading:!1})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.footerData,n=a.isLoading,r=a.loading,o=a.disabledButton;return l.a.createElement(s.a,{fluid:!0,className:"footer-container"},n?l.a.createElement(B.a,{inverted:!0,active:n},l.a.createElement(z.a,{size:"huge",inline:!0,indeterminate:!0})):l.a.createElement(p.a,null,l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,{mobile:16,tablet:16,computer:6},l.a.createElement(p.a.Row,null,l.a.createElement(L.a,{inverted:!0,as:"h1"},"Desalase.id"),l.a.createElement(y.a,{inverted:!0})),t.alamat.map((function(a,t){return l.a.createElement(p.a.Row,{key:t},l.a.createElement(D.a,{onSubmit:e.handleUpdateAlamat},l.a.createElement(b.a,{name:"id",size:"mini",value:a.id,disabled:!0,style:{display:"none"},focus:!0}),l.a.createElement(b.a,{name:"icon",disabled:o,defaultValue:a.icon,label:{icon:a.icon},labelPosition:"left corner",size:"mini",style:{width:"30%"},focus:!0}),l.a.createElement(b.a,{name:"header",disabled:o,defaultValue:a.header,label:{icon:"text width"},labelPosition:"left corner",size:"mini",style:{width:"70%"},focus:!0}),l.a.createElement(b.a,{name:"data",disabled:o,defaultValue:a.data,label:"subHeader",size:"mini",fluid:!0,focus:!0}),l.a.createElement(b.a,{name:"link",disabled:o,defaultValue:a.link,label:"link",size:"mini",fluid:!0,focus:!0}),l.a.createElement(S.a.Group,{size:"mini",fluid:!0},l.a.createElement(S.a,{type:"submit",color:"yellow",loading:r,disabled:o,content:"Simpan",size:"mini"}),l.a.createElement(S.a,{id:a.id,loading:r,disabled:o,name:"alamat-"+a.header,onClick:e.handleHapusAlamat,color:"red",content:"Hapus",size:"mini"}))),l.a.createElement(y.a,{inverted:!0}))})),l.a.createElement(p.a.Row,null,l.a.createElement(D.a,{onSubmit:this.handleTambahAlamat},l.a.createElement(b.a,{disabled:o,name:"icon",placeholder:"icon",label:{icon:"plus"},labelPosition:"left corner",size:"mini",style:{width:"30%"},focus:!0}),l.a.createElement(b.a,{disabled:o,name:"header",placeholder:"header",label:{icon:"text width"},labelPosition:"left corner",size:"mini",style:{width:"70%"},focus:!0}),l.a.createElement(b.a,{disabled:o,name:"data",placeholder:"deskripsi",label:"subHeader",size:"mini",fluid:!0,focus:!0}),l.a.createElement(b.a,{disabled:o,name:"link",placeholder:"url",label:"link",size:"mini",fluid:!0,focus:!0}),l.a.createElement(S.a,{loading:r,color:"green",type:"submit",content:"Simpan",size:"mini",fluid:!0})))),l.a.createElement(p.a.Column,{mobile:16,tablet:16,computer:5},l.a.createElement(p.a.Row,null,l.a.createElement(L.a,{inverted:!0,as:"h1"},"Toko Online"),l.a.createElement(y.a,{inverted:!0})),t.toko.map((function(a,t){return l.a.createElement(p.a.Row,{key:t},l.a.createElement(D.a,{onSubmit:e.handleUpdateToko},l.a.createElement(b.a,{name:"id",size:"mini",value:a.id,disabled:!0,style:{display:"none"},focus:!0}),l.a.createElement(b.a,{name:"icon",disabled:o,defaultValue:a.icon,label:{icon:a.icon},labelPosition:"left corner",size:"mini",style:{width:"30%"},focus:!0}),l.a.createElement(b.a,{name:"header",disabled:o,defaultValue:a.header,label:{icon:"text width"},labelPosition:"left corner",size:"mini",style:{width:"70%"},focus:!0}),l.a.createElement(b.a,{name:"data",disabled:o,defaultValue:a.data,label:"subHeader",size:"mini",fluid:!0,focus:!0}),l.a.createElement(b.a,{name:"link",disabled:o,defaultValue:a.link,label:"link",size:"mini",fluid:!0,focus:!0}),l.a.createElement(S.a.Group,{size:"mini",fluid:!0},l.a.createElement(S.a,{type:"submit",color:"yellow",loading:r,disabled:o,content:"Simpan",size:"mini"}),l.a.createElement(S.a,{id:a.id,loading:r,disabled:o,name:"toko-"+a.header,onClick:e.handleHapusToko,color:"red",content:"Hapus",size:"mini"}))),l.a.createElement(y.a,{inverted:!0}))})),l.a.createElement(p.a.Row,null,l.a.createElement(D.a,{onSubmit:this.handleTambahToko},l.a.createElement(b.a,{disabled:o,name:"icon",placeholder:"icon",label:{icon:"plus"},labelPosition:"left corner",size:"mini",style:{width:"30%"},focus:!0}),l.a.createElement(b.a,{disabled:o,name:"header",placeholder:"header",label:{icon:"text width"},labelPosition:"left corner",size:"mini",style:{width:"70%"},focus:!0}),l.a.createElement(b.a,{disabled:o,name:"data",placeholder:"deskripsi",label:"subHeader",size:"mini",fluid:!0,focus:!0}),l.a.createElement(b.a,{disabled:o,name:"link",placeholder:"url",label:"link",size:"mini",fluid:!0,focus:!0}),l.a.createElement(S.a,{loading:r,color:"green",type:"submit",content:"Simpan",size:"mini",fluid:!0})))),l.a.createElement(p.a.Column,{mobile:16,tablet:16,computer:5},l.a.createElement(p.a.Row,null,l.a.createElement(L.a,{inverted:!0,as:"h1"},"Peta Situs"),l.a.createElement(y.a,{inverted:!0})),l.a.createElement(p.a.Row,{as:i.b,to:"#"},l.a.createElement(H.a,{inverted:!0,as:L.a},l.a.createElement(H.a.Item,{as:i.b,to:"/"},"Beranda"),l.a.createElement(H.a.Item,{as:i.b,to:"/etalase"},"Etalase"),l.a.createElement(H.a.Item,{as:i.b,to:"blog"},"Blog"," ",l.a.createElement(F.a,{color:"red",size:"mini",tag:!0},"Comming soon")),l.a.createElement(H.a.Item,{as:i.b,to:"/tentang"},"Tentang"),l.a.createElement(H.a.Item,{as:i.b,onClick:function(){window.confirm("Anda Yakin ? ")&&(localStorage.removeItem("token"),document.location.reload())}},"Keluar")))))))}}]),t}(n.Component),K=t(145),U=t(364),q=t(356),_=t(357),R=(t(236),function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(d.a)(this,t);for(var l=arguments.length,r=new Array(l),o=0;o<l;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).contextRef=Object(n.createRef)(),e.state={activeItem:"Favorit",activeItemSub:null},e.handleItemClick=function(a,t){var n=t.name,l=t.text;e.setState({activeItem:n}),null!=l&&e.setState({activeItemSub:l}),window.scrollTo(0,window.innerHeight-70)},e}return Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(U.a,{innerRef:this.contextRef},l.a.createElement(q.a,{attached:!0,className:"navigator-rail"},l.a.createElement(_.a,{context:this.contextRef},l.a.createElement(g.a,{textAlign:"left",color:"yellow"},l.a.createElement(L.a,{textAlign:"left",as:"h2"},"Filter"),l.a.createElement(y.a,null),l.a.createElement(v.a,{className:"menu-dropdown",secondary:!0,vertical:!0},l.a.createElement(w.a,{as:v.a.Item,active:"Produk UMKM"===this.state.activeItem,item:!0,text:"Produk UMKM"},l.a.createElement(w.a.Menu,null,l.a.createElement(w.a.Item,{as:i.b,to:"/etalase/umkm/makanan",active:"Makanan"===this.state.activeItemSub,name:"Produk UMKM",text:"Makanan",onClick:this.handleItemClick}),l.a.createElement(w.a.Item,{as:i.b,to:"/etalase/umkm/minuman",active:"Minuman"===this.state.activeItemSub,name:"Produk UMKM",text:"Minuman",onClick:this.handleItemClick}),l.a.createElement(w.a.Item,{as:i.b,to:"/etalase/umkm/lainya",active:"Lainya"===this.state.activeItemSub,name:"Produk UMKM",text:"Lainya",onClick:this.handleItemClick}))),l.a.createElement(w.a,{as:v.a.Item,active:"Produk Pertanian"===this.state.activeItem,item:!0,text:"Produk Pertanian"},l.a.createElement(w.a.Menu,null,l.a.createElement(w.a.Item,{as:i.b,to:"/etalase/pertanian/buah",active:"Buah"===this.state.activeItemSub,name:"Produk Pertanian",text:"Buah",onClick:this.handleItemClick}),l.a.createElement(w.a.Item,{as:i.b,to:"/etalase/pertanian/tanaman",active:"Tanaman"===this.state.activeItemSub,name:"Produk Pertanian",text:"Tanaman",onClick:this.handleItemClick}),l.a.createElement(w.a.Item,{as:i.b,to:"/etalase/pertanian/hewani",active:"Hewani"===this.state.activeItemSub,name:"Produk Pertanian",text:"Hewani",onClick:this.handleItemClick}))),l.a.createElement(v.a.Item,{as:i.b,to:"/etalase/jasa",name:"Jasa",active:"Jasa"===this.state.activeItem,onClick:this.handleItemClick}),l.a.createElement(v.a.Item,{as:i.b,to:"/etalase/konveksi",name:"Konveksi",active:"Konveksi"===this.state.activeItem,onClick:this.handleItemClick}))))))}}]),t}(n.Component));function V(e){return l.a.createElement(P,null,l.a.createElement(T,{greaterThan:"mobile"},l.a.createElement(p.a,{className:"katalog-container",columns:2},l.a.createElement(p.a.Column,{width:4},l.a.createElement(R,null)),l.a.createElement(p.a.Column,{width:12},e.children))),l.a.createElement(T,{at:"mobile"},e.children))}function W(e){var a=Object(n.useState)(""),t=Object(K.a)(a,2),r=t[0],o=t[1],i=Object(n.useState)(""),c=Object(K.a)(i,2),s=c[0],d=c[1],u=Object(n.useState)(!1),m=Object(K.a)(u,2),h=m[0],p=m[1];return fetch(x.bannerImage).then((function(e){return e.json()})).then((function(e){o(e)})).catch((function(e){console.log(e)})),l.a.createElement("div",{className:"page"},l.a.createElement("div",{className:"banner-image",style:{backgroundImage:"url("+r+")"}},l.a.createElement(L.a,{as:"h1"},"Admin Web Page"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(b.a,{size:"big",type:"file",id:"setB",className:"home-search",input:{accept:".jpg"},placeholder:"Upload banner image",onChange:function(e){return d(e.target.files[0])},action:l.a.createElement(S.a,{as:"a",onClick:function(){if(s&&!h){p(!0);var e=new FormData;e.append("image",s),fetch(x.setBanner,{method:"POST",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},body:e}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),console.log(e.msg),document.location.reload()),p(!1)})).catch((function(e){console.log(e),p(!1)}))}else document.getElementById("setB").focus()},icon:l.a.createElement(k.a,{size:"large",loading:h,name:h?"circle notched":"upload",circular:!0,inverted:!0,link:!0})})})),l.a.createElement(y.a,{className:"divider-page"}),l.a.createElement(g.a,{className:"page-content",vertical:!0},l.a.createElement(V,null,e.children)))}var Y=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).loginHandler=function(e){if(e.target.user.value)if(e.target.pass.value){n.setState({loading:!0});var a=new FormData;a.append("grant_type","password"),a.append("client_id",x.client_id),a.append("client_secret",x.client_secret),a.append("username",e.target.user.value),a.append("password",e.target.pass.value),fetch(x.login,{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){e.error?(alert("error "+e.error),console.log(e)):localStorage.setItem("token",JSON.stringify(e.access_token)),n.setState({loading:!1}),document.location.reload()})).catch((function(e){console.log(e),n.setState({loading:!1})}))}else e.target.pass.focus();else e.target.user.focus()},n.state={loading:!1},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("token")&&document.location.reload()}},{key:"render",value:function(){var e=this.state.loading;return l.a.createElement(g.a,{textAlign:"center",vertical:!0,className:"login-container"},l.a.createElement(L.a,{inverted:!0,as:"h1",icon:!0},l.a.createElement(k.a,{name:"sign-in"}),"LOGIN",l.a.createElement(L.a.Subheader,null,"Atur halaman desalase.id")),l.a.createElement(s.a,{className:"login-form"},l.a.createElement(D.a,{onSubmit:this.loginHandler},l.a.createElement(D.a.Field,null,l.a.createElement(b.a,{name:"user",focus:!0,icon:"users",iconPosition:"left",placeholder:"username"})),l.a.createElement(D.a.Field,null,l.a.createElement(b.a,{name:"pass",type:"password",focus:!0,icon:"key",iconPosition:"left",placeholder:"password"})),l.a.createElement(S.a,{loading:e,size:"huge",type:"submit",fluid:!0,positive:!0},"Masuk"))))}}]),t}(n.Component);function G(e){var a=localStorage.getItem("token");return l.a.createElement("div",{className:"app-layout"},a?l.a.createElement(s.a,{className:"content-container"},l.a.createElement(A,null),l.a.createElement(W,null,e.children),l.a.createElement(J,null)):l.a.createElement(Y,null))}var Q=t(134),$=(t(171),t(172),t(366)),X=t(66),Z=t.n(X),ee=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).handleHapus=function(e){window.confirm("Anda Yakin menghapus produk")&&(n.setState({loading:!0}),fetch(x.hapusproduk+"?id="+e,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),document.location.reload()),n.setState({loading:!1})})).catch((function(e){alert(e),console.log(e),n.setState({loading:!1})})))},n.handleUpdate=function(e){if(window.confirm("Anda Yakin  ?"))if(""===e.target.nama.value||""===e.target.produsen.value||""===e.target.id.value||""===n.state.kategoriSelected||""===n.state.deskripsi||""===n.state.tagSelected||0===e.target.harga.value||""===e.target.wa.value||""===e.target.tokped.value||""===e.target.shopee.value)alert("form tidak lengkap"),document.location.reload();else{n.setState({loading:!0,disabled:!0});var a=new FormData;if(a.append("id",e.target.id.value),a.append("nama",e.target.nama.value),a.append("desk",n.state.deskripsi),e.target.img.files.length>0){var t,l=Object(Q.a)(e.target.img.files);try{for(l.s();!(t=l.n()).done;){var r=t.value;a.append("img[]",r,r.name)}}catch(o){l.e(o)}finally{l.f()}}a.append("produsen",e.target.produsen.value),a.append("harga",e.target.harga.value),a.append("url",e.target.wa.value+"|"+e.target.tokped.value+"|"+e.target.shopee.value),a.append("tags",n.state.tagSelected),a.append("id_kategori",n.state.kategoriSelected),fetch(x.uppProduk,{method:"POST",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},body:a}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),console.log(e.msg),document.location.reload()),n.setState({loading:!1,disabled:!1})})).catch((function(e){console.log(e),n.setState({loading:!1,disabled:!1})}))}},n.state={loading:!0,noDetail:!1,linktree:[],nama:"",produsen:"",id:0,image:[],harga:"",kategori:[],spiner:!0,defaultTag:[],tags:[],tagSelected:"",kategoriSelected:0,deskripsi:""},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.id;this.setState({id:a}),this.scrollTop(),fetch(x.detail+a).then((function(e){return e.json()})).then((function(a){if(a.error)e.setState({noDetail:!0,loading:!1});else{var t="";a.tags.map((function(e,n){t+=e,n!==a.tags.length-1&&(t+="|")})),e.setState({tagSelected:t,nama:a.nama,image:a.image,produsen:a.produsen,kategoriSelected:a.id_kategori,deskripsi:a.deskripsi,harga:a.harga.replace(",",""),defaultTag:a.tags,linktree:a.link,loading:!1,disabled:!1,spiner:!1}),document.title=e.state.nama+" - desalase.id"}})).catch((function(e){console.log(e),document.location.href="/produk/add"})),fetch(x.getKategori,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(a){a.error?alert("gagal mengambil kategori"):e.setState({kategori:a.data,spiner:!1})})).catch((function(e){console.log(e)})),fetch(x.getTags,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(a){a.error||e.setState({tags:a.data,spiner:!1})})).catch((function(e){console.log(e)}))}},{key:"scrollTop",value:function(){O.scroller.scrollTo("divider-page",{duration:800,delay:0,smooth:"easeInOutQuart"})}},{key:"handleHapusGambar",value:function(e,a){var t=this;if(window.confirm("Anda Yakin menghapus "+e+" dari produk?")){this.setState({disabled:!0,loading:!0});var n={id:a,data:e};fetch(x.hapusGambarProduk,{method:"post",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),document.location.reload()),t.setState({disabled:!0,loading:!1})})).catch((function(e){alert(e),console.log(e),t.setState({disabled:!0,loading:!1})}))}}},{key:"render",value:function(){var e=this,a=this.state,t=a.loading,n=a.spiner,r=a.id,o=a.kategori,i=a.harga,c=a.image,d=a.linktree,u=a.deskripsi,m=a.disabled,h=a.tags,f=a.kategoriSelected,v=a.defaultTag,E=a.noDetail,I=a.nama,C=a.produsen;return l.a.createElement(s.a,null,E?l.a.createElement($.a,{className:"no-produk-msg",label:"Tidak ada produk yang dapat ditampilkan",value:"Tidak Tersedia",text:!0}):l.a.createElement(g.a,{loading:t,vertical:!0,textAlign:"left",className:"detail-container"},l.a.createElement(D.a,{onSubmit:this.handleUpdate},l.a.createElement(p.a,{className:"detail-group"},l.a.createElement(p.a.Column,{mobile:16,tablet:6,computer:6},l.a.createElement(g.a,{style:{height:"300px"},className:"detail-image"},l.a.createElement(D.a.Field,{style:{display:"none"},required:!0},l.a.createElement(b.a,{disabled:!0,name:"id",value:r})),c.length>0?c.map((function(a,t){return l.a.createElement(S.a,{onClick:function(){return e.handleHapusGambar(a,r)},type:"button",style:{marginBottom:"5px"},key:t,fluid:!0,icon:!0,color:"orange",labelPosition:"right"},l.a.createElement(k.a,{name:"close"}),"Hapus Gambar ",t+1)})):"",l.a.createElement(L.a,{as:"h4",textAlign:"center"},"Tambah Gambar"),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:m,name:"img",multiple:!0,input:{accept:"image/x-png,image/gif,image/jpeg"},type:"file"}))),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(w.a,{disabled:m,loading:n,placeholder:"tags",fluid:!0,search:!0,selection:!0,options:h,multiple:!0,allowAdditions:!0,onChange:function(a,t){for(var n="",l=0;l<t.value.length;l++)n+=t.value[l],l!==t.value.length-1&&(n+="|");e.setState({tagSelected:n,defaultTag:t.value})},onAddItem:function(a,t){var n=h;n.push({key:t.value,text:t.value,value:t.value}),e.setState({tags:n})},value:v}))),l.a.createElement(p.a.Column,{mobile:16,tablet:10,computer:10},l.a.createElement(L.a,{className:"detail-deskripsi"},l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:m,defaultValue:I,name:"nama",fluid:!0,placeholder:"Kopi Bubuk",label:"Nama Produk"})),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:m,defaultValue:C,fluid:!0,name:"produsen",placeholder:"KWT Muda Mudi",label:"Produsen"})),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(w.a,{onChange:function(a,t){e.setState({kategoriSelected:t.value})},name:"kategori",value:f,loading:n,placeholder:"Kategori",fluid:!0,selection:!0,options:o,disabled:m})),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(Z.a,{name:"deskripsi",theme:"snow",placeholder:"Deskripsi",onChange:function(a){return e.setState({deskripsi:a})},value:u,modules:this.modules,formats:this.formats})),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:m,name:"harga",pattern:"[0-9]*",fluid:!0,placeholder:"harga",onChange:function(a){var t=a.target.validity.valid?a.target.value:i;e.setState({harga:t})},value:i,label:"Harga"}))),l.a.createElement(y.a,null),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:m,defaultValue:d[0],name:"wa",placeholder:"https://wa.me/xxxxxxxx",fluid:!0,label:"Link Wa"})),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:m,defaultValue:d[1],name:"tokped",fluid:!0,placeholder:"https://tokopedia.com/xxxx",label:"Link Tokopedia"})),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:m,defaultValue:d[2],name:"shopee",fluid:!0,placeholder:"https://shopee.com/xxxx",label:"Link Shopee"})))),l.a.createElement(s.a,{className:"tags-container"},l.a.createElement(S.a,{disabled:m,loading:m,type:"submit",size:"big",fluid:!0,icon:"refresh",content:"Update Produk",color:"green"}),l.a.createElement("br",null),l.a.createElement(S.a,{type:"button",basic:!0,disabled:m,onClick:function(){return e.handleHapus(r)},loading:m,size:"big",fluid:!0,icon:"trash",content:"Hapus Produk",color:"red"})))),l.a.createElement(y.a,{className:"bootom-detail"}))}}]),t}(n.Component),ae=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).modules={toolbar:[["bold","italic","underline","strike"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{align:[]}]]},n.formats=["header","font","background","color","code","size","bold","italic","underline","strike","blockquote","list","bullet","indent","script","align","direction","link","image","code-block","formula","video"],n.handleUpload=function(e){if(""===e.target.nama.value||""===e.target.produsen.value||""===n.state.kategoriSelected||""===n.state.deskripsi||""===n.state.tagSelected||0===e.target.img.files.length||0===e.target.harga.value||""===e.target.wa.value||""===e.target.tokped.value||""===e.target.shopee.value)alert("form tidak lengkap"),e.target.nama.focus();else{n.setState({loading:!0,disabled:!0});var a=new FormData;a.append("nama",e.target.nama.value),a.append("desk",n.state.deskripsi);var t,l=Object(Q.a)(e.target.img.files);try{for(l.s();!(t=l.n()).done;){var r=t.value;a.append("img[]",r,r.name)}}catch(o){l.e(o)}finally{l.f()}a.append("produsen",e.target.produsen.value),a.append("harga",e.target.harga.value),a.append("url",e.target.wa.value+"|"+e.target.tokped.value+"|"+e.target.shopee.value),a.append("tags",n.state.tagSelected),a.append("id_kategori",n.state.kategoriSelected),fetch(x.addProduk,{method:"POST",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},body:a}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),console.log(e.msg),document.location.reload()),n.setState({loading:!1,disabled:!1})})).catch((function(e){console.log(e),n.setState({loading:!1,disabled:!1})}))}},n.state={loading:!1,disabled:!1,harga:"",kategori:[],spiner:!0,tags:[],tagSelected:"",kategoriSelected:0,deskripsi:""},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.scrollTop(),document.title="Tambah Produk | desalase.id",fetch(x.getKategori,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(a){a.error?alert("gagal mengambil kategori"):e.setState({kategori:a.data,spiner:!1})})).catch((function(e){console.log(e)})),fetch(x.getTags,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(a){a.error||e.setState({tags:a.data,spiner:!1})})).catch((function(e){console.log(e)}))}},{key:"scrollTop",value:function(){O.scroller.scrollTo("divider-page",{duration:800,delay:0,smooth:"easeInOutQuart"})}},{key:"render",value:function(){var e=this,a=this.state,t=a.harga,n=a.loading,r=a.tags,o=a.spiner,i=a.kategori,c=a.disabled;return l.a.createElement(s.a,null,l.a.createElement(g.a,{loading:n,vertical:!0,textAlign:"left",className:"detail-container"},l.a.createElement(D.a,{onSubmit:this.handleUpload},l.a.createElement(p.a,{className:"detail-group"},l.a.createElement(p.a.Column,{mobile:16,tablet:6,computer:6},l.a.createElement(g.a,{style:{height:"300px"},className:"detail-image"},l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:c,name:"img",multiple:!0,input:{accept:"image/x-png,image/gif,image/jpeg"},type:"file"}))),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(w.a,{disabled:c,loading:o,placeholder:"tags",fluid:!0,search:!0,selection:!0,options:r,multiple:!0,allowAdditions:!0,onChange:function(a,t){for(var n="",l=0;l<t.value.length;l++)n+=t.value[l],l!==t.value.length-1&&(n+="|");e.setState({tagSelected:n})},onAddItem:function(a,t){var n=r;n.push({key:t.value,text:t.value,value:t.value}),e.setState({tags:n})}}))),l.a.createElement(p.a.Column,{mobile:16,tablet:10,computer:10},l.a.createElement(L.a,{className:"detail-deskripsi"},l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:c,name:"nama",fluid:!0,placeholder:"Kopi Bubuk",label:"Nama Produk"})),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:c,fluid:!0,name:"produsen",placeholder:"KWT Muda Mudi",label:"Produsen"})),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(w.a,{onChange:function(a,t){e.setState({kategoriSelected:t.value})},name:"kategori",loading:o,placeholder:"Kategori",fluid:!0,selection:!0,options:i,disabled:c})),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(Z.a,{name:"deskripsi",theme:"snow",placeholder:"Deskripsi",onChange:function(a){return e.setState({deskripsi:a})},modules:this.modules,formats:this.formats})),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:c,name:"harga",pattern:"[0-9]*",fluid:!0,placeholder:"harga",onChange:function(a){var n=a.target.validity.valid?a.target.value:t;e.setState({harga:n})},value:t,label:"Harga"}))),l.a.createElement(y.a,null),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:c,name:"wa",placeholder:"https://wa.me/xxxxxxxx",fluid:!0,label:"Link Wa"})),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:c,name:"tokped",fluid:!0,placeholder:"https://tokopedia.com/xxxx",label:"Link Tokopedia"})),l.a.createElement(D.a.Field,{required:!0},l.a.createElement(b.a,{disabled:c,name:"shopee",fluid:!0,placeholder:"https://shopee.com/xxxx",label:"Link Shopee"})))),l.a.createElement(s.a,{className:"tags-container"},l.a.createElement(S.a,{disabled:c,loading:c,type:"submit",size:"big",fluid:!0,icon:"plus",content:"Tambah Produk",color:"blue",labelPosition:"right"})))),l.a.createElement(y.a,{className:"bootom-detail"}))}}]),t}(n.Component),te=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){return Object(d.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"componentDidMount",value:function(){O.scroller.scrollTo("divider-page",{duration:800,delay:0,smooth:"easeInOutQuart"})}},{key:"render",value:function(){return l.a.createElement(g.a,{textAlign:"center",vertical:!0,className:"web-404-container"},l.a.createElement(k.a,{className:"ikon",name:"warning sign",size:"massive",color:"yellow"}),l.a.createElement(L.a,{as:"h1",className:"text_header"},this.props.error,l.a.createElement(L.a.Subheader,{className:"subHeader"},this.props.suberror),l.a.createElement("br",null),l.a.createElement(S.a,{color:"blue",as:i.b,to:"/",content:"Beranda"})))}}]),t}(n.Component),ne=t(365),le=t(362),re=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).loadMoreProduk=function(){n.setState({loadingMore:!0}),null!==n.state.linkMore&&fetch(n.state.linkMore).then((function(e){return e.json()})).then((function(e){null===e.next_page_url?n.setState({moreProduk:!1}):n.setState({moreProduk:!0,linkMore:e.next_page_url});for(var a=0;a<e.data.length;a++)n.state.dataProduk.push(e.data[a]);n.setState({loading:!1,loadingMore:!1})})).catch((function(e){console.log(e),alert(e)}))},n.handleHapus=function(e){if(window.confirm("Anda Yakin menghapus "+e.target.name)){var a=e.target.id;n.setState({loading:!0}),fetch(x.hapusproduk+"?id="+a).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),document.location.reload()),n.setState({loading:!1})})).catch((function(e){alert(e),console.log(e),n.setState({loading:!1})}))}},n.state={dataProduk:[],noProduk:!1,loading:!0,moreProduk:!1,linkMore:"",loadingMore:!1,header:"Menampilkan Produk Populer",content:"Semoga anda menyukainya"},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.filter(),document.title="Etalase Desa | desalase.id"}},{key:"componentDidUpdate",value:function(){document.title=this.state.header+" - Etalase Desa | desalase.id"}},{key:"getDataProduk",value:function(e){var a=this;fetch(e).then((function(e){return e.json()})).then((function(e){null===e.next_page_url?a.setState({moreProduk:!1}):a.setState({moreProduk:!0,linkMore:e.next_page_url}),0===e.data.length?a.setState({noProduk:!0,loading:!1}):a.setState({dataProduk:e.data,loading:!1})})).catch((function(e){console.log(e),a.setState({noProduk:!0,loading:!1})}))}},{key:"filter",value:function(){var e="",a="";this.props.match&&(e=this.props.match.params.key,a=this.props.match.params.tag),this.props.makanan?(this.setState({header:"Menampilkan Produk Makanan",content:"makanan dari UMKM persembahan desalase.id"}),this.getDataProduk(x.makanan)):this.props.minuman?(this.setState({header:"Menampilkan Produk Minuman",content:"minuman dari UMKM persembahan desalase.id"}),this.getDataProduk(x.minuman)):this.props.lain?(this.setState({header:"Menampilkan Produk UMKM Lainya",content:"lainya dari UMKM persembahan desalase.id"}),this.getDataProduk(x.lain)):this.props.buah?(this.setState({header:"Menampilkan Produk Buah",content:"produk buah segar"}),this.getDataProduk(x.buah)):this.props.tanaman?(this.setState({header:"Menampilkan Produk Tanaman",content:"produk tanaman hasil bumi"}),this.getDataProduk(x.tanaman)):this.props.hewani?(this.setState({header:"Menampilkan Produk Hewani",content:"produk olahan dari hewan"}),this.getDataProduk(x.hewani)):this.props.jasa?(this.setState({header:"Menampilkan Produk Jasa",content:"produk jasa persembahan desalase.id"}),this.getDataProduk(x.jasa)):this.props.konveksi?(this.setState({header:"Menampilkan Produk Konveksi",content:"produk konveksi dari desalase.id"}),this.getDataProduk(x.konveksi)):a?(this.setState({header:"Produk #"+this.props.match.params.tag,content:"menampilkan produk yang berhubungan dengan "+this.props.match.params.tag}),this.getDataProduk(x.tag+this.props.match.params.tag)):e?(this.setState({header:'Hasil Pencarian "'+this.props.match.params.key+'"',content:"menampilkan produk yang berhubungan dengan "+this.props.match.params.key}),this.getDataProduk(x.cari+this.props.match.params.key)):this.getDataProduk(x.favorite),this.props.home||O.scroller.scrollTo("divider-page",{duration:800,delay:0,smooth:"easeInOutQuart"})}},{key:"render",value:function(){var e=this,a=this.state,t=a.moreProduk,n=a.header,r=a.content,o=a.loading,c=a.dataProduk,d=a.noProduk,u=a.loadingMore;return l.a.createElement(s.a,{vertical:!0,className:"produk-container"},l.a.createElement(S.a,{icon:"plus circle",basic:!0,positive:!0,size:"huge",content:"Tambah Produk",as:i.b,to:"/produk/add",fluid:!0}),l.a.createElement(ne.a,{as:"h1",visible:!0,color:"blue",icon:"sort amount down",header:n,content:r}),l.a.createElement("br",null),d?l.a.createElement($.a,{className:"no-produk-msg",label:"Tidak ada produk yang dapat ditampilkan",value:"Tidak Tersedia",text:!0}):l.a.createElement(g.a,{vertical:!0,loading:o},l.a.createElement(le.a.Group,{centered:!0},c.map((function(a,t){return l.a.createElement(le.a,{key:t,centered:!0,className:"produk-card"},l.a.createElement(f.a,{className:"produk-img",style:{background:"url("+a.img+") no-repeat center"},wrapped:!0,ui:!1}),l.a.createElement(le.a.Content,{textAlign:"left"},l.a.createElement(le.a.Header,null,a.nama),l.a.createElement(le.a.Meta,null,a.produsen),l.a.createElement(le.a.Description,null,l.a.createElement(L.a,{color:"green",as:"h2",textAlign:"right"},"Rp. ",a.harga))),l.a.createElement(le.a.Content,{extra:!0},l.a.createElement(S.a.Group,{fluid:!0,vertical:!0},l.a.createElement(S.a,{fluid:!0,color:"yellow",as:"a",href:"/produk/detail/"+a.id},l.a.createElement(k.a,{name:"edit outline"}),"Edit"),l.a.createElement(S.a,{id:a.id,fluid:!0,basic:!0,color:"orange",onClick:e.handleHapus},l.a.createElement(k.a,{name:"trash alternate outline"}),"Hapus"))))}))),t?l.a.createElement(S.a,{disabled:u,onClick:this.loadMoreProduk,loading:u,content:"Lihat Lainnya",icon:"arrow down",labelPosition:"right",basic:!0,color:"blue"}):l.a.createElement(ne.a,{color:"yellow",icon:"zip",header:"Item terakhir",content:"Tidak tersedia lebih banyak lagi"})))}}]),t}(n.Component),oe=(t(338),function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).modules={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"]]},n.formats=["header","font","background","color","code","size","bold","italic","underline","strike","blockquote","list","bullet","indent","script","align","direction","link","image","code-block","formula","video"],n.handleUpdate=function(e){var a=e.target.header,t=e.target.updateSub.id-100;if(t=n.state.data[t],""===a.value||""===t)a.focus();else if(window.confirm("Anda Yakin memperbarui "+a.value)){n.setState({disabledbutton:!0,updateLoading:!0});var l={id:e.target.id.value,header:a.value,data:t};fetch(x.updatetentang,{method:"post",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),console.log(e.msg),document.location.reload()),n.setState({disabledbutton:!1,updateLoading:!1})})).catch((function(e){alert(e),console.log(e),n.setState({disabledbutton:!1,updateLoading:!1})}))}},n.handleHapus=function(e){if(window.confirm("Anda Yakin menghapus "+e.target.name)){var a=e.target.id;n.setState({disabledbutton:!0,hapusLoading:!0}),fetch(x.deltentang+"?id="+a,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),document.location.reload()),n.setState({disabledbutton:!1,hapusLoading:!1})})).catch((function(e){alert(e),console.log(e),n.setState({disabledbutton:!1,hapusLoading:!1})}))}},n.handleSubmitNew=function(e){var a=e.target.header,t=n.state.newTentang;if(""===a.value||""===t)a.focus();else{n.setState({disabledbutton:!0,addTentangLoading:!0});var l={header:a.value,data:t};fetch(x.addtentang,{method:"post",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){e.error?alert("error - "+e.msg):(alert("berhasil"),console.log(e.msg),document.location.reload()),n.setState({disabledbutton:!1,addTentangLoading:!1})})).catch((function(e){alert(e),console.log(e),n.setState({disabledbutton:!1,addTentangLoading:!1})}))}},n.onChangeTextArea=function(e,a){var t=n.state.data.slice();t[a]!==e&&(t[a]=e,n.setState({data:t}))},n.onChangeNewTextArea=function(e){n.setState({newTentang:e})},n.state={logo:"",loading:!0,tentang:[],newTentang:"",data:[],addTentangLoading:!1,hapusLoading:!1,updateLoading:!1,disabledbutton:!1},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.title="Tentang desalase.id",O.scroller.scrollTo("divider-page",{duration:800,delay:0,smooth:"easeInOutQuart"}),fetch(x.logo).then((function(e){return e.json()})).then((function(a){e.setState({logo:a})})).catch((function(e){console.log(e)})),fetch(x.tentang,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(a){e.setState({loading:!1,tentang:a}),a.forEach((function(a,t){var n=e.state.data.slice();n[t]=a.data,e.setState({data:n})}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.logo,n=a.loading,r=a.updateLoading,o=a.tentang,i=a.addTentangLoading,c=a.hapusLoading,d=a.disabledbutton;return l.a.createElement(g.a,{style:{zIndex:0},loading:n,vertical:!0,className:"tentang-segment"},n?l.a.createElement("br",null):l.a.createElement("div",null,l.a.createElement(f.a,{centered:!0,size:"medium",src:t}),l.a.createElement("br",null),l.a.createElement(s.a,{textAlign:"justified"},o.map((function(a,t){return l.a.createElement("div",null,l.a.createElement(D.a,{onSubmit:e.handleUpdate},l.a.createElement(D.a.Field,{style:{display:"none"}},l.a.createElement(b.a,{name:"id",disabled:!0,value:a.id})),l.a.createElement(D.a.Field,null,l.a.createElement(b.a,{name:"header",disabled:d,id:"header_"+a.id,label:"Header",defaultValue:a.header})),l.a.createElement(D.a.Field,null,l.a.createElement(Z.a,{disabled:d,onChange:function(a){return e.onChangeTextArea(a,t)},defaultValue:a.data,theme:"snow",placeholder:"Deskripsi",modules:e.modules,formats:e.formats})),l.a.createElement(S.a.Group,{fluid:!0},l.a.createElement(S.a,{type:"submit",name:"updateSub",id:t+100,color:"yellow",loading:r,disabled:d,content:"Perbarui"}),l.a.createElement(S.a.Or,{text:"/"}),l.a.createElement(S.a,{color:"red",id:a.id,name:a.header,loading:c,disabled:d,onClick:e.handleHapus,content:"Hapus"}))),l.a.createElement(y.a,null),l.a.createElement("br",null))})),l.a.createElement("br",null),l.a.createElement(L.a,{textAlign:"center"},"Tambah"),l.a.createElement(D.a,{onSubmit:this.handleSubmitNew,method:"post"},l.a.createElement(D.a.Field,null,l.a.createElement(b.a,{disabled:d,name:"header",label:"Header"})),l.a.createElement(D.a.Field,null,l.a.createElement(Z.a,{disabled:d,onChange:this.onChangeNewTextArea,theme:"snow",placeholder:"Deskripsi",modules:this.modules,formats:this.formats})),l.a.createElement(S.a,{type:"submit",disabled:d,loading:i,fluid:!0,basic:!0,color:"blue",content:"Tambah"})))))}}]),t}(n.Component));var ie=function(){return l.a.createElement(i.a,null,l.a.createElement(G,null,l.a.createElement(c.d,null,l.a.createElement(c.b,{exact:!0,path:"/",component:function(){return l.a.createElement(re,{makanan:!0,home:!0})}}),l.a.createElement(c.b,{path:"/beranda",component:function(){return l.a.createElement(re,{makanan:!0,home:!0})}}),l.a.createElement(c.b,{path:"/tentang",component:oe}),l.a.createElement(c.b,{exact:!0,path:"/etalase",component:function(){return l.a.createElement(re,{makanan:!0})}}),l.a.createElement(c.b,{path:"/etalase/jasa",component:function(){return l.a.createElement(re,{jasa:!0})}}),l.a.createElement(c.b,{path:"/etalase/konveksi",component:function(){return l.a.createElement(re,{konveksi:!0})}}),l.a.createElement(c.b,{exact:!0,path:"/etalase/umkm/",component:function(){return l.a.createElement(re,{makanan:!0})}}),l.a.createElement(c.b,{path:"/etalase/umkm/makanan",component:function(){return l.a.createElement(re,{makanan:!0})}}),l.a.createElement(c.b,{path:"/etalase/umkm/minuman",component:function(){return l.a.createElement(re,{minuman:!0})}}),l.a.createElement(c.b,{path:"/etalase/umkm/lainya",component:function(){return l.a.createElement(re,{lain:!0})}}),l.a.createElement(c.b,{exact:!0,path:"/etalase/pertanian/",component:function(){return l.a.createElement(re,{buah:!0})}}),l.a.createElement(c.b,{path:"/etalase/pertanian/buah",component:function(){return l.a.createElement(re,{buah:!0})}}),l.a.createElement(c.b,{path:"/etalase/pertanian/tanaman",component:function(){return l.a.createElement(re,{tanaman:!0})}}),l.a.createElement(c.b,{path:"/etalase/pertanian/hewani",component:function(){return l.a.createElement(re,{hewani:!0})}}),l.a.createElement(c.b,{exact:!0,path:"/etalase/tags",component:function(){return l.a.createElement(re,{fav:!0})}}),l.a.createElement(c.b,{path:"/etalase/tags/:tag",component:re}),l.a.createElement(c.b,{exact:!0,path:"/etalase/cari",component:function(){return l.a.createElement(re,{fav:!0})}}),l.a.createElement(c.b,{path:"/etalase/cari/:key",component:re}),l.a.createElement(c.b,{exact:!0,path:"/produk/detail",component:ee}),l.a.createElement(c.b,{exact:!0,path:"/produk/add",component:ae}),l.a.createElement(c.b,{path:"/produk/detail/:id",component:ee}),l.a.createElement(c.b,{path:"*",component:function(){return l.a.createElement(te,{error:"404",suberror:"halaman yang anda tuju tidak tersedia"})}}))))},ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function se(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(l.a.createElement(ie,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");ce?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):se(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):se(a,e)}))}}()}},[[212,1,2]]]);
//# sourceMappingURL=main.37794d03.chunk.js.map