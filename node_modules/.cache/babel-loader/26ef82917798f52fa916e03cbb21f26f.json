{"ast":null,"code":"var _jsxFileName = \"/Users/kalagemet/Data/desalase.id/website/cms/src/assets/page/Add.js\";\nimport React, { Component } from 'react';\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport { Button, Container, Divider, Dropdown, Form, Grid, Header, Input, Segment } from 'semantic-ui-react';\nimport apiData from '../../data/api-get';\nimport { scroller } from 'react-scroll';\nimport ReactQuill from 'react-quill';\n\nclass Add extends Component {\n  constructor(props) {\n    super(props);\n    this.modules = {\n      toolbar: [['bold', 'italic', 'underline', 'strike'], // toggled buttons\n      // ['blockquote', 'code-block'],                    // blocks\n      // [{ 'header': 1 }, { 'header': 2 }],              // custom button values\n      [{\n        'list': 'ordered'\n      }, {\n        'list': 'bullet'\n      }], // lists\n      // [{ 'script': 'sub'}, { 'script': 'super' }],     // superscript/subscript\n      // [{ 'indent': '-1'}, { 'indent': '+1' }],         // outdent/indent\n      // [{ 'direction': 'rtl' }],                        // text direction\n      // [{ 'size': ['small', false, 'large', 'huge'] }], // custom dropdown\n      // [{ 'header': [1, 2, 3, 4, 5, 6, false] }],       // header dropdown\n      // [{ 'color': [] }, { 'background': [] }],         // dropdown with defaults\n      // [{ 'font': [] }],                                // font family\n      [{\n        'align': []\n      }] // text align\n      // ['clean'],                                       // remove formatting\n      ]\n    };\n    this.formats = ['header', 'font', 'background', 'color', 'code', 'size', 'bold', 'italic', 'underline', 'strike', 'blockquote', 'list', 'bullet', 'indent', 'script', 'align', 'direction', 'link', 'image', 'code-block', 'formula', 'video'];\n\n    this.handleUpload = e => {\n      if (e.target.nama.value === '' || e.target.produsen.value === '' || this.state.kategoriSelected === '' || this.state.deskripsi === '' || this.state.tagSelected === '' || e.target.img.files.length === 0 || e.target.harga.value === 0 || e.target.wa.value === '' || e.target.tokped.value === '' || e.target.shopee.value === '') {\n        alert('form tidak lengkap');\n        e.target.nama.focus();\n      } else {\n        this.setState({\n          loading: true,\n          disabled: true\n        });\n        const fromData = new FormData();\n        fromData.append('nama', e.target.nama.value);\n        fromData.append('desk', this.state.deskripsi);\n        fromData.append('img[]', e.target.img.files);\n        fromData.append('produsen', e.target.produsen.value);\n        fromData.append('harga', e.target.harga.value);\n        fromData.append('url', e.target.wa.value + '|' + e.target.tokped.value + '|' + e.target.shopee.value);\n        fromData.append('tags', this.state.tagSelected);\n        fromData.append('id_kategori', this.state.kategoriSelected);\n        fetch(apiData.addProduk, {\n          method: 'POST',\n          body: fromData\n        }).then(response => response.json()).then(response => {\n          if (!response.error) {\n            alert('berhasil');\n            console.log(response.msg);\n          } else {\n            alert('error - ' + response.msg);\n          }\n\n          this.setState({\n            loading: false,\n            disabled: false\n          });\n        }).catch(err => {\n          console.log(err);\n          this.setState({\n            loading: false,\n            disabled: false\n          });\n        });\n      }\n    };\n\n    this.state = {\n      loading: false,\n      disabled: false,\n      harga: '',\n      kategori: [],\n      spiner: true,\n      tags: [],\n      tagSelected: '',\n      kategoriSelected: 0,\n      deskripsi: ''\n    };\n  }\n\n  componentDidMount() {\n    this.scrollTop();\n    document.title = 'Tambah Produk | desalase.id';\n    fetch(apiData.getKategori).then(response => response.json()).then(response => {\n      if (response.error) {\n        alert('gagal mengambil kategori');\n      } else {\n        this.setState({\n          kategori: response.data,\n          spiner: false\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n    fetch(apiData.getTags).then(response => response.json()).then(response => {\n      if (response.error) {\n        alert('gagal mengambil tags');\n      } else {\n        this.setState({\n          tags: response.data,\n          spiner: false\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  scrollTop() {\n    scroller.scrollTo('divider-page', {\n      duration: 800,\n      delay: 0,\n      smooth: \"easeInOutQuart\"\n    });\n  }\n\n  render() {\n    const settings = {\n      dots: true,\n      autoplay: false,\n      infinite: true,\n      slidesToShow: 1,\n      slidesToScroll: 1\n    };\n    const {\n      harga,\n      loading,\n      tags,\n      spiner,\n      kategori,\n      disabled\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Segment, {\n      loading: loading,\n      vertical: true,\n      textAlign: \"left\",\n      className: \"detail-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleUpload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      className: \"detail-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Column, {\n      mobile: 16,\n      tablet: 6,\n      computer: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Segment, {\n      style: {\n        height: '300px'\n      },\n      className: \"detail-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      name: \"img\",\n      multiple: true,\n      input: {\n        accept: \"image/x-png,image/gif,image/jpeg\"\n      },\n      type: \"file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      disabled: disabled,\n      loading: spiner,\n      placeholder: \"tags\",\n      fluid: true,\n      search: true,\n      selection: true,\n      options: tags,\n      multiple: true,\n      allowAdditions: true,\n      onChange: (e, value) => {\n        var tmp = '';\n\n        for (let i = 0; i < value.value.length; i++) {\n          tmp = tmp + value.value[i];\n\n          if (i !== value.value.length - 1) {\n            tmp = tmp + '|';\n          }\n        }\n\n        this.setState({\n          tagSelected: tmp\n        });\n      },\n      onAddItem: (e, d) => {\n        const tmp = tags;\n        tmp.push({\n          key: d.value,\n          text: d.value,\n          value: d.value\n        });\n        this.setState({\n          tags: tmp\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(Grid.Column, {\n      mobile: 16,\n      tablet: 10,\n      computer: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      className: \"detail-deskripsi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      name: \"nama\",\n      fluid: true,\n      placeholder: \"Kopi Bubuk\",\n      label: \"Nama Produk\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      fluid: true,\n      name: \"produsen\",\n      placeholder: \"KWT Muda Mudi\",\n      label: \"Produsen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      onChange: (e, value) => {\n        this.setState({\n          kategoriSelected: value.value\n        });\n      },\n      name: \"kategori\",\n      loading: spiner,\n      placeholder: \"Kategori\",\n      fluid: true,\n      selection: true,\n      options: kategori,\n      disabled: disabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(ReactQuill, {\n      name: \"deskripsi\",\n      theme: \"snow\",\n      placeholder: \"Deskripsi\",\n      onChange: e => this.setState({\n        deskripsi: e\n      }),\n      modules: this.modules,\n      formats: this.formats,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      name: \"harga\",\n      pattern: \"[0-9]*\",\n      fluid: true,\n      placeholder: \"harga\",\n      onChange: e => {\n        const num = e.target.validity.valid ? e.target.value : harga;\n        this.setState({\n          harga: num\n        });\n      },\n      value: harga,\n      label: \"Harga\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      name: \"wa\",\n      placeholder: \"https://wa.me/xxxxxxxx\",\n      fluid: true,\n      label: \"Link Wa\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      name: \"tokped\",\n      fluid: true,\n      placeholder: \"https://tokopedia.com/xxxx\",\n      label: \"Link Tokopedia\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      name: \"shopee\",\n      fluid: true,\n      placeholder: \"https://shopee.com/xxxx\",\n      label: \"Link Shopee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 41\n      }\n    })))), /*#__PURE__*/React.createElement(Container, {\n      className: \"tags-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      disabled: disabled,\n      loading: disabled,\n      type: \"submit\",\n      size: \"big\",\n      fluid: true,\n      icon: \"plus\",\n      content: \"Tambah Produk\",\n      color: \"blue\",\n      labelPosition: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(Divider, {\n      className: \"bootom-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Add;","map":{"version":3,"sources":["/Users/kalagemet/Data/desalase.id/website/cms/src/assets/page/Add.js"],"names":["React","Component","Button","Container","Divider","Dropdown","Form","Grid","Header","Input","Segment","apiData","scroller","ReactQuill","Add","constructor","props","modules","toolbar","formats","handleUpload","e","target","nama","value","produsen","state","kategoriSelected","deskripsi","tagSelected","img","files","length","harga","wa","tokped","shopee","alert","focus","setState","loading","disabled","fromData","FormData","append","fetch","addProduk","method","body","then","response","json","error","console","log","msg","catch","err","kategori","spiner","tags","componentDidMount","scrollTop","document","title","getKategori","data","getTags","scrollTo","duration","delay","smooth","render","settings","dots","autoplay","infinite","slidesToShow","slidesToScroll","height","accept","tmp","i","d","push","key","text","num","validity","valid"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,gCAAP;AACA,OAAO,sCAAP;AACA,SAAUC,MAAV,EAAkBC,SAAlB,EAA6BC,OAA7B,EAAsCC,QAAtC,EAAgDC,IAAhD,EAAsDC,IAAtD,EAA4DC,MAA5D,EAAoEC,KAApE,EAA2EC,OAA3E,QAA0F,mBAA1F;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,UAAP,MAAuB,aAAvB;;AAEA,MAAMC,GAAN,SAAkBb,SAAlB,CAA2B;AACvBc,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SAcnBC,OAdmB,GAcT;AACNC,MAAAA,OAAO,EAAG,CACN,CAAC,MAAD,EAAS,QAAT,EAAmB,WAAnB,EAAgC,QAAhC,CADM,EAC2C;AACjD;AACA;AACA,OAAC;AAAE,gBAAQ;AAAV,OAAD,EAAuB;AAAE,gBAAQ;AAAV,OAAvB,CAJM,EAI2C;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAC;AAAE,iBAAS;AAAX,OAAD,CAZM,CAY2C;AACjD;AAbM;AADJ,KAdS;AAAA,SAgCnBC,OAhCmB,GAgCT,CACN,QADM,EACI,MADJ,EACY,YADZ,EAC0B,OAD1B,EACmC,MADnC,EAC2C,MAD3C,EAEN,MAFM,EAEE,QAFF,EAEY,WAFZ,EAEyB,QAFzB,EAEmC,YAFnC,EAGN,MAHM,EAGE,QAHF,EAGY,QAHZ,EAGsB,QAHtB,EAGgC,OAHhC,EAGyC,WAHzC,EAIN,MAJM,EAIE,OAJF,EAIW,YAJX,EAIyB,SAJzB,EAIoC,OAJpC,CAhCS;;AAAA,SA4EnBC,YA5EmB,GA4ELC,CAAD,IAAK;AACd,UAAGA,CAAC,CAACC,MAAF,CAASC,IAAT,CAAcC,KAAd,KAAsB,EAAtB,IACHH,CAAC,CAACC,MAAF,CAASG,QAAT,CAAkBD,KAAlB,KAA0B,EADvB,IAEH,KAAKE,KAAL,CAAWC,gBAAX,KAA8B,EAF3B,IAGH,KAAKD,KAAL,CAAWE,SAAX,KAAuB,EAHpB,IAIH,KAAKF,KAAL,CAAWG,WAAX,KAAyB,EAJtB,IAKHR,CAAC,CAACC,MAAF,CAASQ,GAAT,CAAaC,KAAb,CAAmBC,MAAnB,KAA4B,CALzB,IAMHX,CAAC,CAACC,MAAF,CAASW,KAAT,CAAeT,KAAf,KAAuB,CANpB,IAOHH,CAAC,CAACC,MAAF,CAASY,EAAT,CAAYV,KAAZ,KAAoB,EAPjB,IAQHH,CAAC,CAACC,MAAF,CAASa,MAAT,CAAgBX,KAAhB,KAAwB,EARrB,IASHH,CAAC,CAACC,MAAF,CAASc,MAAT,CAAgBZ,KAAhB,KAAwB,EATxB,EAS2B;AACvBa,QAAAA,KAAK,CAAC,oBAAD,CAAL;AACAhB,QAAAA,CAAC,CAACC,MAAF,CAASC,IAAT,CAAce,KAAd;AACH,OAZD,MAYK;AACD,aAAKC,QAAL,CAAc;AAACC,UAAAA,OAAO,EAAC,IAAT;AAAcC,UAAAA,QAAQ,EAAC;AAAvB,SAAd;AACA,cAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,QAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAuBvB,CAAC,CAACC,MAAF,CAASC,IAAT,CAAcC,KAArC;AACAkB,QAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAuB,KAAKlB,KAAL,CAAWE,SAAlC;AACAc,QAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAwBvB,CAAC,CAACC,MAAF,CAASQ,GAAT,CAAaC,KAArC;AACAW,QAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA2BvB,CAAC,CAACC,MAAF,CAASG,QAAT,CAAkBD,KAA7C;AACAkB,QAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAwBvB,CAAC,CAACC,MAAF,CAASW,KAAT,CAAeT,KAAvC;AACAkB,QAAAA,QAAQ,CAACE,MAAT,CAAgB,KAAhB,EAAsBvB,CAAC,CAACC,MAAF,CAASY,EAAT,CAAYV,KAAZ,GAAkB,GAAlB,GAAsBH,CAAC,CAACC,MAAF,CAASa,MAAT,CAAgBX,KAAtC,GAA4C,GAA5C,GAAgDH,CAAC,CAACC,MAAF,CAASc,MAAT,CAAgBZ,KAAtF;AACAkB,QAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAuB,KAAKlB,KAAL,CAAWG,WAAlC;AACAa,QAAAA,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAA8B,KAAKlB,KAAL,CAAWC,gBAAzC;AACAkB,QAAAA,KAAK,CAAClC,OAAO,CAACmC,SAAT,EAAoB;AACrBC,UAAAA,MAAM,EAAE,MADa;AAErBC,UAAAA,IAAI,EAAEN;AAFe,SAApB,CAAL,CAICO,IAJD,CAIMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAJlB,EAKCF,IALD,CAKOC,QAAQ,IAAG;AACd,cAAG,CAACA,QAAQ,CAACE,KAAb,EAAmB;AACff,YAAAA,KAAK,CAAC,UAAD,CAAL;AACAgB,YAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACK,GAArB;AACH,WAHD,MAGK;AACDlB,YAAAA,KAAK,CAAC,aAAWa,QAAQ,CAACK,GAArB,CAAL;AACH;;AACD,eAAKhB,QAAL,CAAc;AAACC,YAAAA,OAAO,EAAC,KAAT;AAAeC,YAAAA,QAAQ,EAAC;AAAxB,WAAd;AACH,SAbD,EAcCe,KAdD,CAcOC,GAAG,IAAE;AACRJ,UAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACA,eAAKlB,QAAL,CAAc;AAACC,YAAAA,OAAO,EAAC,KAAT;AAAeC,YAAAA,QAAQ,EAAC;AAAxB,WAAd;AACH,SAjBD;AAkBH;AACJ,KAvHkB;;AAEf,SAAKf,KAAL,GAAa;AACTc,MAAAA,OAAO,EAAC,KADC;AAETC,MAAAA,QAAQ,EAAC,KAFA;AAGTR,MAAAA,KAAK,EAAC,EAHG;AAITyB,MAAAA,QAAQ,EAAC,EAJA;AAKTC,MAAAA,MAAM,EAAC,IALE;AAMTC,MAAAA,IAAI,EAAC,EANI;AAOT/B,MAAAA,WAAW,EAAC,EAPH;AAQTF,MAAAA,gBAAgB,EAAC,CARR;AASTC,MAAAA,SAAS,EAAC;AATD,KAAb;AAWH;;AA0BDiC,EAAAA,iBAAiB,GAAE;AACf,SAAKC,SAAL;AACAC,IAAAA,QAAQ,CAACC,KAAT,GAAiB,6BAAjB;AACAnB,IAAAA,KAAK,CAAClC,OAAO,CAACsD,WAAT,CAAL,CACChB,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAEOC,QAAQ,IAAG;AACd,UAAGA,QAAQ,CAACE,KAAZ,EAAkB;AACdf,QAAAA,KAAK,CAAC,0BAAD,CAAL;AACH,OAFD,MAEK;AACD,aAAKE,QAAL,CAAc;AAACmB,UAAAA,QAAQ,EAACR,QAAQ,CAACgB,IAAnB;AAAwBP,UAAAA,MAAM,EAAC;AAA/B,SAAd;AACH;AACJ,KARD,EASCH,KATD,CASOC,GAAG,IAAE;AACRJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACH,KAXD;AAYAZ,IAAAA,KAAK,CAAClC,OAAO,CAACwD,OAAT,CAAL,CACClB,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAEOC,QAAQ,IAAG;AACd,UAAGA,QAAQ,CAACE,KAAZ,EAAkB;AACdf,QAAAA,KAAK,CAAC,sBAAD,CAAL;AACH,OAFD,MAEK;AACD,aAAKE,QAAL,CAAc;AAACqB,UAAAA,IAAI,EAACV,QAAQ,CAACgB,IAAf;AAAoBP,UAAAA,MAAM,EAAC;AAA3B,SAAd;AACH;AACJ,KARD,EASCH,KATD,CASOC,GAAG,IAAE;AACRJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACH,KAXD;AAYH;;AAEDK,EAAAA,SAAS,GAAE;AACPlD,IAAAA,QAAQ,CAACwD,QAAT,CAAkB,cAAlB,EAAkC;AAC9BC,MAAAA,QAAQ,EAAE,GADoB;AAE9BC,MAAAA,KAAK,EAAE,CAFuB;AAG9BC,MAAAA,MAAM,EAAE;AAHsB,KAAlC;AAKH;;AA+CDC,EAAAA,MAAM,GAAG;AACL,UAAMC,QAAQ,GAAG;AACbC,MAAAA,IAAI,EAAE,IADO;AAEbC,MAAAA,QAAQ,EAAE,KAFG;AAGbC,MAAAA,QAAQ,EAAE,IAHG;AAIbC,MAAAA,YAAY,EAAE,CAJD;AAKbC,MAAAA,cAAc,EAAE;AALH,KAAjB;AAOA,UAAM;AAAC7C,MAAAA,KAAD;AAAQO,MAAAA,OAAR;AAAgBoB,MAAAA,IAAhB;AAAsBD,MAAAA,MAAtB;AAA8BD,MAAAA,QAA9B;AAAwCjB,MAAAA;AAAxC,QAAoD,KAAKf,KAA/D;AACA,wBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAEc,OAAlB;AAA2B,MAAA,QAAQ,MAAnC;AAAoC,MAAA,SAAS,EAAC,MAA9C;AAAqD,MAAA,SAAS,EAAC,kBAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKpB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,MAAN;AAAa,MAAA,MAAM,EAAE,EAArB;AAAyB,MAAA,MAAM,EAAE,CAAjC;AAAoC,MAAA,QAAQ,EAAE,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAE;AAAC2D,QAAAA,MAAM,EAAC;AAAR,OAAhB;AAAkC,MAAA,SAAS,EAAC,cAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEtC,QAAjB;AAA2B,MAAA,IAAI,EAAC,KAAhC;AAAuC,MAAA,QAAQ,MAA/C;AAAgD,MAAA,KAAK,EAAE;AAACuC,QAAAA,MAAM,EAAC;AAAR,OAAvD;AAAoG,MAAA,IAAI,EAAC,MAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADJ,eAMI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAEvC,QAApB;AAA8B,MAAA,OAAO,EAAEkB,MAAvC;AAA+C,MAAA,WAAW,EAAC,MAA3D;AAAkE,MAAA,KAAK,MAAvE;AAAwE,MAAA,MAAM,MAA9E;AAA+E,MAAA,SAAS,MAAxF;AAAyF,MAAA,OAAO,EAAEC,IAAlG;AAAwG,MAAA,QAAQ,MAAhH;AAAiH,MAAA,cAAc,MAA/H;AACI,MAAA,QAAQ,EAAE,CAACvC,CAAD,EAAGG,KAAH,KAAW;AACjB,YAAIyD,GAAG,GAAC,EAAR;;AACA,aAAI,IAAIC,CAAC,GAAG,CAAZ,EAAcA,CAAC,GAAC1D,KAAK,CAACA,KAAN,CAAYQ,MAA5B,EAAmCkD,CAAC,EAApC,EAAuC;AACnCD,UAAAA,GAAG,GAACA,GAAG,GAACzD,KAAK,CAACA,KAAN,CAAY0D,CAAZ,CAAR;;AACA,cAAGA,CAAC,KAAG1D,KAAK,CAACA,KAAN,CAAYQ,MAAZ,GAAmB,CAA1B,EAA4B;AACxBiD,YAAAA,GAAG,GAAGA,GAAG,GAAC,GAAV;AACH;AACJ;;AACD,aAAK1C,QAAL,CAAc;AAACV,UAAAA,WAAW,EAACoD;AAAb,SAAd;AACH,OAVL;AAWI,MAAA,SAAS,EAAE,CAAC5D,CAAD,EAAG8D,CAAH,KAAO;AACd,cAAMF,GAAG,GAAGrB,IAAZ;AACAqB,QAAAA,GAAG,CAACG,IAAJ,CAAS;AAACC,UAAAA,GAAG,EAACF,CAAC,CAAC3D,KAAP;AAAa8D,UAAAA,IAAI,EAACH,CAAC,CAAC3D,KAApB;AAA0BA,UAAAA,KAAK,EAAC2D,CAAC,CAAC3D;AAAlC,SAAT;AACA,aAAKe,QAAL,CAAc;AAACqB,UAAAA,IAAI,EAACqB;AAAN,SAAd;AACH,OAfL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CANJ,CADJ,eA2BI,oBAAC,IAAD,CAAM,MAAN;AAAa,MAAA,MAAM,EAAE,EAArB;AAAyB,MAAA,MAAM,EAAE,EAAjC;AAAqC,MAAA,QAAQ,EAAE,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,kBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAExC,QAAjB;AAA2B,MAAA,IAAI,EAAC,MAAhC;AAAuC,MAAA,KAAK,MAA5C;AAA6C,MAAA,WAAW,EAAC,YAAzD;AAAsE,MAAA,KAAK,EAAC,aAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,eAII,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEA,QAAjB;AAA2B,MAAA,KAAK,MAAhC;AAAiC,MAAA,IAAI,EAAC,UAAtC;AAAiD,MAAA,WAAW,EAAC,eAA7D;AAA6E,MAAA,KAAK,EAAC,UAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,eAOI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,QAAD;AACI,MAAA,QAAQ,EAAE,CAACpB,CAAD,EAAGG,KAAH,KAAW;AAAC,aAAKe,QAAL,CAAc;AAACZ,UAAAA,gBAAgB,EAACH,KAAK,CAACA;AAAxB,SAAd;AAA8C,OADxE;AAEI,MAAA,IAAI,EAAC,UAFT;AAGI,MAAA,OAAO,EAAEmC,MAHb;AAII,MAAA,WAAW,EAAC,UAJhB;AAKI,MAAA,KAAK,MALT;AAMI,MAAA,SAAS,MANb;AAOI,MAAA,OAAO,EAAED,QAPb;AAQI,MAAA,QAAQ,EAAEjB,QARd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAPJ,eAmBI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AACI,MAAA,IAAI,EAAC,WADT;AAEI,MAAA,KAAK,EAAC,MAFV;AAGI,MAAA,WAAW,EAAC,WAHhB;AAII,MAAA,QAAQ,EAAGpB,CAAD,IAAK,KAAKkB,QAAL,CAAc;AAACX,QAAAA,SAAS,EAACP;AAAX,OAAd,CAJnB;AAKI,MAAA,OAAO,EAAE,KAAKJ,OALlB;AAMI,MAAA,OAAO,EAAE,KAAKE,OANlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAnBJ,eA6BI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEsB,QAAjB;AAA4B,MAAA,IAAI,EAAC,OAAjC;AAAyC,MAAA,OAAO,EAAC,QAAjD;AAA0D,MAAA,KAAK,MAA/D;AAAgE,MAAA,WAAW,EAAC,OAA5E;AAAoF,MAAA,QAAQ,EAAGpB,CAAD,IAAK;AAC/F,cAAMkE,GAAG,GAAIlE,CAAC,CAACC,MAAF,CAASkE,QAAT,CAAkBC,KAAnB,GAA4BpE,CAAC,CAACC,MAAF,CAASE,KAArC,GAA6CS,KAAzD;AACA,aAAKM,QAAL,CAAc;AAACN,UAAAA,KAAK,EAACsD;AAAP,SAAd;AACH,OAHD;AAGG,MAAA,KAAK,EAAEtD,KAHV;AAGiB,MAAA,KAAK,EAAC,OAHvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CA7BJ,CADJ,eAqCI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArCJ,eAsCQ,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEQ,QAAjB;AAA4B,MAAA,IAAI,EAAC,IAAjC;AAAsC,MAAA,WAAW,EAAC,wBAAlD;AAA2E,MAAA,KAAK,MAAhF;AAAiF,MAAA,KAAK,EAAC,SAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAtCR,eAyCQ,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEA,QAAjB;AAA4B,MAAA,IAAI,EAAC,QAAjC;AAA0C,MAAA,KAAK,MAA/C;AAAgD,MAAA,WAAW,EAAC,4BAA5D;AAAyF,MAAA,KAAK,EAAC,gBAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAzCR,eA4CQ,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEA,QAAjB;AAA4B,MAAA,IAAI,EAAC,QAAjC;AAA0C,MAAA,KAAK,MAA/C;AAAgD,MAAA,WAAW,EAAC,yBAA5D;AAAsF,MAAA,KAAK,EAAC,aAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CA5CR,CA3BJ,CADJ,eA6EI,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAEA,QAAlB;AAA4B,MAAA,OAAO,EAAEA,QAArC;AAA+C,MAAA,IAAI,EAAC,QAApD;AAA6D,MAAA,IAAI,EAAC,KAAlE;AAAwE,MAAA,KAAK,MAA7E;AAA8E,MAAA,IAAI,EAAC,MAAnF;AAA0F,MAAA,OAAO,EAAC,eAAlG;AAAkH,MAAA,KAAK,EAAC,MAAxH;AAA+H,MAAA,aAAa,EAAC,OAA7I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CA7EJ,CADJ,CADJ,eAoFI,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,eAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApFJ,CADJ;AAwFH;;AA3NsB;;AA8N3B,eAAe3B,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport {  Button, Container, Divider, Dropdown, Form, Grid, Header, Input, Segment } from 'semantic-ui-react';\nimport apiData from '../../data/api-get';\nimport { scroller } from 'react-scroll';\nimport ReactQuill from 'react-quill';\n\nclass Add extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading:false, \n            disabled:false,\n            harga:'',\n            kategori:[],\n            spiner:true,\n            tags:[],\n            tagSelected:'',\n            kategoriSelected:0,\n            deskripsi:'',\n        }\n    }\n    modules = {\n        toolbar : [\n            ['bold', 'italic', 'underline', 'strike'],       // toggled buttons\n            // ['blockquote', 'code-block'],                    // blocks\n            // [{ 'header': 1 }, { 'header': 2 }],              // custom button values\n            [{ 'list': 'ordered'}, { 'list': 'bullet' }],    // lists\n            // [{ 'script': 'sub'}, { 'script': 'super' }],     // superscript/subscript\n            // [{ 'indent': '-1'}, { 'indent': '+1' }],         // outdent/indent\n            // [{ 'direction': 'rtl' }],                        // text direction\n            // [{ 'size': ['small', false, 'large', 'huge'] }], // custom dropdown\n            // [{ 'header': [1, 2, 3, 4, 5, 6, false] }],       // header dropdown\n            // [{ 'color': [] }, { 'background': [] }],         // dropdown with defaults\n            // [{ 'font': [] }],                                // font family\n            [{ 'align': [] }],                               // text align\n            // ['clean'],                                       // remove formatting\n        ]\n    }\n\n    formats = [\n        'header', 'font', 'background', 'color', 'code', 'size',\n        'bold', 'italic', 'underline', 'strike', 'blockquote',\n        'list', 'bullet', 'indent', 'script', 'align', 'direction',\n        'link', 'image', 'code-block', 'formula', 'video'\n    ]\n\n    componentDidMount(){\n        this.scrollTop();\n        document.title = 'Tambah Produk | desalase.id'\n        fetch(apiData.getKategori)\n        .then(response => response.json())\n        .then( response=> {\n            if(response.error){\n                alert('gagal mengambil kategori')\n            }else{\n                this.setState({kategori:response.data,spiner:false})\n            }\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n        fetch(apiData.getTags)\n        .then(response => response.json())\n        .then( response=> {\n            if(response.error){\n                alert('gagal mengambil tags')\n            }else{\n                this.setState({tags:response.data,spiner:false})\n            }\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    scrollTop(){\n        scroller.scrollTo('divider-page', {\n            duration: 800,\n            delay: 0,\n            smooth: \"easeInOutQuart\",\n        });\n    }\n\n    handleUpload=(e)=>{\n        if(e.target.nama.value==='' ||\n        e.target.produsen.value==='' ||\n        this.state.kategoriSelected==='' ||\n        this.state.deskripsi==='' ||\n        this.state.tagSelected==='' ||\n        e.target.img.files.length===0 ||\n        e.target.harga.value===0 ||\n        e.target.wa.value==='' ||\n        e.target.tokped.value==='' ||\n        e.target.shopee.value===''){\n            alert('form tidak lengkap')\n            e.target.nama.focus()\n        }else{\n            this.setState({loading:true,disabled:true})\n            const fromData = new FormData()\n            fromData.append('nama',e.target.nama.value)\n            fromData.append('desk',this.state.deskripsi)\n            fromData.append('img[]',e.target.img.files)\n            fromData.append('produsen',e.target.produsen.value)\n            fromData.append('harga',e.target.harga.value)\n            fromData.append('url',e.target.wa.value+'|'+e.target.tokped.value+'|'+e.target.shopee.value)\n            fromData.append('tags',this.state.tagSelected)\n            fromData.append('id_kategori',this.state.kategoriSelected)\n            fetch(apiData.addProduk, {\n                method: 'POST',\n                body: fromData\n            })\n            .then(response => response.json())\n            .then( response=> {\n                if(!response.error){\n                    alert('berhasil')\n                    console.log(response.msg)\n                }else{\n                    alert('error - '+response.msg)\n                }\n                this.setState({loading:false,disabled:false})\n            })\n            .catch(err=>{\n                console.log(err)\n                this.setState({loading:false,disabled:false})\n            })\n        }\n    }\n\n    render() {\n        const settings = {\n            dots: true,\n            autoplay: false,\n            infinite: true,\n            slidesToShow: 1,\n            slidesToScroll: 1\n        };\n        const {harga, loading,tags, spiner, kategori, disabled} = this.state;\n        return (\n            <Container>\n                <Segment loading={loading} vertical textAlign='left' className='detail-container'>\n                    <Form onSubmit={this.handleUpload}>\n                        <Grid className='detail-group'>\n                            <Grid.Column mobile={16} tablet={6} computer={6}>\n                                <Segment style={{height:'300px'}} className='detail-image'>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} name='img'  multiple input={{accept:\"image/x-png,image/gif,image/jpeg\"}} type='file'  />\n                                    </Form.Field>\n                                </Segment>\n                                <Form.Field required>\n                                    <Dropdown disabled={disabled} loading={spiner} placeholder='tags' fluid search selection options={tags} multiple allowAdditions\n                                        onChange={(e,value)=>{\n                                            var tmp=''\n                                            for(let i = 0;i<value.value.length;i++){\n                                                tmp=tmp+value.value[i]\n                                                if(i!==value.value.length-1){\n                                                    tmp = tmp+'|'\n                                                }\n                                            }\n                                            this.setState({tagSelected:tmp})\n                                        }}\n                                        onAddItem={(e,d)=>{\n                                            const tmp = tags\n                                            tmp.push({key:d.value,text:d.value,value:d.value})\n                                            this.setState({tags:tmp})\n                                        }}\n                                    />\n                                </Form.Field>\n                            </Grid.Column>\n                            <Grid.Column mobile={16} tablet={10} computer={10}>\n                                <Header className='detail-deskripsi'>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} name='nama' fluid placeholder='Kopi Bubuk' label='Nama Produk' />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} fluid name='produsen' placeholder='KWT Muda Mudi' label='Produsen' />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Dropdown \n                                            onChange={(e,value)=>{this.setState({kategoriSelected:value.value})}}\n                                            name='kategori' \n                                            loading={spiner} \n                                            placeholder='Kategori' \n                                            fluid \n                                            selection \n                                            options={kategori} \n                                            disabled={disabled} \n                                        />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <ReactQuill \n                                            name='deskripsi'\n                                            theme='snow' \n                                            placeholder='Deskripsi'\n                                            onChange={(e)=>this.setState({deskripsi:e})}\n                                            modules={this.modules}\n                                            formats={this.formats}\n                                        />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Input disabled={disabled}  name='harga' pattern=\"[0-9]*\" fluid placeholder=\"harga\" onChange={(e)=>{\n                                            const num = (e.target.validity.valid) ? e.target.value : harga\n                                            this.setState({harga:num})\n                                        }} value={harga} label='Harga' />\n                                    </Form.Field>\n                                </Header>\n                                <Divider/>\n                                    <Form.Field required>\n                                        <Input disabled={disabled}  name='wa' placeholder='https://wa.me/xxxxxxxx' fluid label='Link Wa' />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Input disabled={disabled}  name='tokped' fluid placeholder='https://tokopedia.com/xxxx' label='Link Tokopedia' />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Input disabled={disabled}  name='shopee' fluid placeholder='https://shopee.com/xxxx' label='Link Shopee' />\n                                    </Form.Field>\n                            </Grid.Column>\n                        </Grid>\n                        <Container className='tags-container'>\n                            <Button disabled={disabled} loading={disabled} type='submit' size='big' fluid icon='plus' content='Tambah Produk' color='blue' labelPosition='right'/>\n                        </Container>\n                    </Form>\n                </Segment>\n                <Divider className='bootom-detail' />\n            </Container>\n        );\n    }\n}\n\nexport default Add;"]},"metadata":{},"sourceType":"module"}