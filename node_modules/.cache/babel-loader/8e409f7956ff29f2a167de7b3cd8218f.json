{"ast":null,"code":"var _jsxFileName = \"/Users/kalagemet/Data/desalase.id/website/cms/src/assets/page/Tentang.js\";\nimport React, { Component } from 'react';\nimport { scroller } from 'react-scroll';\nimport { Button, Container, Divider, Form, Header, Image, Input, Segment, TextArea } from 'semantic-ui-react';\nimport apiData from '../../data/api-get';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\nclass Tentang extends Component {\n  constructor(props) {\n    super(props);\n    this.modules = {\n      toolbar: [['bold', 'italic', 'underline', 'strike'], // toggled buttons\n      ['blockquote', 'code-block'], // blocks\n      // [{ 'header': 1 }, { 'header': 2 }],              // custom button values\n      [{\n        'list': 'ordered'\n      }, {\n        'list': 'bullet'\n      }], // lists\n      // [{ 'script': 'sub'}, { 'script': 'super' }],     // superscript/subscript\n      [{\n        'indent': '-1'\n      }, {\n        'indent': '+1'\n      }], // outdent/indent\n      [{\n        'direction': 'rtl'\n      }], // text direction\n      // [{ 'size': ['small', false, 'large', 'huge'] }], // custom dropdown\n      [{\n        'header': [1, 2, 3, 4, 5, 6, false]\n      }], // header dropdown\n      [{\n        'color': []\n      }, {\n        'background': []\n      }], // dropdown with defaults\n      // [{ 'font': [] }],                                // font family\n      [{\n        'align': []\n      }], // text align\n      ['clean'] // remove formatting\n      ]\n    };\n    this.formats = ['header', 'font', 'background', 'color', 'code', 'size', 'bold', 'italic', 'underline', 'strike', 'blockquote', 'list', 'bullet', 'indent', 'script', 'align', 'direction', 'link', 'image', 'code-block', 'formula', 'video'];\n\n    this.handleUpdate = e => {\n      // var header=e.target.header\n      var data = e.target.updateSub.id - 100;\n      data = this.state.data[data];\n      console.log(data); // if(header.value===''){\n      //     header.focus()\n      // }else if(data.value===''){\n      //     data.focus()\n      // }else{\n      //     var conf = window.confirm('Anda Yakin memperbarui '+header.value)\n      //     if (conf) {\n      //         this.setState({disabledbutton:true,updateLoading:true})\n      //         var dataBody = {\n      //             'id' : e.target.id,\n      //             'header' : header.value,\n      //             'data' : data.value\n      //         }\n      //         fetch(apiData.updatetentang,{\n      //             method:'post',\n      //             headers: {'Content-Type': 'application/json'},\n      //             body : JSON.stringify(dataBody)\n      //         })\n      //         .then(response => response.json())\n      //         .then( response=> {\n      //             if(!response.error){\n      //                 alert('berhasil')\n      //                 console.log(response.msg)\n      //                 document.location.reload()\n      //             }else{\n      //                 alert('error - '+response.msg)\n      //             }\n      //             this.setState({disabledbutton:false,updateLoading:false})\n      //         })\n      //         .catch(err=>{\n      //             alert(err)\n      //             console.log(err)\n      //             this.setState({disabledbutton:false,updateLoading:false})\n      //         })\n      //     }\n      // }\n    };\n\n    this.handleHapus = e => {\n      var conf = window.confirm('Anda Yakin menghapus ' + e.target.name);\n\n      if (conf) {\n        var id = e.target.id;\n        this.setState({\n          disabledbutton: true,\n          hapusLoading: true\n        });\n        fetch(apiData.deltentang + '?id=' + id).then(response => response.json()).then(response => {\n          if (!response.error) {\n            alert('berhasil');\n            document.location.reload();\n          } else {\n            alert('error - ' + response.msg);\n          }\n\n          this.setState({\n            disabledbutton: false,\n            hapusLoading: false\n          });\n        }).catch(err => {\n          alert(err);\n          console.log(err);\n          this.setState({\n            disabledbutton: false,\n            hapusLoading: false\n          });\n        });\n      }\n    };\n\n    this.handleSubmitNew = e => {\n      if (e.target.header.value === '') {\n        e.target.header.focus();\n      } else if (e.target.data.value === '') {\n        e.target.data.focus();\n      } else {\n        this.setState({\n          disabledbutton: true,\n          addTentangLoading: true\n        });\n        var data = {\n          'header': e.target.header.value,\n          'data': e.target.data.value\n        };\n        fetch(apiData.addtentang, {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }).then(response => response.json()).then(response => {\n          if (!response.error) {\n            alert('berhasil');\n            console.log(response.msg);\n            document.location.reload();\n          } else {\n            alert('error - ' + response.msg);\n          }\n\n          this.setState({\n            disabledbutton: false,\n            addTentangLoading: false\n          });\n        }).catch(err => {\n          alert(err);\n          console.log(err);\n          this.setState({\n            disabledbutton: false,\n            addTentangLoading: false\n          });\n        });\n      }\n    };\n\n    this.onChangeTextArea = (e, i) => {\n      const tmp = this.state.data.slice();\n\n      if (tmp[i] !== e.toString('html')) {\n        tmp[i] = e.toString('html');\n        this.setState({\n          data: tmp\n        });\n      }\n    };\n\n    this.state = {\n      logo: '',\n      loading: true,\n      tentang: [],\n      data: [],\n      addTentangLoading: false,\n      hapusLoading: false,\n      updateLoading: false,\n      disabledbutton: false\n    };\n  }\n\n  componentDidMount() {\n    document.title = 'Tentang desalase.id';\n    scroller.scrollTo('divider-page', {\n      duration: 800,\n      delay: 0,\n      smooth: \"easeInOutQuart\"\n    });\n    fetch(apiData.logo).then(response => response.json()).then(response => {\n      this.setState({\n        logo: response\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    fetch(apiData.tentang).then(response => response.json()).then(response => {\n      this.setState({\n        loading: false,\n        tentang: response\n      });\n      response.forEach((d, i) => {\n        const tmp = this.state.data.slice();\n        tmp[i] = d.data;\n        this.setState({\n          data: tmp\n        });\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    const {\n      logo,\n      data,\n      loading,\n      updateLoading,\n      tentang,\n      addTentangLoading,\n      hapusLoading,\n      disabledbutton\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Segment, {\n      style: {\n        zIndex: 0\n      },\n      loading: loading,\n      vertical: true,\n      className: \"tentang-segment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    }, loading ? /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 26\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      centered: true,\n      size: \"medium\",\n      src: logo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      textAlign: \"justified\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    }, tentang.map((d, i) => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      style: {\n        display: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"id\",\n      disabled: true,\n      value: d.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"header\",\n      disabled: disabledbutton,\n      id: 'header_' + d.id,\n      label: \"Header\",\n      defaultValue: d.header,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(ReactQuill, {\n      onChange: e => this.onChangeTextArea(e, i),\n      value: data[i].getContent(),\n      theme: \"snow\",\n      placeholder: \"Deskripsi\",\n      modules: this.modules,\n      formats: this.formats,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Button.Group, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      name: \"updateSub\",\n      id: i + 100,\n      color: \"yellow\",\n      loading: updateLoading,\n      disabled: disabledbutton,\n      content: \"Perbarui\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Button.Or, {\n      text: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      color: \"red\",\n      id: d.id,\n      name: d.header,\n      loading: hapusLoading,\n      disabled: disabledbutton,\n      onClick: this.handleHapus,\n      content: \"Hapus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      textAlign: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 25\n      }\n    }, \"Tambah\"), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmitNew,\n      method: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabledbutton,\n      name: \"header\",\n      label: \"Header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(TextArea, {\n      name: \"data\",\n      style: {\n        minHeight: 200\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      disabled: disabledbutton,\n      loading: addTentangLoading,\n      fluid: true,\n      basic: true,\n      color: \"blue\",\n      content: \"Tambah\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 29\n      }\n    })))));\n  }\n\n}\n\nexport default Tentang;","map":{"version":3,"sources":["/Users/kalagemet/Data/desalase.id/website/cms/src/assets/page/Tentang.js"],"names":["React","Component","scroller","Button","Container","Divider","Form","Header","Image","Input","Segment","TextArea","apiData","ReactQuill","Tentang","constructor","props","modules","toolbar","formats","handleUpdate","e","data","target","updateSub","id","state","console","log","handleHapus","conf","window","confirm","name","setState","disabledbutton","hapusLoading","fetch","deltentang","then","response","json","error","alert","document","location","reload","msg","catch","err","handleSubmitNew","header","value","focus","addTentangLoading","addtentang","method","headers","body","JSON","stringify","onChangeTextArea","i","tmp","slice","toString","logo","loading","tentang","updateLoading","componentDidMount","title","scrollTo","duration","delay","smooth","forEach","d","render","zIndex","map","display","getContent","minHeight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { scroller } from 'react-scroll';\nimport { Button, Container, Divider, Form, Header, Image, Input, Segment, TextArea } from 'semantic-ui-react';\nimport apiData from '../../data/api-get';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\nclass Tentang extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            logo:'',\n            loading:true,\n            tentang:[],\n            data:[],\n            addTentangLoading: false,\n            hapusLoading:false,\n            updateLoading:false,\n            disabledbutton:false\n        }\n    }\n\n    modules = {\n        toolbar : [\n            ['bold', 'italic', 'underline', 'strike'],       // toggled buttons\n            ['blockquote', 'code-block'],                    // blocks\n            // [{ 'header': 1 }, { 'header': 2 }],              // custom button values\n            [{ 'list': 'ordered'}, { 'list': 'bullet' }],    // lists\n            // [{ 'script': 'sub'}, { 'script': 'super' }],     // superscript/subscript\n            [{ 'indent': '-1'}, { 'indent': '+1' }],         // outdent/indent\n            [{ 'direction': 'rtl' }],                        // text direction\n            // [{ 'size': ['small', false, 'large', 'huge'] }], // custom dropdown\n            [{ 'header': [1, 2, 3, 4, 5, 6, false] }],       // header dropdown\n            [{ 'color': [] }, { 'background': [] }],         // dropdown with defaults\n            // [{ 'font': [] }],                                // font family\n            [{ 'align': [] }],                               // text align\n            ['clean'],                                       // remove formatting\n        ]\n    }\n\n    formats = [\n        'header', 'font', 'background', 'color', 'code', 'size',\n        'bold', 'italic', 'underline', 'strike', 'blockquote',\n        'list', 'bullet', 'indent', 'script', 'align', 'direction',\n        'link', 'image', 'code-block', 'formula', 'video'\n    ]\n\n    handleUpdate=(e)=>{\n        // var header=e.target.header\n        var data=e.target.updateSub.id-100\n        data = this.state.data[data]\n        console.log(data)\n        // if(header.value===''){\n        //     header.focus()\n        // }else if(data.value===''){\n        //     data.focus()\n        // }else{\n        //     var conf = window.confirm('Anda Yakin memperbarui '+header.value)\n        //     if (conf) {\n        //         this.setState({disabledbutton:true,updateLoading:true})\n        //         var dataBody = {\n        //             'id' : e.target.id,\n        //             'header' : header.value,\n        //             'data' : data.value\n        //         }\n        //         fetch(apiData.updatetentang,{\n        //             method:'post',\n        //             headers: {'Content-Type': 'application/json'},\n        //             body : JSON.stringify(dataBody)\n        //         })\n        //         .then(response => response.json())\n        //         .then( response=> {\n        //             if(!response.error){\n        //                 alert('berhasil')\n        //                 console.log(response.msg)\n        //                 document.location.reload()\n        //             }else{\n        //                 alert('error - '+response.msg)\n        //             }\n        //             this.setState({disabledbutton:false,updateLoading:false})\n        //         })\n        //         .catch(err=>{\n        //             alert(err)\n        //             console.log(err)\n        //             this.setState({disabledbutton:false,updateLoading:false})\n        //         })\n        //     }\n        // }\n    }\n\n    handleHapus=(e)=>{\n        var conf = window.confirm('Anda Yakin menghapus '+e.target.name)\n        if (conf) {\n            var id = e.target.id\n            this.setState({disabledbutton:true,hapusLoading:true})\n            fetch(apiData.deltentang+'?id='+id)\n            .then(response => response.json())\n            .then( response=> {\n                if(!response.error){\n                    alert('berhasil')\n                    document.location.reload()\n                }else{\n                    alert('error - '+response.msg)\n                }\n                this.setState({disabledbutton:false,hapusLoading:false})\n            })\n            .catch(err=>{\n                alert(err)\n                console.log(err)\n                this.setState({disabledbutton:false,hapusLoading:false})\n            })\n        }\n    }\n\n    handleSubmitNew=(e)=>{\n        if(e.target.header.value ===''){\n            e.target.header.focus()\n        }else if(e.target.data.value === ''){\n            e.target.data.focus()\n        }else{\n            this.setState({disabledbutton:true,addTentangLoading:true})\n            var data = {\n                'header' : e.target.header.value,\n                'data' : e.target.data.value\n            }\n            fetch(apiData.addtentang,{\n                method:'post',\n                headers: {'Content-Type': 'application/json'},\n                body : JSON.stringify(data)\n            })\n            .then(response => response.json())\n            .then( response=> {\n                if(!response.error){\n                    alert('berhasil')\n                    console.log(response.msg)\n                    document.location.reload()\n                }else{\n                    alert('error - '+response.msg)\n                }\n                this.setState({disabledbutton:false,addTentangLoading:false})\n            })\n            .catch(err=>{\n                alert(err)\n                console.log(err)\n                this.setState({disabledbutton:false,addTentangLoading:false})\n            })\n        }\n    }\n    \n    componentDidMount(){\n        document.title = 'Tentang desalase.id'\n        scroller.scrollTo('divider-page',{\n            duration: 800,\n            delay: 0,\n            smooth: \"easeInOutQuart\",\n        })\n        fetch(apiData.logo)\n        .then(response => response.json())\n        .then( response=> {\n            this.setState({logo:response})\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n        fetch(apiData.tentang)\n        .then(response => response.json())\n        .then( response=> {\n            this.setState({loading:false,tentang:response})\n            response.forEach((d,i)=>{\n                const tmp = this.state.data.slice()\n                tmp[i]=d.data\n                this.setState({data:tmp})\n            })\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    onChangeTextArea=(e,i)=>{\n        const tmp = this.state.data.slice()\n        if(tmp[i]!==e.toString('html')){\n            tmp[i]=e.toString('html')\n            this.setState({data:tmp})\n        }\n    }\n\n    render() {\n        const {logo, data, loading, updateLoading, tentang, addTentangLoading, hapusLoading, disabledbutton} = this.state\n        return (\n            <Segment style={{zIndex:0}} loading={loading} vertical className='tentang-segment'>\n                {loading?<br/>:\n                <div>\n                <Image centered size='medium' src={logo} />\n                <br/>\n                <Container textAlign='justified'>\n                    {tentang.map((d,i)=>(\n                        <div>\n                        <Form onSubmit={this.handleUpdate}>\n                            <Form.Field style={{display:'none'}}>\n                                <Input name='id' disabled value={d.id}/>\n                            </Form.Field>\n                            <Form.Field>\n                                <Input name='header' disabled={disabledbutton} id={'header_'+d.id} label='Header'  defaultValue={d.header}/>\n                            </Form.Field>\n                            <Form.Field>\n                                <ReactQuill \n                                    onChange={(e)=>this.onChangeTextArea(e,i)}\n                                    value={data[i].getContent()} \n                                    theme='snow' \n                                    placeholder='Deskripsi'\n                                    modules={this.modules}\n                                    formats={this.formats}\n                                />\n                            </Form.Field>\n                            <Button.Group fluid>\n                                <Button type='submit' name='updateSub' id={i+100} color='yellow' loading={updateLoading} disabled={disabledbutton} content='Perbarui' />\n                                <Button.Or text='/' />\n                                <Button color='red' id={d.id} name={d.header} loading={hapusLoading} disabled={disabledbutton} onClick={this.handleHapus} content='Hapus' />\n                            </Button.Group>\n                        </Form>\n                        <Divider/>\n                        <br/></div>\n                    ))}\n                        <br/>\n                        <Header textAlign='center'>Tambah</Header>\n                        <Form onSubmit={this.handleSubmitNew} method='post'>\n                            <Form.Field>\n                                <Input disabled={disabledbutton} name='header' label='Header'/>\n                            </Form.Field>\n                            <Form.Field>\n                                <TextArea name='data' style={{minHeight:200}}/>\n                            </Form.Field>\n                            <Button disabled={disabledbutton} loading={addTentangLoading} fluid basic color='blue' content='Tambah' />\n                        </Form>\n                </Container>\n                </div>}\n            </Segment>\n        );\n    }\n}\n\nexport default Tentang;"]},"metadata":{},"sourceType":"module"}