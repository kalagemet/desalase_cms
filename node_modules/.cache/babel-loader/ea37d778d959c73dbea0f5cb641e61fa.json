{"ast":null,"code":"import _classCallCheck from\"/Users/kalagemet/Data/desalase.id/website/cms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kalagemet/Data/desalase.id/website/cms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kalagemet/Data/desalase.id/website/cms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kalagemet/Data/desalase.id/website/cms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{scroller}from'react-scroll';import{Button,Container,Divider,Form,Header,Image,Input,Segment}from'semantic-ui-react';import apiData from'../../data/api-get';import ReactQuill from'react-quill';import'react-quill/dist/quill.snow.css';var Tentang=/*#__PURE__*/function(_Component){_inherits(Tentang,_Component);var _super=_createSuper(Tentang);function Tentang(props){var _this;_classCallCheck(this,Tentang);_this=_super.call(this,props);_this.modules={toolbar:[['bold','italic','underline','strike'],// toggled buttons\n['blockquote','code-block'],// blocks\n// [{ 'header': 1 }, { 'header': 2 }],              // custom button values\n[{'list':'ordered'},{'list':'bullet'}],// lists\n// [{ 'script': 'sub'}, { 'script': 'super' }],     // superscript/subscript\n[{'indent':'-1'},{'indent':'+1'}],// outdent/indent\n[{'direction':'rtl'}],// text direction\n// [{ 'size': ['small', false, 'large', 'huge'] }], // custom dropdown\n[{'header':[1,2,3,4,5,6,false]}],// header dropdown\n[{'color':[]},{'background':[]}],// dropdown with defaults\n// [{ 'font': [] }],                                // font family\n[{'align':[]}],// text align\n['clean']// remove formatting\n]};_this.formats=['header','font','background','color','code','size','bold','italic','underline','strike','blockquote','list','bullet','indent','script','align','direction','link','image','code-block','formula','video'];_this.handleUpdate=function(e){var header=e.target.header;var data=e.target.updateSub.id-100;data=_this.state.data[data];if(header.value===''||data===''){header.focus();}else{var conf=window.confirm('Anda Yakin memperbarui '+header.value);if(conf){_this.setState({disabledbutton:true,updateLoading:true});var dataBody={'id':e.target.id.value,'header':header.value,'data':data};fetch(apiData.updatetentang,{method:'post',headers:{'Authorization':'Bearer '+JSON.parse(localStorage.getItem('token')),'Content-Type':'application/json'},body:JSON.stringify(dataBody)}).then(function(response){return response.json();}).then(function(response){if(!response.error){alert('berhasil');console.log(response.msg);document.location.reload();}else{alert('error - '+response.msg);}_this.setState({disabledbutton:false,updateLoading:false});}).catch(function(err){alert(err);console.log(err);_this.setState({disabledbutton:false,updateLoading:false});});}}};_this.handleHapus=function(e){var conf=window.confirm('Anda Yakin menghapus '+e.target.name);if(conf){var id=e.target.id;_this.setState({disabledbutton:true,hapusLoading:true});fetch(apiData.deltentang+'?id='+id,{headers:{'Authorization':'Bearer '+JSON.parse(localStorage.getItem('token'))}}).then(function(response){return response.json();}).then(function(response){if(!response.error){alert('berhasil');document.location.reload();}else{alert('error - '+response.msg);}_this.setState({disabledbutton:false,hapusLoading:false});}).catch(function(err){alert(err);console.log(err);_this.setState({disabledbutton:false,hapusLoading:false});});}};_this.handleSubmitNew=function(e){var header=e.target.header;var dataNew=_this.state.newTentang;if(header.value===''||dataNew===''){header.focus();}else{_this.setState({disabledbutton:true,addTentangLoading:true});var data={'header':header.value,'data':dataNew};fetch(apiData.addtentang,{method:'post',headers:{'Authorization':'Bearer '+JSON.parse(localStorage.getItem('token')),'Content-Type':'application/json'},body:JSON.stringify(data)}).then(function(response){return response.json();}).then(function(response){if(!response.error){alert('berhasil');console.log(response.msg);document.location.reload();}else{alert('error - '+response.msg);}_this.setState({disabledbutton:false,addTentangLoading:false});}).catch(function(err){alert(err);console.log(err);_this.setState({disabledbutton:false,addTentangLoading:false});});}};_this.onChangeTextArea=function(e,i){var tmp=_this.state.data.slice();if(tmp[i]!==e){tmp[i]=e;_this.setState({data:tmp});}};_this.onChangeNewTextArea=function(e){_this.setState({newTentang:e});};_this.state={logo:'',loading:true,tentang:[],newTentang:'',data:[],addTentangLoading:false,hapusLoading:false,updateLoading:false,disabledbutton:false};return _this;}_createClass(Tentang,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;document.title='Tentang desalase.id';scroller.scrollTo('divider-page',{duration:800,delay:0,smooth:\"easeInOutQuart\"});fetch(apiData.logo).then(function(response){return response.json();}).then(function(response){_this2.setState({logo:response});}).catch(function(err){console.log(err);});fetch(apiData.tentang,{headers:{'Authorization':'Bearer '+JSON.parse(localStorage.getItem('token'))}}).then(function(response){return response.json();}).then(function(response){_this2.setState({loading:false,tentang:response});response.forEach(function(d,i){var tmp=_this2.state.data.slice();tmp[i]=d.data;_this2.setState({data:tmp});});}).catch(function(err){console.log(err);});}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,logo=_this$state.logo,loading=_this$state.loading,updateLoading=_this$state.updateLoading,tentang=_this$state.tentang,addTentangLoading=_this$state.addTentangLoading,hapusLoading=_this$state.hapusLoading,disabledbutton=_this$state.disabledbutton;return/*#__PURE__*/React.createElement(Segment,{style:{zIndex:0},loading:loading,vertical:true,className:\"tentang-segment\"},loading?/*#__PURE__*/React.createElement(\"br\",null):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Image,{centered:true,size:\"medium\",src:logo}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Container,{textAlign:\"justified\"},tentang.map(function(d,i){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Form,{onSubmit:_this3.handleUpdate},/*#__PURE__*/React.createElement(Form.Field,{style:{display:'none'}},/*#__PURE__*/React.createElement(Input,{name:\"id\",disabled:true,value:d.id})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(Input,{name:\"header\",disabled:disabledbutton,id:'header_'+d.id,label:\"Header\",defaultValue:d.header})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(ReactQuill,{disabled:disabledbutton,onChange:function onChange(e){return _this3.onChangeTextArea(e,i);},defaultValue:d.data,theme:\"snow\",placeholder:\"Deskripsi\",modules:_this3.modules,formats:_this3.formats})),/*#__PURE__*/React.createElement(Button.Group,{fluid:true},/*#__PURE__*/React.createElement(Button,{type:\"submit\",name:\"updateSub\",id:i+100,color:\"yellow\",loading:updateLoading,disabled:disabledbutton,content:\"Perbarui\"}),/*#__PURE__*/React.createElement(Button.Or,{text:\"/\"}),/*#__PURE__*/React.createElement(Button,{color:\"red\",id:d.id,name:d.header,loading:hapusLoading,disabled:disabledbutton,onClick:_this3.handleHapus,content:\"Hapus\"}))),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(\"br\",null));}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Header,{textAlign:\"center\"},\"Tambah\"),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmitNew,method:\"post\"},/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(Input,{disabled:disabledbutton,name:\"header\",label:\"Header\"})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(ReactQuill,{disabled:disabledbutton,onChange:this.onChangeNewTextArea,theme:\"snow\",placeholder:\"Deskripsi\",modules:this.modules,formats:this.formats})),/*#__PURE__*/React.createElement(Button,{type:\"submit\",disabled:disabledbutton,loading:addTentangLoading,fluid:true,basic:true,color:\"blue\",content:\"Tambah\"})))));}}]);return Tentang;}(Component);export default Tentang;","map":{"version":3,"sources":["/Users/kalagemet/Data/desalase.id/website/cms/src/assets/page/Tentang.js"],"names":["React","Component","scroller","Button","Container","Divider","Form","Header","Image","Input","Segment","apiData","ReactQuill","Tentang","props","modules","toolbar","formats","handleUpdate","e","header","target","data","updateSub","id","state","value","focus","conf","window","confirm","setState","disabledbutton","updateLoading","dataBody","fetch","updatetentang","method","headers","JSON","parse","localStorage","getItem","body","stringify","then","response","json","error","alert","console","log","msg","document","location","reload","catch","err","handleHapus","name","hapusLoading","deltentang","handleSubmitNew","dataNew","newTentang","addTentangLoading","addtentang","onChangeTextArea","i","tmp","slice","onChangeNewTextArea","logo","loading","tentang","title","scrollTo","duration","delay","smooth","forEach","d","zIndex","map","display"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { scroller } from 'react-scroll';\nimport { Button, Container, Divider, Form, Header, Image, Input, Segment } from 'semantic-ui-react';\nimport apiData from '../../data/api-get';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\nclass Tentang extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            logo:'',\n            loading:true,\n            tentang:[],\n            newTentang:'',\n            data:[],\n            addTentangLoading: false,\n            hapusLoading:false,\n            updateLoading:false,\n            disabledbutton:false\n        }\n    }\n\n    modules = {\n        toolbar : [\n            ['bold', 'italic', 'underline', 'strike'],       // toggled buttons\n            ['blockquote', 'code-block'],                    // blocks\n            // [{ 'header': 1 }, { 'header': 2 }],              // custom button values\n            [{ 'list': 'ordered'}, { 'list': 'bullet' }],    // lists\n            // [{ 'script': 'sub'}, { 'script': 'super' }],     // superscript/subscript\n            [{ 'indent': '-1'}, { 'indent': '+1' }],         // outdent/indent\n            [{ 'direction': 'rtl' }],                        // text direction\n            // [{ 'size': ['small', false, 'large', 'huge'] }], // custom dropdown\n            [{ 'header': [1, 2, 3, 4, 5, 6, false] }],       // header dropdown\n            [{ 'color': [] }, { 'background': [] }],         // dropdown with defaults\n            // [{ 'font': [] }],                                // font family\n            [{ 'align': [] }],                               // text align\n            ['clean'],                                       // remove formatting\n        ]\n    }\n\n    formats = [\n        'header', 'font', 'background', 'color', 'code', 'size',\n        'bold', 'italic', 'underline', 'strike', 'blockquote',\n        'list', 'bullet', 'indent', 'script', 'align', 'direction',\n        'link', 'image', 'code-block', 'formula', 'video'\n    ]\n\n    handleUpdate=(e)=>{\n        var header=e.target.header\n        var data=e.target.updateSub.id-100\n        data = this.state.data[data]\n        if(header.value==='' || data===''){\n            header.focus()\n        }else{\n            var conf = window.confirm('Anda Yakin memperbarui '+header.value)\n            if (conf) {\n                this.setState({disabledbutton:true,updateLoading:true})\n                var dataBody = {\n                    'id' : e.target.id.value,\n                    'header' : header.value,\n                    'data' : data\n                }\n                fetch(apiData.updatetentang,{\n                    method:'post',\n                    headers: {\n                        'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n                        'Content-Type': 'application/json'\n                    },\n                    body : JSON.stringify(dataBody)\n                })\n                .then(response => response.json())\n                .then( response=> {\n                    if(!response.error){\n                        alert('berhasil')\n                        console.log(response.msg)\n                        document.location.reload()\n                    }else{\n                        alert('error - '+response.msg)\n                    }\n                    this.setState({disabledbutton:false,updateLoading:false})\n                })\n                .catch(err=>{\n                    alert(err)\n                    console.log(err)\n                    this.setState({disabledbutton:false,updateLoading:false})\n                })\n            }\n        }\n    }\n\n    handleHapus=(e)=>{\n        var conf = window.confirm('Anda Yakin menghapus '+e.target.name)\n        if (conf) {\n            var id = e.target.id\n            this.setState({disabledbutton:true,hapusLoading:true})\n            fetch(apiData.deltentang+'?id='+id,{\n                headers:{\n                    'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n                },\n            })\n            .then(response => response.json())\n            .then( response=> {\n                if(!response.error){\n                    alert('berhasil')\n                    document.location.reload()\n                }else{\n                    alert('error - '+response.msg)\n                }\n                this.setState({disabledbutton:false,hapusLoading:false})\n            })\n            .catch(err=>{\n                alert(err)\n                console.log(err)\n                this.setState({disabledbutton:false,hapusLoading:false})\n            })\n        }\n    }\n\n    handleSubmitNew=(e)=>{\n        var header = e.target.header\n        var dataNew = this.state.newTentang\n        if(header.value ==='' || dataNew===''){\n            header.focus()\n        }else{\n            this.setState({disabledbutton:true,addTentangLoading:true})\n            var data = {\n                'header' : header.value,\n                'data' : dataNew\n            }\n            fetch(apiData.addtentang,{\n                method:'post',\n                headers: {\n                    'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n                    'Content-Type': 'application/json'},\n                body : JSON.stringify(data)\n            })\n            .then(response => response.json())\n            .then( response=> {\n                if(!response.error){\n                    alert('berhasil')\n                    console.log(response.msg)\n                    document.location.reload()\n                }else{\n                    alert('error - '+response.msg)\n                }\n                this.setState({disabledbutton:false,addTentangLoading:false})\n            })\n            .catch(err=>{\n                alert(err)\n                console.log(err)\n                this.setState({disabledbutton:false,addTentangLoading:false})\n            })\n        }\n    }\n    \n    componentDidMount(){\n        document.title = 'Tentang desalase.id'\n        scroller.scrollTo('divider-page',{\n            duration: 800,\n            delay: 0,\n            smooth: \"easeInOutQuart\",\n        })\n        fetch(apiData.logo)\n        .then(response => response.json())\n        .then( response=> {\n            this.setState({logo:response})\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n        fetch(apiData.tentang,{\n            headers:{\n                'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n            }\n        })\n        .then(response => response.json())\n        .then( response=> {\n            this.setState({loading:false,tentang:response})\n            response.forEach((d,i)=>{\n                const tmp = this.state.data.slice()\n                tmp[i]=d.data\n                this.setState({data:tmp})\n            })\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    onChangeTextArea=(e,i)=>{\n        const tmp = this.state.data.slice()\n        if(tmp[i]!==e){\n            tmp[i]=e\n            this.setState({data:tmp})\n        }\n    }\n\n    onChangeNewTextArea=(e)=>{\n        this.setState({newTentang:e})\n    }\n\n    render() {\n        const {logo, loading, updateLoading, tentang, addTentangLoading, hapusLoading, disabledbutton} = this.state\n        return (\n            <Segment style={{zIndex:0}} loading={loading} vertical className='tentang-segment'>\n                {loading?<br/>:\n                <div>\n                <Image centered size='medium' src={logo} />\n                <br/>\n                <Container textAlign='justified'>\n                    {tentang.map((d,i)=>(\n                        <div>\n                        <Form onSubmit={this.handleUpdate}>\n                            <Form.Field style={{display:'none'}}>\n                                <Input name='id' disabled value={d.id}/>\n                            </Form.Field>\n                            <Form.Field>\n                                <Input name='header' disabled={disabledbutton} id={'header_'+d.id} label='Header'  defaultValue={d.header}/>\n                            </Form.Field>\n                            <Form.Field>\n                                <ReactQuill \n                                    disabled={disabledbutton}\n                                    onChange={(e)=>this.onChangeTextArea(e,i)}\n                                    defaultValue={d.data}\n                                    theme='snow' \n                                    placeholder='Deskripsi'\n                                    modules={this.modules}\n                                    formats={this.formats}\n                                />\n                            </Form.Field>\n                            <Button.Group fluid>\n                                <Button type='submit' name='updateSub' id={i+100} color='yellow' loading={updateLoading} disabled={disabledbutton} content='Perbarui' />\n                                <Button.Or text='/' />\n                                <Button color='red' id={d.id} name={d.header} loading={hapusLoading} disabled={disabledbutton} onClick={this.handleHapus} content='Hapus' />\n                            </Button.Group>\n                        </Form>\n                        <Divider/>\n                        <br/></div>\n                    ))}\n                        <br/>\n                        <Header textAlign='center'>Tambah</Header>\n                        <Form onSubmit={this.handleSubmitNew} method='post'>\n                            <Form.Field>\n                                <Input disabled={disabledbutton} name='header' label='Header'/>\n                            </Form.Field>\n                            <Form.Field>\n                                <ReactQuill \n                                    disabled={disabledbutton}\n                                    onChange={this.onChangeNewTextArea}\n                                    theme='snow' \n                                    placeholder='Deskripsi'\n                                    modules={this.modules}\n                                    formats={this.formats}\n                                />\n                            </Form.Field>\n                            <Button type='submit' disabled={disabledbutton} loading={addTentangLoading} fluid basic color='blue' content='Tambah' />\n                        </Form>\n                </Container>\n                </div>}\n            </Segment>\n        );\n    }\n}\n\nexport default Tentang;"]},"metadata":{},"sourceType":"module"}