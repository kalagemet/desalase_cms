{"ast":null,"code":"import _slicedToArray from\"/Users/kalagemet/Data/desalase.id/website/cms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Button,Divider,Header,Icon,Input,Segment}from'semantic-ui-react';import apiData from'../../data/api-get';import Kalatog from'./Katalog';export function Home(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),banner=_useState2[0],setBanner=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),img=_useState4[0],setImg=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),proses=_useState6[0],setProses=_useState6[1];fetch(apiData.bannerImage).then(function(response){return response.json();}).then(function(response){setBanner(response);}).catch(function(err){console.log(err);});return/*#__PURE__*/React.createElement(\"div\",{className:\"page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"banner-image\",style:{backgroundImage:'url('+banner+')'}},/*#__PURE__*/React.createElement(Header,{as:\"h1\"},\"Admin Web Page\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Input,{size:\"big\",type:\"file\",id:\"setB\",className:\"home-search\",input:{accept:'.jpg'},placeholder:\"Upload banner image\",onChange:function onChange(e){return setImg(e.target.files[0]);},action:/*#__PURE__*/React.createElement(Button,{as:\"a\",onClick:function onClick(){if(img&&!proses){setProses(true);var fromData=new FormData();fromData.append('image',img);fetch(apiData.setBanner,{method:'POST',headers:{'Authorization':'Bearer '+JSON.parse(localStorage.getItem('token'))},body:fromData}).then(function(response){return response.json();}).then(function(response){if(!response.error){alert('berhasil');console.log(response.msg);document.location.reload();}else{alert('error - '+response.msg);}setProses(false);}).catch(function(err){console.log(err);setProses(false);});}else{document.getElementById('setB').focus();}},icon:/*#__PURE__*/React.createElement(Icon,{size:\"large\",loading:proses,name:proses?'circle notched':'upload',circular:true,inverted:true,link:true})})})),/*#__PURE__*/React.createElement(Divider,{className:\"divider-page\"}),/*#__PURE__*/React.createElement(Segment,{className:\"page-content\",vertical:true},/*#__PURE__*/React.createElement(Kalatog,null,props.children)));}","map":{"version":3,"sources":["/Users/kalagemet/Data/desalase.id/website/cms/src/assets/page/Home.js"],"names":["React","useState","Button","Divider","Header","Icon","Input","Segment","apiData","Kalatog","Home","props","banner","setBanner","img","setImg","proses","setProses","fetch","bannerImage","then","response","json","catch","err","console","log","backgroundImage","accept","e","target","files","fromData","FormData","append","method","headers","JSON","parse","localStorage","getItem","body","error","alert","msg","document","location","reload","getElementById","focus","children"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Button, Divider, Header, Icon, Input, Segment } from 'semantic-ui-react';\nimport apiData from '../../data/api-get';\nimport Kalatog from './Katalog';\n\nexport function Home(props){\n    const [banner, setBanner] = useState('') \n    const [img, setImg] = useState('') \n    const [proses, setProses] = useState(false) \n    fetch(apiData.bannerImage)\n    .then(response => response.json())\n    .then( response=> {\n        setBanner(response)\n    })\n    .catch(err=>{\n        console.log(err)\n    })\n    return (\n        <div className='page'>\n            <div className='banner-image' style={{backgroundImage:'url('+banner+')'}}>\n                <Header as='h1'>Admin Web Page</Header>\n                <br/>\n                <br/>\n                <Input\n                    size='big'\n                    type='file'\n                    id='setB'\n                    className='home-search'\n                    input={{accept: '.jpg'}}\n                    placeholder='Upload banner image'\n                    onChange={(e)=>setImg(e.target.files[0])}\n                    action={\n                        <Button as='a' onClick={\n                            ()=>{\n                                if (img && !proses) {\n                                    setProses(true)\n                                    const fromData = new FormData()\n                                    fromData.append('image',img)\n                                    fetch(apiData.setBanner, {\n                                        method: 'POST',\n                                        headers:{\n                                            'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n                                        },\n                                        body: fromData\n                                    })\n                                    .then(response => response.json())\n                                    .then( response=> {\n                                        if(!response.error){\n                                            alert('berhasil')\n                                            console.log(response.msg)\n                                            document.location.reload()\n                                        }else{\n                                            alert('error - '+response.msg)\n                                        }\n                                        setProses(false)\n                                    })\n                                    .catch(err=>{\n                                        console.log(err)\n                                        setProses(false)\n                                    })\n                                }else{\n                                    document.getElementById('setB').focus();\n                                }\n                            }\n                        } \n                        icon={<Icon size='large' loading={proses} name={proses ? 'circle notched' : 'upload'} circular inverted link />} />\n                    }\n                />\n            </div>\n            <Divider className='divider-page' />\n            <Segment className='page-content' vertical>\n                <Kalatog>\n                    {props.children}\n                </Kalatog>\n            </Segment>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}