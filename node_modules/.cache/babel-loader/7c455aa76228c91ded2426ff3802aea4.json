{"ast":null,"code":"var _jsxFileName = \"/Users/kalagemet/Data/desalase.id/website/cms/src/assets/page/Produk.js\";\nimport React, { Component } from 'react';\nimport { scroller } from 'react-scroll';\nimport { Button, Card, Container, Header, Icon, Image, Message, Segment, Statistic } from 'semantic-ui-react';\nimport apiData from '../../data/api-get';\nimport { Link } from 'react-router-dom';\n\nclass Produk extends Component {\n  constructor(props) {\n    super(props);\n\n    this.loadMoreProduk = () => {\n      this.setState({\n        loadingMore: true\n      });\n\n      if (this.state.linkMore !== null) {\n        fetch(this.state.linkMore).then(response => response.json()).then(response => {\n          if (response.next_page_url === null) {\n            this.setState({\n              moreProduk: false\n            });\n          } else {\n            this.setState({\n              moreProduk: true,\n              linkMore: response.next_page_url\n            });\n          }\n\n          for (let i = 0; i < response.data.length; i++) {\n            this.state.dataProduk.push(response.data[i]);\n          }\n\n          this.setState({\n            loading: false,\n            loadingMore: false\n          });\n        }).catch(err => {\n          console.log(err);\n          alert(err);\n        });\n      }\n    };\n\n    this.handleHapus = e => {\n      var conf = window.confirm('Anda Yakin menghapus ' + e.target.name);\n\n      if (conf) {\n        var id = e.target.id;\n        this.setState({\n          loading: true\n        });\n        fetch(apiData.hapusproduk + '?id=' + id).then(response => response.json()).then(response => {\n          if (!response.error) {\n            alert('berhasil');\n            document.location.reload();\n          } else {\n            alert('error - ' + response.msg);\n          }\n\n          this.setState({\n            loading: false\n          });\n        }).catch(err => {\n          alert(err);\n          console.log(err);\n          this.setState({\n            loading: false\n          });\n        });\n      }\n    };\n\n    this.state = {\n      dataProduk: [],\n      noProduk: false,\n      loading: true,\n      moreProduk: false,\n      linkMore: '',\n      loadingMore: false,\n      header: 'Menampilkan Produk Populer',\n      content: 'Semoga anda menyukainya'\n    };\n  }\n\n  componentDidMount() {\n    this.filter();\n    document.title = 'Etalase Desa | desalase.id';\n  }\n\n  componentDidUpdate() {\n    document.title = this.state.header + ' - Etalase Desa | desalase.id';\n  }\n\n  getDataProduk(url) {\n    fetch(url).then(response => response.json()).then(response => {\n      if (response.next_page_url === null) {\n        this.setState({\n          moreProduk: false\n        });\n      } else {\n        this.setState({\n          moreProduk: true,\n          linkMore: response.next_page_url\n        });\n      }\n\n      if (response.data.length === 0) {\n        this.setState({\n          noProduk: true,\n          loading: false\n        });\n      } else {\n        this.setState({\n          dataProduk: response.data,\n          loading: false\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        noProduk: true,\n        loading: false\n      });\n    });\n  }\n\n  filter() {\n    let key = '';\n    let tag = '';\n\n    if (this.props.match) {\n      key = this.props.match.params.key;\n      tag = this.props.match.params.tag;\n    }\n\n    if (this.props.makanan) {\n      this.setState({\n        header: 'Menampilkan Produk Makanan',\n        content: 'makanan dari UMKM persembahan desalase.id'\n      });\n      this.getDataProduk(apiData.makanan);\n    } else if (this.props.minuman) {\n      this.setState({\n        header: 'Menampilkan Produk Minuman',\n        content: 'minuman dari UMKM persembahan desalase.id'\n      });\n      this.getDataProduk(apiData.minuman);\n    } else if (this.props.lain) {\n      this.setState({\n        header: 'Menampilkan Produk UMKM Lainya',\n        content: 'lainya dari UMKM persembahan desalase.id'\n      });\n      this.getDataProduk(apiData.lain);\n    } else if (this.props.buah) {\n      this.setState({\n        header: 'Menampilkan Produk Buah',\n        content: 'produk buah segar'\n      });\n      this.getDataProduk(apiData.buah);\n    } else if (this.props.tanaman) {\n      this.setState({\n        header: 'Menampilkan Produk Tanaman',\n        content: 'produk tanaman hasil bumi'\n      });\n      this.getDataProduk(apiData.tanaman);\n    } else if (this.props.hewani) {\n      this.setState({\n        header: 'Menampilkan Produk Hewani',\n        content: 'produk olahan dari hewan'\n      });\n      this.getDataProduk(apiData.hewani);\n    } else if (this.props.jasa) {\n      this.setState({\n        header: 'Menampilkan Produk Jasa',\n        content: 'produk jasa persembahan desalase.id'\n      });\n      this.getDataProduk(apiData.jasa);\n    } else if (this.props.konveksi) {\n      this.setState({\n        header: 'Menampilkan Produk Konveksi',\n        content: 'produk konveksi dari desalase.id'\n      });\n      this.getDataProduk(apiData.konveksi);\n    } else {\n      if (tag) {\n        this.setState({\n          header: 'Produk #' + this.props.match.params.tag,\n          content: 'menampilkan produk yang berhubungan dengan ' + this.props.match.params.tag\n        });\n        this.getDataProduk(apiData.tag + this.props.match.params.tag);\n      } else if (key) {\n        this.setState({\n          header: 'Hasil Pencarian \"' + this.props.match.params.key + '\"',\n          content: 'menampilkan produk yang berhubungan dengan ' + this.props.match.params.key\n        });\n        this.getDataProduk(apiData.cari + this.props.match.params.key);\n      } else {\n        this.getDataProduk(apiData.favorite);\n      }\n    }\n\n    if (!this.props.home) {\n      scroller.scrollTo('divider-page', {\n        duration: 800,\n        delay: 0,\n        smooth: \"easeInOutQuart\"\n      });\n    } // else if (this.props.tentang) {\n    //     scroller.scrollTo('footer-container', {\n    //         duration: 800,\n    //         delay: 0,\n    //         smooth: \"easeInOutQuart\",\n    //     });\n    // }\n\n  }\n\n  render() {\n    const {\n      moreProduk,\n      header,\n      content,\n      loading,\n      dataProduk,\n      noProduk,\n      loadingMore\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      vertical: true,\n      className: \"produk-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Message, {\n      as: \"h1\",\n      visible: true,\n      color: \"blue\",\n      icon: \"sort amount down\",\n      header: header,\n      content: content,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 19\n      }\n    }), noProduk ? /*#__PURE__*/React.createElement(Statistic, {\n      className: \"no-produk-msg\",\n      label: \"Tidak ada produk yang dapat ditampilkan\",\n      value: \"Tidak Tersedia\",\n      text: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(Segment, {\n      vertical: true,\n      loading: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Group, {\n      centered: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, dataProduk.map((d, i) => /*#__PURE__*/React.createElement(Card, {\n      key: i,\n      centered: true,\n      className: \"produk-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      className: \"produk-img\",\n      style: {\n        background: 'url(' + d.img + ') no-repeat center'\n      },\n      wrapped: true,\n      ui: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Card.Content, {\n      textAlign: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 37\n      }\n    }, d.nama), /*#__PURE__*/React.createElement(Card.Meta, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 37\n      }\n    }, d.produsen), /*#__PURE__*/React.createElement(Card.Description, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      color: \"green\",\n      as: \"h2\",\n      textAlign: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 41\n      }\n    }, \"Rp. \", d.harga))), /*#__PURE__*/React.createElement(Card.Content, {\n      extra: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button.Group, {\n      fluid: true,\n      vertical: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      fluid: true,\n      color: \"yellow\",\n      as: \"a\",\n      href: '/produk/detail/' + d.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"edit outline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 45\n      }\n    }), \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n      id: d.id,\n      fluid: true,\n      basic: true,\n      color: \"orange\",\n      onClick: this.handleHapus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"trash alternate outline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 45\n      }\n    }), \"Hapus\")))))), moreProduk ? /*#__PURE__*/React.createElement(Button, {\n      disabled: loadingMore,\n      onClick: this.loadMoreProduk,\n      loading: loadingMore,\n      content: \"Lihat Lainnya\",\n      icon: \"arrow down\",\n      labelPosition: \"right\",\n      basic: true,\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(Message, {\n      color: \"yellow\",\n      icon: \"zip\",\n      header: \"Item terakhir\",\n      content: \"Tidak tersedia lebih banyak lagi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      content: \"Tambah Produk\",\n      as: Link,\n      to: '/produk/add',\n      fluid: true,\n      primary: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Produk;","map":{"version":3,"sources":["/Users/kalagemet/Data/desalase.id/website/cms/src/assets/page/Produk.js"],"names":["React","Component","scroller","Button","Card","Container","Header","Icon","Image","Message","Segment","Statistic","apiData","Link","Produk","constructor","props","loadMoreProduk","setState","loadingMore","state","linkMore","fetch","then","response","json","next_page_url","moreProduk","i","data","length","dataProduk","push","loading","catch","err","console","log","alert","handleHapus","e","conf","window","confirm","target","name","id","hapusproduk","error","document","location","reload","msg","noProduk","header","content","componentDidMount","filter","title","componentDidUpdate","getDataProduk","url","key","tag","match","params","makanan","minuman","lain","buah","tanaman","hewani","jasa","konveksi","cari","favorite","home","scrollTo","duration","delay","smooth","render","map","d","background","img","nama","produsen","harga"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { scroller } from 'react-scroll';\nimport { Button, Card, Container, Header, Icon, Image, Message, Segment, Statistic } from 'semantic-ui-react';\nimport apiData from '../../data/api-get';\nimport { Link } from 'react-router-dom';\n\nclass Produk extends Component{\n    constructor(props) {\n        super(props);\n        this.state = { \n            dataProduk:[],\n            noProduk:false, \n            loading:true, \n            moreProduk: false,\n            linkMore: '',\n            loadingMore: false,\n            header: 'Menampilkan Produk Populer',\n            content:'Semoga anda menyukainya'\n        };\n    }\n    \n    componentDidMount(){\n        this.filter();\n        document.title = 'Etalase Desa | desalase.id'\n    }\n\n    componentDidUpdate(){\n        document.title = this.state.header+' - Etalase Desa | desalase.id'\n    }\n    \n    getDataProduk(url){\n        fetch(url)\n        .then(response => response.json())\n        .then( response=> {\n            if(response.next_page_url===null){\n                this.setState({moreProduk:false})\n            }else{\n                this.setState({moreProduk:true, linkMore:response.next_page_url})\n            }\n            if(response.data.length===0){\n                this.setState({ noProduk:true, loading:false})\n            }else{\n                this.setState({ dataProduk:response.data, loading:false})\n            }\n        })\n        .catch(err=>{\n            console.log(err)\n            this.setState({ noProduk:true, loading:false})\n        })\n    }\n\n    loadMoreProduk = () =>{\n        this.setState({loadingMore:true})\n        if(this.state.linkMore!==null){\n            fetch(this.state.linkMore)\n            .then(response => response.json())\n            .then( response=> {\n                if(response.next_page_url===null){\n                    this.setState({moreProduk:false})\n                }else{\n                    this.setState({\n                        moreProduk:true, \n                        linkMore:response.next_page_url\n                    })\n                }\n                for (let i = 0; i < response.data.length; i++) {\n                    this.state.dataProduk.push(response.data[i])\n                }\n                this.setState({loading:false, loadingMore:false})\n            })\n            .catch(err=>{\n                console.log(err)\n                alert(err)\n            })\n        }\n    }\n    \n    filter(){\n        let key = ''\n        let tag = ''\n        if (this.props.match) {\n            key=this.props.match.params.key \n            tag=this.props.match.params.tag   \n        }\n        if(this.props.makanan) {\n            this.setState({header: 'Menampilkan Produk Makanan',content:'makanan dari UMKM persembahan desalase.id'})\n            this.getDataProduk(apiData.makanan)\n        }else if (this.props.minuman) {\n            this.setState({header: 'Menampilkan Produk Minuman',content:'minuman dari UMKM persembahan desalase.id'})\n            this.getDataProduk(apiData.minuman)\n        }else if (this.props.lain) {\n            this.setState({header: 'Menampilkan Produk UMKM Lainya',content:'lainya dari UMKM persembahan desalase.id'})\n            this.getDataProduk(apiData.lain)\n        }else if (this.props.buah) {\n            this.setState({header: 'Menampilkan Produk Buah',content:'produk buah segar'})\n            this.getDataProduk(apiData.buah)\n        }else if (this.props.tanaman) {\n            this.setState({header: 'Menampilkan Produk Tanaman',content:'produk tanaman hasil bumi'})\n            this.getDataProduk(apiData.tanaman)\n        }else if (this.props.hewani) {\n            this.setState({header: 'Menampilkan Produk Hewani',content:'produk olahan dari hewan'})\n            this.getDataProduk(apiData.hewani)\n        }else if (this.props.jasa) {\n            this.setState({header: 'Menampilkan Produk Jasa',content:'produk jasa persembahan desalase.id'})\n            this.getDataProduk(apiData.jasa)\n        }else if (this.props.konveksi) {\n            this.setState({header: 'Menampilkan Produk Konveksi',content:'produk konveksi dari desalase.id'})\n            this.getDataProduk(apiData.konveksi)\n        }else{\n            if (tag) {\n                this.setState({header: 'Produk #'+this.props.match.params.tag,content:'menampilkan produk yang berhubungan dengan '+this.props.match.params.tag})\n                this.getDataProduk(apiData.tag+this.props.match.params.tag)\n            }else if(key){\n                this.setState({header: 'Hasil Pencarian \"'+this.props.match.params.key+'\"',content:'menampilkan produk yang berhubungan dengan '+this.props.match.params.key})\n                this.getDataProduk(apiData.cari+this.props.match.params.key)\n            }else{\n                this.getDataProduk(apiData.favorite)\n            }\n        }\n        if (!this.props.home) {\n            scroller.scrollTo('divider-page', {\n                duration: 800,\n                delay: 0,\n                smooth: \"easeInOutQuart\",\n            });\n        }\n        // else if (this.props.tentang) {\n        //     scroller.scrollTo('footer-container', {\n        //         duration: 800,\n        //         delay: 0,\n        //         smooth: \"easeInOutQuart\",\n        //     });\n        // }\n    }\n\n    handleHapus=(e)=>{\n        var conf = window.confirm('Anda Yakin menghapus '+e.target.name)\n        if (conf) {\n            var id = e.target.id\n            this.setState({loading:true})\n            fetch(apiData.hapusproduk+'?id='+id)\n            .then(response => response.json())\n            .then( response=> {\n                if(!response.error){\n                    alert('berhasil')\n                    document.location.reload()\n                }else{\n                    alert('error - '+response.msg)\n                }\n                this.setState({loading:false})\n            })\n            .catch(err=>{\n                alert(err)\n                console.log(err)\n                this.setState({loading:false})\n            })\n        }\n    }\n\n    render() {\n        const {\n            moreProduk,\n            header,\n            content,\n            loading,\n            dataProduk,\n            noProduk,\n            loadingMore\n        } = this.state;\n        return (\n            <Container vertical className='produk-container'>\n                <Message as='h1'\n                    visible\n                    color='blue'\n                    icon='sort amount down'\n                    header={header}\n                    content={content}\n                /><br/>\n                {noProduk ? \n                <Statistic className='no-produk-msg' label='Tidak ada produk yang dapat ditampilkan' value='Tidak Tersedia' text /> :\n                <Segment vertical loading={loading}>\n                    <Card.Group centered>\n                        {dataProduk.map((d,i)=>(\n                            <Card key={i} centered className='produk-card'>\n                                <Image className='produk-img' style={{background:'url('+d.img+') no-repeat center'}} wrapped ui={false} />\n                                <Card.Content textAlign='left'>\n                                    <Card.Header>{d.nama}</Card.Header>\n                                    <Card.Meta>{d.produsen}</Card.Meta>\n                                    <Card.Description>\n                                        <Header color='green' as='h2' textAlign='right'>\n                                            Rp. {d.harga}\n                                        </Header> \n                                    </Card.Description>\n                                </Card.Content>\n                                <Card.Content extra>\n                                    <Button.Group fluid vertical>\n                                        <Button fluid color='yellow' as='a' href={'/produk/detail/'+d.id} >\n                                            <Icon name='edit outline' />\n                                            Edit\n                                        </Button>\n                                        <Button id={d.id} fluid basic color='orange' onClick={this.handleHapus} >\n                                            <Icon name='trash alternate outline' />\n                                            Hapus\n                                        </Button>\n                                    </Button.Group>\n                                </Card.Content>\n                            </Card>\n                        ))}\n                    </Card.Group>\n                    {moreProduk ?\n                    <Button disabled={loadingMore} onClick={this.loadMoreProduk} loading={loadingMore} content='Lihat Lainnya' icon='arrow down' labelPosition='right' basic color='blue'/>\n                    :<Message\n                        color='yellow'\n                        icon='zip'\n                        header='Item terakhir'\n                        content='Tidak tersedia lebih banyak lagi'\n                    />}\n                </Segment>}\n                <Button content='Tambah Produk' as={Link} to={'/produk/add'} fluid primary />\n            </Container>\n        );\n    }\n}\n\nexport default Produk;"]},"metadata":{},"sourceType":"module"}