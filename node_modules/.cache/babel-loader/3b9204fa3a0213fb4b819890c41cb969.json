{"ast":null,"code":"var _jsxFileName = \"/Users/kalagemet/Data/desalase.id/website/cms/src/assets/page/Detail.js\";\nimport React, { Component } from 'react';\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport { Button, Container, Divider, Dropdown, Form, Grid, Header, Icon, Input, Segment, Statistic } from 'semantic-ui-react';\nimport apiData from '../../data/api-get';\nimport { scroller } from 'react-scroll';\nimport ReactQuill from 'react-quill';\n\nclass Detail extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleHapus = id => {\n      var conf = window.confirm('Anda Yakin menghapus produk');\n\n      if (conf) {\n        this.setState({\n          loading: true\n        });\n        fetch(apiData.hapusproduk + '?id=' + id, {\n          headers: {\n            'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('token'))\n          }\n        }).then(response => response.json()).then(response => {\n          if (!response.error) {\n            alert('berhasil');\n            document.location.reload();\n          } else {\n            alert('error - ' + response.msg);\n          }\n\n          this.setState({\n            loading: false\n          });\n        }).catch(err => {\n          alert(err);\n          console.log(err);\n          this.setState({\n            loading: false\n          });\n        });\n      }\n    };\n\n    this.handleUpdate = e => {\n      var conf = window.confirm('Anda Yakin  ?');\n\n      if (conf) {\n        if (e.target.nama.value === '' || e.target.produsen.value === '' || e.target.id.value === '' || this.state.kategoriSelected === '' || this.state.deskripsi === '' || this.state.tagSelected === '' || e.target.harga.value === 0 || e.target.wa.value === '' || e.target.tokped.value === '' || e.target.shopee.value === '') {\n          alert('form tidak lengkap');\n          document.location.reload();\n        } else {\n          this.setState({\n            loading: true,\n            disabled: true\n          });\n          const fromData = new FormData();\n          fromData.append('id', e.target.id.value);\n          fromData.append('nama', e.target.nama.value);\n          fromData.append('desk', this.state.deskripsi);\n\n          if (e.target.img.files.length > 0) {\n            for (const file of e.target.img.files) {\n              fromData.append('img[]', file, file.name);\n            }\n          }\n\n          fromData.append('produsen', e.target.produsen.value);\n          fromData.append('harga', e.target.harga.value);\n          fromData.append('url', e.target.wa.value + '|' + e.target.tokped.value + '|' + e.target.shopee.value);\n          fromData.append('tags', this.state.tagSelected);\n          fromData.append('id_kategori', this.state.kategoriSelected);\n          fetch(apiData.uppProduk, {\n            method: 'POST',\n            headers: {\n              'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('token'))\n            },\n            body: fromData\n          }).then(response => response.json()).then(response => {\n            if (!response.error) {\n              alert('berhasil');\n              console.log(response.msg);\n              document.location.reload();\n            } else {\n              alert('error - ' + response.msg);\n            }\n\n            this.setState({\n              loading: false,\n              disabled: false\n            });\n          }).catch(err => {\n            console.log(err);\n            this.setState({\n              loading: false,\n              disabled: false\n            });\n          });\n        }\n      }\n    };\n\n    this.state = {\n      loading: true,\n      noDetail: false,\n      linktree: [],\n      nama: '',\n      produsen: '',\n      id: 0,\n      image: [],\n      harga: '',\n      kategori: [],\n      spiner: true,\n      defaultTag: [],\n      tags: [],\n      tagSelected: '',\n      kategoriSelected: 0,\n      deskripsi: ''\n    };\n  }\n\n  componentDidMount() {\n    const {\n      id\n    } = this.props.match.params;\n    this.setState({\n      id: id\n    });\n    this.scrollTop();\n    fetch(apiData.detail + id).then(response => response.json()).then(response => {\n      if (response.error) {\n        this.setState({\n          noDetail: true,\n          loading: false\n        });\n      } else {\n        console.log(response.tag);\n        this.setState({\n          nama: response.nama,\n          image: response.image,\n          produsen: response.produsen,\n          kategoriSelected: response.id_kategori,\n          deskripsi: response.deskripsi,\n          harga: response.harga.replace(',', ''),\n          defaultTag: response.tags,\n          tagSelected: response.tags,\n          linktree: response.link,\n          loading: false,\n          disabled: false,\n          spiner: false\n        });\n        document.title = this.state.nama + ' - desalase.id';\n      }\n    }).catch(err => {\n      console.log(err);\n      alert(err);\n    });\n    fetch(apiData.getKategori, {\n      headers: {\n        'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('token'))\n      }\n    }).then(response => response.json()).then(response => {\n      if (response.error) {\n        alert('gagal mengambil kategori');\n      } else {\n        this.setState({\n          kategori: response.data,\n          spiner: false\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n    fetch(apiData.getTags, {\n      headers: {\n        'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('token'))\n      }\n    }).then(response => response.json()).then(response => {\n      if (response.error) {// alert('gagal mengambil tags')\n      } else {\n        this.setState({\n          tags: response.data,\n          spiner: false\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  scrollTop() {\n    scroller.scrollTo('divider-page', {\n      duration: 800,\n      delay: 0,\n      smooth: \"easeInOutQuart\"\n    });\n  }\n\n  handleHapusGambar(e, id) {\n    var conf = window.confirm('Anda Yakin menghapus ' + e + ' dari produk?');\n\n    if (conf) {\n      this.setState({\n        disabled: true,\n        loading: true\n      });\n      var data = {\n        'id': id,\n        'data': e\n      };\n      fetch(apiData.hapusGambarProduk, {\n        method: 'post',\n        headers: {\n          'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('token')),\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(response => response.json()).then(response => {\n        if (!response.error) {\n          alert('berhasil');\n          document.location.reload();\n        } else {\n          alert('error - ' + response.msg);\n        }\n\n        this.setState({\n          disabled: true,\n          loading: false\n        });\n      }).catch(err => {\n        alert(err);\n        console.log(err);\n        this.setState({\n          disabled: true,\n          loading: false\n        });\n      });\n    }\n  }\n\n  render() {\n    const {\n      loading,\n      spiner,\n      id,\n      kategori,\n      harga,\n      image,\n      linktree,\n      deskripsi,\n      disabled,\n      tags,\n      kategoriSelected,\n      defaultTag,\n      noDetail,\n      nama,\n      produsen\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 13\n      }\n    }, noDetail ? /*#__PURE__*/React.createElement(Statistic, {\n      className: \"no-produk-msg\",\n      label: \"Tidak ada produk yang dapat ditampilkan\",\n      value: \"Tidak Tersedia\",\n      text: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(Segment, {\n      loading: loading,\n      vertical: true,\n      textAlign: \"left\",\n      className: \"detail-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      className: \"detail-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Column, {\n      mobile: 16,\n      tablet: 6,\n      computer: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Segment, {\n      style: {\n        height: '300px'\n      },\n      className: \"detail-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      style: {\n        display: 'none'\n      },\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: true,\n      name: \"id\",\n      value: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 41\n      }\n    })), image.length > 0 ? image.map((d, i) => /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.handleHapusGambar(d, id),\n      type: \"button\",\n      style: {\n        marginBottom: '5px'\n      },\n      key: i,\n      fluid: true,\n      icon: true,\n      color: \"orange\",\n      labelPosition: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 45\n      }\n    }), \"Hapus Gambar \", i + 1)) : '', /*#__PURE__*/React.createElement(Header, {\n      as: \"h4\",\n      textAlign: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 37\n      }\n    }, \"Tambah Gambar\"), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      name: \"img\",\n      multiple: true,\n      input: {\n        accept: \"image/x-png,image/gif,image/jpeg\"\n      },\n      type: \"file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      disabled: disabled,\n      loading: spiner,\n      placeholder: \"tags\",\n      fluid: true,\n      search: true,\n      selection: true,\n      options: tags,\n      multiple: true,\n      allowAdditions: true,\n      onChange: (e, value) => {\n        var tmp = '';\n\n        for (let i = 0; i < value.value.length; i++) {\n          tmp = tmp + value.value[i];\n\n          if (i !== value.value.length - 1) {\n            tmp = tmp + '|';\n          }\n        }\n\n        this.setState({\n          tagSelected: tmp,\n          defaultTag: value.value\n        });\n      },\n      onAddItem: (e, d) => {\n        const tmp = tags;\n        tmp.push({\n          key: d.value,\n          text: d.value,\n          value: d.value\n        });\n        this.setState({\n          tags: tmp\n        });\n      },\n      value: defaultTag,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(Grid.Column, {\n      mobile: 16,\n      tablet: 10,\n      computer: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      className: \"detail-deskripsi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      defaultValue: nama,\n      name: \"nama\",\n      fluid: true,\n      placeholder: \"Kopi Bubuk\",\n      label: \"Nama Produk\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      defaultValue: produsen,\n      fluid: true,\n      name: \"produsen\",\n      placeholder: \"KWT Muda Mudi\",\n      label: \"Produsen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      onChange: (e, value) => {\n        this.setState({\n          kategoriSelected: value.value\n        });\n      },\n      name: \"kategori\",\n      value: kategoriSelected,\n      loading: spiner,\n      placeholder: \"Kategori\",\n      fluid: true,\n      selection: true,\n      options: kategori,\n      disabled: disabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(ReactQuill, {\n      name: \"deskripsi\",\n      theme: \"snow\",\n      placeholder: \"Deskripsi\",\n      onChange: e => this.setState({\n        deskripsi: e\n      }),\n      value: deskripsi,\n      modules: this.modules,\n      formats: this.formats,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      name: \"harga\",\n      pattern: \"[0-9]*\",\n      fluid: true,\n      placeholder: \"harga\",\n      onChange: e => {\n        const num = e.target.validity.valid ? e.target.value : harga;\n        this.setState({\n          harga: num\n        });\n      },\n      value: harga,\n      label: \"Harga\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      defaultValue: linktree[0],\n      name: \"wa\",\n      placeholder: \"https://wa.me/xxxxxxxx\",\n      fluid: true,\n      label: \"Link Wa\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      defaultValue: linktree[1],\n      name: \"tokped\",\n      fluid: true,\n      placeholder: \"https://tokopedia.com/xxxx\",\n      label: \"Link Tokopedia\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabled,\n      defaultValue: linktree[2],\n      name: \"shopee\",\n      fluid: true,\n      placeholder: \"https://shopee.com/xxxx\",\n      label: \"Link Shopee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 41\n      }\n    })))), /*#__PURE__*/React.createElement(Container, {\n      className: \"tags-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      disabled: disabled,\n      loading: disabled,\n      type: \"submit\",\n      size: \"big\",\n      fluid: true,\n      icon: \"refresh\",\n      content: \"Update Produk\",\n      color: \"green\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      basic: true,\n      disabled: disabled,\n      onClick: () => this.handleHapus(id),\n      loading: disabled,\n      size: \"big\",\n      fluid: true,\n      icon: \"trash\",\n      content: \"Hapus Produk\",\n      color: \"red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 34\n      }\n    })))), /*#__PURE__*/React.createElement(Divider, {\n      className: \"bootom-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Detail;","map":{"version":3,"sources":["/Users/kalagemet/Data/desalase.id/website/cms/src/assets/page/Detail.js"],"names":["React","Component","Button","Container","Divider","Dropdown","Form","Grid","Header","Icon","Input","Segment","Statistic","apiData","scroller","ReactQuill","Detail","constructor","props","handleHapus","id","conf","window","confirm","setState","loading","fetch","hapusproduk","headers","JSON","parse","localStorage","getItem","then","response","json","error","alert","document","location","reload","msg","catch","err","console","log","handleUpdate","e","target","nama","value","produsen","state","kategoriSelected","deskripsi","tagSelected","harga","wa","tokped","shopee","disabled","fromData","FormData","append","img","files","length","file","name","uppProduk","method","body","noDetail","linktree","image","kategori","spiner","defaultTag","tags","componentDidMount","match","params","scrollTop","detail","tag","id_kategori","replace","link","title","getKategori","data","getTags","scrollTo","duration","delay","smooth","handleHapusGambar","hapusGambarProduk","stringify","render","height","display","map","d","i","marginBottom","accept","tmp","push","key","text","modules","formats","num","validity","valid"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,gCAAP;AACA,OAAO,sCAAP;AACA,SAASC,MAAT,EAAiBC,SAAjB,EAA4BC,OAA5B,EAAqCC,QAArC,EAA+CC,IAA/C,EAAqDC,IAArD,EAA2DC,MAA3D,EAAmEC,IAAnE,EAAyEC,KAAzE,EAAgFC,OAAhF,EAAyFC,SAAzF,QAA0G,mBAA1G;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,UAAP,MAAuB,aAAvB;;AAEA,MAAMC,MAAN,SAAqBf,SAArB,CAA8B;AAC1BgB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA+FnBC,WA/FmB,GA+FNC,EAAD,IAAM;AACd,UAAIC,IAAI,GAAGC,MAAM,CAACC,OAAP,CAAe,6BAAf,CAAX;;AACA,UAAIF,IAAJ,EAAU;AACN,aAAKG,QAAL,CAAc;AAACC,UAAAA,OAAO,EAAC;AAAT,SAAd;AACAC,QAAAA,KAAK,CAACb,OAAO,CAACc,WAAR,GAAoB,MAApB,GAA2BP,EAA5B,EAA+B;AAChCQ,UAAAA,OAAO,EAAC;AACJ,6BAAiB,YAAUC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX;AADvB;AADwB,SAA/B,CAAL,CAKCC,IALD,CAKMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EALlB,EAMCF,IAND,CAMOC,QAAQ,IAAG;AACd,cAAG,CAACA,QAAQ,CAACE,KAAb,EAAmB;AACfC,YAAAA,KAAK,CAAC,UAAD,CAAL;AACAC,YAAAA,QAAQ,CAACC,QAAT,CAAkBC,MAAlB;AACH,WAHD,MAGK;AACDH,YAAAA,KAAK,CAAC,aAAWH,QAAQ,CAACO,GAArB,CAAL;AACH;;AACD,eAAKjB,QAAL,CAAc;AAACC,YAAAA,OAAO,EAAC;AAAT,WAAd;AACH,SAdD,EAeCiB,KAfD,CAeOC,GAAG,IAAE;AACRN,UAAAA,KAAK,CAACM,GAAD,CAAL;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,eAAKnB,QAAL,CAAc;AAACC,YAAAA,OAAO,EAAC;AAAT,WAAd;AACH,SAnBD;AAoBH;AACJ,KAxHkB;;AAAA,SAyHnBqB,YAzHmB,GAyHLC,CAAD,IAAK;AACd,UAAI1B,IAAI,GAAGC,MAAM,CAACC,OAAP,CAAe,eAAf,CAAX;;AACA,UAAIF,IAAJ,EAAU;AACN,YAAG0B,CAAC,CAACC,MAAF,CAASC,IAAT,CAAcC,KAAd,KAAsB,EAAtB,IACHH,CAAC,CAACC,MAAF,CAASG,QAAT,CAAkBD,KAAlB,KAA0B,EADvB,IAEHH,CAAC,CAACC,MAAF,CAAS5B,EAAT,CAAY8B,KAAZ,KAAoB,EAFjB,IAGH,KAAKE,KAAL,CAAWC,gBAAX,KAA8B,EAH3B,IAIH,KAAKD,KAAL,CAAWE,SAAX,KAAuB,EAJpB,IAKH,KAAKF,KAAL,CAAWG,WAAX,KAAyB,EALtB,IAMHR,CAAC,CAACC,MAAF,CAASQ,KAAT,CAAeN,KAAf,KAAuB,CANpB,IAOHH,CAAC,CAACC,MAAF,CAASS,EAAT,CAAYP,KAAZ,KAAoB,EAPjB,IAQHH,CAAC,CAACC,MAAF,CAASU,MAAT,CAAgBR,KAAhB,KAAwB,EARrB,IASHH,CAAC,CAACC,MAAF,CAASW,MAAT,CAAgBT,KAAhB,KAAwB,EATxB,EAS2B;AACvBb,UAAAA,KAAK,CAAC,oBAAD,CAAL;AACAC,UAAAA,QAAQ,CAACC,QAAT,CAAkBC,MAAlB;AACH,SAZD,MAYK;AACD,eAAKhB,QAAL,CAAc;AAACC,YAAAA,OAAO,EAAC,IAAT;AAAcmC,YAAAA,QAAQ,EAAC;AAAvB,WAAd;AACA,gBAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,UAAAA,QAAQ,CAACE,MAAT,CAAgB,IAAhB,EAAqBhB,CAAC,CAACC,MAAF,CAAS5B,EAAT,CAAY8B,KAAjC;AACAW,UAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAuBhB,CAAC,CAACC,MAAF,CAASC,IAAT,CAAcC,KAArC;AACAW,UAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAuB,KAAKX,KAAL,CAAWE,SAAlC;;AACA,cAAGP,CAAC,CAACC,MAAF,CAASgB,GAAT,CAAaC,KAAb,CAAmBC,MAAnB,GAA0B,CAA7B,EAA+B;AAC3B,iBAAI,MAAMC,IAAV,IAAkBpB,CAAC,CAACC,MAAF,CAASgB,GAAT,CAAaC,KAA/B,EAAqC;AACjCJ,cAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAwBI,IAAxB,EAA8BA,IAAI,CAACC,IAAnC;AACH;AACJ;;AACDP,UAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA2BhB,CAAC,CAACC,MAAF,CAASG,QAAT,CAAkBD,KAA7C;AACAW,UAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAwBhB,CAAC,CAACC,MAAF,CAASQ,KAAT,CAAeN,KAAvC;AACAW,UAAAA,QAAQ,CAACE,MAAT,CAAgB,KAAhB,EAAsBhB,CAAC,CAACC,MAAF,CAASS,EAAT,CAAYP,KAAZ,GAAkB,GAAlB,GAAsBH,CAAC,CAACC,MAAF,CAASU,MAAT,CAAgBR,KAAtC,GAA4C,GAA5C,GAAgDH,CAAC,CAACC,MAAF,CAASW,MAAT,CAAgBT,KAAtF;AACAW,UAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAuB,KAAKX,KAAL,CAAWG,WAAlC;AACAM,UAAAA,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAA8B,KAAKX,KAAL,CAAWC,gBAAzC;AACA3B,UAAAA,KAAK,CAACb,OAAO,CAACwD,SAAT,EAAoB;AACrBC,YAAAA,MAAM,EAAE,MADa;AAErB1C,YAAAA,OAAO,EAAC;AACJ,+BAAiB,YAAUC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX;AADvB,aAFa;AAKrBuC,YAAAA,IAAI,EAAEV;AALe,WAApB,CAAL,CAOC5B,IAPD,CAOMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPlB,EAQCF,IARD,CAQOC,QAAQ,IAAG;AACd,gBAAG,CAACA,QAAQ,CAACE,KAAb,EAAmB;AACfC,cAAAA,KAAK,CAAC,UAAD,CAAL;AACAO,cAAAA,OAAO,CAACC,GAAR,CAAYX,QAAQ,CAACO,GAArB;AACAH,cAAAA,QAAQ,CAACC,QAAT,CAAkBC,MAAlB;AACH,aAJD,MAIK;AACDH,cAAAA,KAAK,CAAC,aAAWH,QAAQ,CAACO,GAArB,CAAL;AACH;;AACD,iBAAKjB,QAAL,CAAc;AAACC,cAAAA,OAAO,EAAC,KAAT;AAAemC,cAAAA,QAAQ,EAAC;AAAxB,aAAd;AACH,WAjBD,EAkBClB,KAlBD,CAkBOC,GAAG,IAAE;AACRC,YAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,iBAAKnB,QAAL,CAAc;AAACC,cAAAA,OAAO,EAAC,KAAT;AAAemC,cAAAA,QAAQ,EAAC;AAAxB,aAAd;AACH,WArBD;AAsBH;AACJ;AACJ,KAhLkB;;AAEf,SAAKR,KAAL,GAAa;AACT3B,MAAAA,OAAO,EAAC,IADC;AAET+C,MAAAA,QAAQ,EAAC,KAFA;AAGTC,MAAAA,QAAQ,EAAC,EAHA;AAITxB,MAAAA,IAAI,EAAC,EAJI;AAKTE,MAAAA,QAAQ,EAAC,EALA;AAMT/B,MAAAA,EAAE,EAAC,CANM;AAOTsD,MAAAA,KAAK,EAAC,EAPG;AAQTlB,MAAAA,KAAK,EAAC,EARG;AASTmB,MAAAA,QAAQ,EAAC,EATA;AAUTC,MAAAA,MAAM,EAAC,IAVE;AAWTC,MAAAA,UAAU,EAAC,EAXF;AAYTC,MAAAA,IAAI,EAAC,EAZI;AAaTvB,MAAAA,WAAW,EAAC,EAbH;AAcTF,MAAAA,gBAAgB,EAAC,CAdR;AAeTC,MAAAA,SAAS,EAAC;AAfD,KAAb;AAiBH;;AAEDyB,EAAAA,iBAAiB,GAAE;AACf,UAAM;AAAC3D,MAAAA;AAAD,QAAQ,KAAKF,KAAL,CAAW8D,KAAX,CAAiBC,MAA/B;AACA,SAAKzD,QAAL,CAAc;AAACJ,MAAAA,EAAE,EAACA;AAAJ,KAAd;AACA,SAAK8D,SAAL;AACAxD,IAAAA,KAAK,CAACb,OAAO,CAACsE,MAAR,GAAe/D,EAAhB,CAAL,CACCa,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAEOC,QAAQ,IAAG;AACd,UAAIA,QAAQ,CAACE,KAAb,EAAoB;AAChB,aAAKZ,QAAL,CAAc;AAACgD,UAAAA,QAAQ,EAAC,IAAV;AAAgB/C,UAAAA,OAAO,EAAC;AAAxB,SAAd;AACH,OAFD,MAEK;AACDmB,QAAAA,OAAO,CAACC,GAAR,CAAYX,QAAQ,CAACkD,GAArB;AACA,aAAK5D,QAAL,CAAc;AACVyB,UAAAA,IAAI,EAACf,QAAQ,CAACe,IADJ;AAEVyB,UAAAA,KAAK,EAACxC,QAAQ,CAACwC,KAFL;AAGVvB,UAAAA,QAAQ,EAACjB,QAAQ,CAACiB,QAHR;AAIVE,UAAAA,gBAAgB,EAACnB,QAAQ,CAACmD,WAJhB;AAKV/B,UAAAA,SAAS,EAACpB,QAAQ,CAACoB,SALT;AAMVE,UAAAA,KAAK,EAACtB,QAAQ,CAACsB,KAAT,CAAe8B,OAAf,CAAuB,GAAvB,EAA2B,EAA3B,CANI;AAOVT,UAAAA,UAAU,EAAC3C,QAAQ,CAAC4C,IAPV;AAQVvB,UAAAA,WAAW,EAACrB,QAAQ,CAAC4C,IARX;AASVL,UAAAA,QAAQ,EAACvC,QAAQ,CAACqD,IATR;AAUV9D,UAAAA,OAAO,EAAC,KAVE;AAWVmC,UAAAA,QAAQ,EAAC,KAXC;AAYVgB,UAAAA,MAAM,EAAC;AAZG,SAAd;AAcAtC,QAAAA,QAAQ,CAACkD,KAAT,GAAiB,KAAKpC,KAAL,CAAWH,IAAX,GAAgB,gBAAjC;AACH;AACJ,KAvBD,EAwBCP,KAxBD,CAwBOC,GAAG,IAAE;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAN,MAAAA,KAAK,CAACM,GAAD,CAAL;AACH,KA3BD;AA4BAjB,IAAAA,KAAK,CAACb,OAAO,CAAC4E,WAAT,EAAqB;AACtB7D,MAAAA,OAAO,EAAC;AACJ,yBAAiB,YAAUC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX;AADvB;AADc,KAArB,CAAL,CAKCC,IALD,CAKMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EALlB,EAMCF,IAND,CAMOC,QAAQ,IAAG;AACd,UAAGA,QAAQ,CAACE,KAAZ,EAAkB;AACdC,QAAAA,KAAK,CAAC,0BAAD,CAAL;AACH,OAFD,MAEK;AACD,aAAKb,QAAL,CAAc;AAACmD,UAAAA,QAAQ,EAACzC,QAAQ,CAACwD,IAAnB;AAAwBd,UAAAA,MAAM,EAAC;AAA/B,SAAd;AACH;AACJ,KAZD,EAaClC,KAbD,CAaOC,GAAG,IAAE;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAfD;AAgBAjB,IAAAA,KAAK,CAACb,OAAO,CAAC8E,OAAT,EAAiB;AAClB/D,MAAAA,OAAO,EAAC;AACJ,yBAAiB,YAAUC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX;AADvB;AADU,KAAjB,CAAL,CAKCC,IALD,CAKMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EALlB,EAMCF,IAND,CAMOC,QAAQ,IAAG;AACd,UAAGA,QAAQ,CAACE,KAAZ,EAAkB,CACd;AACH,OAFD,MAEK;AACD,aAAKZ,QAAL,CAAc;AAACsD,UAAAA,IAAI,EAAC5C,QAAQ,CAACwD,IAAf;AAAoBd,UAAAA,MAAM,EAAC;AAA3B,SAAd;AACH;AACJ,KAZD,EAaClC,KAbD,CAaOC,GAAG,IAAE;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAfD;AAgBH;;AAEDuC,EAAAA,SAAS,GAAE;AACPpE,IAAAA,QAAQ,CAAC8E,QAAT,CAAkB,cAAlB,EAAkC;AAC9BC,MAAAA,QAAQ,EAAE,GADoB;AAE9BC,MAAAA,KAAK,EAAE,CAFuB;AAG9BC,MAAAA,MAAM,EAAE;AAHsB,KAAlC;AAKH;;AAsFDC,EAAAA,iBAAiB,CAACjD,CAAD,EAAG3B,EAAH,EAAM;AACnB,QAAIC,IAAI,GAAGC,MAAM,CAACC,OAAP,CAAe,0BAAwBwB,CAAxB,GAA0B,eAAzC,CAAX;;AACA,QAAI1B,IAAJ,EAAU;AACN,WAAKG,QAAL,CAAc;AAACoC,QAAAA,QAAQ,EAAC,IAAV;AAAenC,QAAAA,OAAO,EAAC;AAAvB,OAAd;AACA,UAAIiE,IAAI,GAAG;AACP,cAAOtE,EADA;AAEP,gBAAS2B;AAFF,OAAX;AAIArB,MAAAA,KAAK,CAACb,OAAO,CAACoF,iBAAT,EAA2B;AAC5B3B,QAAAA,MAAM,EAAC,MADqB;AAE5B1C,QAAAA,OAAO,EAAE;AACL,2BAAiB,YAAUC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CADtB;AAEL,0BAAgB;AAFX,SAFmB;AAM5BuC,QAAAA,IAAI,EAAG1C,IAAI,CAACqE,SAAL,CAAeR,IAAf;AANqB,OAA3B,CAAL,CAQCzD,IARD,CAQMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EARlB,EASCF,IATD,CASOC,QAAQ,IAAG;AACd,YAAG,CAACA,QAAQ,CAACE,KAAb,EAAmB;AACfC,UAAAA,KAAK,CAAC,UAAD,CAAL;AACAC,UAAAA,QAAQ,CAACC,QAAT,CAAkBC,MAAlB;AACH,SAHD,MAGK;AACDH,UAAAA,KAAK,CAAC,aAAWH,QAAQ,CAACO,GAArB,CAAL;AACH;;AACD,aAAKjB,QAAL,CAAc;AAACoC,UAAAA,QAAQ,EAAC,IAAV;AAAenC,UAAAA,OAAO,EAAC;AAAvB,SAAd;AACH,OAjBD,EAkBCiB,KAlBD,CAkBOC,GAAG,IAAE;AACRN,QAAAA,KAAK,CAACM,GAAD,CAAL;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,aAAKnB,QAAL,CAAc;AAACoC,UAAAA,QAAQ,EAAC,IAAV;AAAenC,UAAAA,OAAO,EAAC;AAAvB,SAAd;AACH,OAtBD;AAuBH;AACJ;;AAED0E,EAAAA,MAAM,GAAG;AACL,UAAM;AACF1E,MAAAA,OADE;AAEFmD,MAAAA,MAFE;AAGFxD,MAAAA,EAHE;AAIFuD,MAAAA,QAJE;AAKFnB,MAAAA,KALE;AAMFkB,MAAAA,KANE;AAOFD,MAAAA,QAPE;AAQFnB,MAAAA,SARE;AASFM,MAAAA,QATE;AAUFkB,MAAAA,IAVE;AAWFzB,MAAAA,gBAXE;AAYFwB,MAAAA,UAZE;AAaFL,MAAAA,QAbE;AAcFvB,MAAAA,IAdE;AAeFE,MAAAA;AAfE,QAgBF,KAAKC,KAhBT;AAiBA,wBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKoB,QAAQ,gBACT,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,eAArB;AAAqC,MAAA,KAAK,EAAC,yCAA3C;AAAqF,MAAA,KAAK,EAAC,gBAA3F;AAA4G,MAAA,IAAI,MAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADS,gBAGT,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAE/C,OAAlB;AAA2B,MAAA,QAAQ,MAAnC;AAAoC,MAAA,SAAS,EAAC,MAA9C;AAAqD,MAAA,SAAS,EAAC,kBAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKqB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,MAAN;AAAa,MAAA,MAAM,EAAE,EAArB;AAAyB,MAAA,MAAM,EAAE,CAAjC;AAAoC,MAAA,QAAQ,EAAE,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAE;AAACsD,QAAAA,MAAM,EAAC;AAAR,OAAhB;AAAkC,MAAA,SAAS,EAAC,cAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,KAAK,EAAE;AAACC,QAAAA,OAAO,EAAC;AAAT,OAAnB;AAAqC,MAAA,QAAQ,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,MAAf;AAAgB,MAAA,IAAI,EAAC,IAArB;AAA0B,MAAA,KAAK,EAAEjF,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAIMsD,KAAK,CAACR,MAAN,GAAa,CAAd,GAAiBQ,KAAK,CAAC4B,GAAN,CAAU,CAACC,CAAD,EAAGC,CAAH,kBACxB,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,MAAI,KAAKR,iBAAL,CAAuBO,CAAvB,EAAyBnF,EAAzB,CAArB;AAAmD,MAAA,IAAI,EAAC,QAAxD;AAAiE,MAAA,KAAK,EAAE;AAACqF,QAAAA,YAAY,EAAC;AAAd,OAAxE;AAA8F,MAAA,GAAG,EAAED,CAAnG;AAAsG,MAAA,KAAK,MAA3G;AAA4G,MAAA,IAAI,MAAhH;AAAiH,MAAA,KAAK,EAAC,QAAvH;AAAgI,MAAA,aAAa,EAAC,OAA9I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,mBAEkBA,CAAC,GAAC,CAFpB,CADc,CAAjB,GAKE,EATP,eAUI,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,IAAX;AAAgB,MAAA,SAAS,EAAC,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAVJ,eAWI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAE5C,QAAjB;AAA2B,MAAA,IAAI,EAAC,KAAhC;AAAuC,MAAA,QAAQ,MAA/C;AAAgD,MAAA,KAAK,EAAE;AAAC8C,QAAAA,MAAM,EAAC;AAAR,OAAvD;AAAoG,MAAA,IAAI,EAAC,MAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAXJ,CADJ,eAgBI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAE9C,QAApB;AAA8B,MAAA,OAAO,EAAEgB,MAAvC;AAA+C,MAAA,WAAW,EAAC,MAA3D;AAAkE,MAAA,KAAK,MAAvE;AAAwE,MAAA,MAAM,MAA9E;AAA+E,MAAA,SAAS,MAAxF;AAAyF,MAAA,OAAO,EAAEE,IAAlG;AAAwG,MAAA,QAAQ,MAAhH;AAAiH,MAAA,cAAc,MAA/H;AACI,MAAA,QAAQ,EAAE,CAAC/B,CAAD,EAAGG,KAAH,KAAW;AACjB,YAAIyD,GAAG,GAAC,EAAR;;AACA,aAAI,IAAIH,CAAC,GAAG,CAAZ,EAAcA,CAAC,GAACtD,KAAK,CAACA,KAAN,CAAYgB,MAA5B,EAAmCsC,CAAC,EAApC,EAAuC;AACnCG,UAAAA,GAAG,GAACA,GAAG,GAACzD,KAAK,CAACA,KAAN,CAAYsD,CAAZ,CAAR;;AACA,cAAGA,CAAC,KAAGtD,KAAK,CAACA,KAAN,CAAYgB,MAAZ,GAAmB,CAA1B,EAA4B;AACxByC,YAAAA,GAAG,GAAGA,GAAG,GAAC,GAAV;AACH;AACJ;;AACD,aAAKnF,QAAL,CAAc;AAAC+B,UAAAA,WAAW,EAACoD,GAAb;AAAiB9B,UAAAA,UAAU,EAAC3B,KAAK,CAACA;AAAlC,SAAd;AACH,OAVL;AAWI,MAAA,SAAS,EAAE,CAACH,CAAD,EAAGwD,CAAH,KAAO;AACd,cAAMI,GAAG,GAAG7B,IAAZ;AACA6B,QAAAA,GAAG,CAACC,IAAJ,CAAS;AAACC,UAAAA,GAAG,EAACN,CAAC,CAACrD,KAAP;AAAa4D,UAAAA,IAAI,EAACP,CAAC,CAACrD,KAApB;AAA0BA,UAAAA,KAAK,EAACqD,CAAC,CAACrD;AAAlC,SAAT;AACA,aAAK1B,QAAL,CAAc;AAACsD,UAAAA,IAAI,EAAC6B;AAAN,SAAd;AACH,OAfL;AAgBI,MAAA,KAAK,EAAE9B,UAhBX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAhBJ,CADJ,eAsCI,oBAAC,IAAD,CAAM,MAAN;AAAa,MAAA,MAAM,EAAE,EAArB;AAAyB,MAAA,MAAM,EAAE,EAAjC;AAAqC,MAAA,QAAQ,EAAE,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,kBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEjB,QAAjB;AAA2B,MAAA,YAAY,EAAEX,IAAzC;AAA+C,MAAA,IAAI,EAAC,MAApD;AAA2D,MAAA,KAAK,MAAhE;AAAiE,MAAA,WAAW,EAAC,YAA7E;AAA0F,MAAA,KAAK,EAAC,aAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,eAII,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEW,QAAjB;AAA2B,MAAA,YAAY,EAAET,QAAzC;AAAoD,MAAA,KAAK,MAAzD;AAA0D,MAAA,IAAI,EAAC,UAA/D;AAA0E,MAAA,WAAW,EAAC,eAAtF;AAAsG,MAAA,KAAK,EAAC,UAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,eAOI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,QAAD;AACI,MAAA,QAAQ,EAAE,CAACJ,CAAD,EAAGG,KAAH,KAAW;AAAC,aAAK1B,QAAL,CAAc;AAAC6B,UAAAA,gBAAgB,EAACH,KAAK,CAACA;AAAxB,SAAd;AAA8C,OADxE;AAEI,MAAA,IAAI,EAAC,UAFT;AAGI,MAAA,KAAK,EAAEG,gBAHX;AAII,MAAA,OAAO,EAAEuB,MAJb;AAKI,MAAA,WAAW,EAAC,UALhB;AAMI,MAAA,KAAK,MANT;AAOI,MAAA,SAAS,MAPb;AAQI,MAAA,OAAO,EAAED,QARb;AASI,MAAA,QAAQ,EAAEf,QATd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAPJ,eAoBI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AACI,MAAA,IAAI,EAAC,WADT;AAEI,MAAA,KAAK,EAAC,MAFV;AAGI,MAAA,WAAW,EAAC,WAHhB;AAII,MAAA,QAAQ,EAAGb,CAAD,IAAK,KAAKvB,QAAL,CAAc;AAAC8B,QAAAA,SAAS,EAACP;AAAX,OAAd,CAJnB;AAKI,MAAA,KAAK,EAAEO,SALX;AAMI,MAAA,OAAO,EAAE,KAAKyD,OANlB;AAOI,MAAA,OAAO,EAAE,KAAKC,OAPlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CApBJ,eA+BI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEpD,QAAjB;AAA2B,MAAA,IAAI,EAAC,OAAhC;AAAwC,MAAA,OAAO,EAAC,QAAhD;AAAyD,MAAA,KAAK,MAA9D;AAA+D,MAAA,WAAW,EAAC,OAA3E;AAAmF,MAAA,QAAQ,EAAGb,CAAD,IAAK;AAC9F,cAAMkE,GAAG,GAAIlE,CAAC,CAACC,MAAF,CAASkE,QAAT,CAAkBC,KAAnB,GAA4BpE,CAAC,CAACC,MAAF,CAASE,KAArC,GAA6CM,KAAzD;AACA,aAAKhC,QAAL,CAAc;AAACgC,UAAAA,KAAK,EAACyD;AAAP,SAAd;AACH,OAHD;AAGG,MAAA,KAAK,EAAEzD,KAHV;AAGiB,MAAA,KAAK,EAAC,OAHvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CA/BJ,CADJ,eAuCI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvCJ,eAwCQ,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEI,QAAjB;AAA2B,MAAA,YAAY,EAAEa,QAAQ,CAAC,CAAD,CAAjD;AAAsD,MAAA,IAAI,EAAC,IAA3D;AAAgE,MAAA,WAAW,EAAC,wBAA5E;AAAqG,MAAA,KAAK,MAA1G;AAA2G,MAAA,KAAK,EAAC,SAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAxCR,eA2CQ,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEb,QAAjB;AAA2B,MAAA,YAAY,EAAEa,QAAQ,CAAC,CAAD,CAAjD;AAAsD,MAAA,IAAI,EAAC,QAA3D;AAAoE,MAAA,KAAK,MAAzE;AAA0E,MAAA,WAAW,EAAC,4BAAtF;AAAmH,MAAA,KAAK,EAAC,gBAAzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CA3CR,eA8CQ,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEb,QAAjB;AAA2B,MAAA,YAAY,EAAEa,QAAQ,CAAC,CAAD,CAAjD;AAAsD,MAAA,IAAI,EAAC,QAA3D;AAAoE,MAAA,KAAK,MAAzE;AAA0E,MAAA,WAAW,EAAC,yBAAtF;AAAgH,MAAA,KAAK,EAAC,aAAtH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CA9CR,CAtCJ,CADJ,eA0FI,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAEb,QAAlB;AAA4B,MAAA,OAAO,EAAEA,QAArC;AAA+C,MAAA,IAAI,EAAC,QAApD;AAA6D,MAAA,IAAI,EAAC,KAAlE;AAAwE,MAAA,KAAK,MAA7E;AAA8E,MAAA,IAAI,EAAC,SAAnF;AAA6F,MAAA,OAAO,EAAC,eAArG;AAAqH,MAAA,KAAK,EAAC,OAA3H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAES,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,MAA3B;AAA4B,MAAA,QAAQ,EAAEA,QAAtC;AAAgD,MAAA,OAAO,EAAE,MAAI,KAAKzC,WAAL,CAAiBC,EAAjB,CAA7D;AAAmF,MAAA,OAAO,EAAEwC,QAA5F;AAAsG,MAAA,IAAI,EAAC,KAA3G;AAAiH,MAAA,KAAK,MAAtH;AAAuH,MAAA,IAAI,EAAC,OAA5H;AAAoI,MAAA,OAAO,EAAC,cAA5I;AAA2J,MAAA,KAAK,EAAC,KAAjK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFT,CA1FJ,CADJ,CAJJ,eAqGI,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,eAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArGJ,CADJ;AAyGH;;AAjVyB;;AAoV9B,eAAe5C,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport { Button, Container, Divider, Dropdown, Form, Grid, Header, Icon, Input, Segment, Statistic } from 'semantic-ui-react';\nimport apiData from '../../data/api-get';\nimport { scroller } from 'react-scroll';\nimport ReactQuill from 'react-quill';\n\nclass Detail extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading:true, \n            noDetail:false,\n            linktree:[],\n            nama:'',\n            produsen:'',\n            id:0,\n            image:[],\n            harga:'',\n            kategori:[],\n            spiner:true,\n            defaultTag:[],\n            tags:[],\n            tagSelected:'',\n            kategoriSelected:0,\n            deskripsi:'',\n        }\n    }\n\n    componentDidMount(){\n        const {id} =  this.props.match.params;\n        this.setState({id:id})\n        this.scrollTop();\n        fetch(apiData.detail+id)\n        .then(response => response.json())\n        .then( response=> {\n            if (response.error) {\n                this.setState({noDetail:true, loading:false})\n            }else{\n                console.log(response.tag)\n                this.setState({ \n                    nama:response.nama,\n                    image:response.image,\n                    produsen:response.produsen,\n                    kategoriSelected:response.id_kategori,\n                    deskripsi:response.deskripsi,\n                    harga:response.harga.replace(',',''),\n                    defaultTag:response.tags,\n                    tagSelected:response.tags,\n                    linktree:response.link,\n                    loading:false,\n                    disabled:false,\n                    spiner:false,\n                })\n                document.title = this.state.nama+' - desalase.id'\n            }\n        })\n        .catch(err=>{\n            console.log(err)\n            alert(err)\n        })\n        fetch(apiData.getKategori,{\n            headers:{\n                'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n            },\n        })\n        .then(response => response.json())\n        .then( response=> {\n            if(response.error){\n                alert('gagal mengambil kategori')\n            }else{\n                this.setState({kategori:response.data,spiner:false})\n            }\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n        fetch(apiData.getTags,{\n            headers:{\n                'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n            },\n        })\n        .then(response => response.json())\n        .then( response=> {\n            if(response.error){\n                // alert('gagal mengambil tags')\n            }else{\n                this.setState({tags:response.data,spiner:false})\n            }\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    scrollTop(){\n        scroller.scrollTo('divider-page', {\n            duration: 800,\n            delay: 0,\n            smooth: \"easeInOutQuart\",\n        });\n    }\n\n    handleHapus=(id)=>{\n        var conf = window.confirm('Anda Yakin menghapus produk')\n        if (conf) {\n            this.setState({loading:true})\n            fetch(apiData.hapusproduk+'?id='+id,{\n                headers:{\n                    'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n                },\n            })\n            .then(response => response.json())\n            .then( response=> {\n                if(!response.error){\n                    alert('berhasil')\n                    document.location.reload()\n                }else{\n                    alert('error - '+response.msg)\n                }\n                this.setState({loading:false})\n            })\n            .catch(err=>{\n                alert(err)\n                console.log(err)\n                this.setState({loading:false})\n            })\n        }\n    }\n    handleUpdate=(e)=>{\n        var conf = window.confirm('Anda Yakin  ?')\n        if (conf) {\n            if(e.target.nama.value==='' ||\n            e.target.produsen.value==='' ||\n            e.target.id.value==='' ||\n            this.state.kategoriSelected==='' ||\n            this.state.deskripsi==='' ||\n            this.state.tagSelected==='' ||\n            e.target.harga.value===0 ||\n            e.target.wa.value==='' ||\n            e.target.tokped.value==='' ||\n            e.target.shopee.value===''){\n                alert('form tidak lengkap')\n                document.location.reload()\n            }else{\n                this.setState({loading:true,disabled:true})\n                const fromData = new FormData()\n                fromData.append('id',e.target.id.value)\n                fromData.append('nama',e.target.nama.value)\n                fromData.append('desk',this.state.deskripsi)\n                if(e.target.img.files.length>0){\n                    for(const file of e.target.img.files){\n                        fromData.append('img[]',file, file.name)\n                    }\n                }\n                fromData.append('produsen',e.target.produsen.value)\n                fromData.append('harga',e.target.harga.value)\n                fromData.append('url',e.target.wa.value+'|'+e.target.tokped.value+'|'+e.target.shopee.value)\n                fromData.append('tags',this.state.tagSelected)\n                fromData.append('id_kategori',this.state.kategoriSelected)\n                fetch(apiData.uppProduk, {\n                    method: 'POST',\n                    headers:{\n                        'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n                    },\n                    body: fromData\n                })\n                .then(response => response.json())\n                .then( response=> {\n                    if(!response.error){\n                        alert('berhasil')\n                        console.log(response.msg)\n                        document.location.reload()\n                    }else{\n                        alert('error - '+response.msg)\n                    }\n                    this.setState({loading:false,disabled:false})\n                })\n                .catch(err=>{\n                    console.log(err)\n                    this.setState({loading:false,disabled:false})\n                })\n            }\n        }\n    }\n\n\n    handleHapusGambar(e,id){\n        var conf = window.confirm('Anda Yakin menghapus '+e+' dari produk?')\n        if (conf) {\n            this.setState({disabled:true,loading:true})\n            var data = {\n                'id' : id,\n                'data' : e\n            }\n            fetch(apiData.hapusGambarProduk,{\n                method:'post',\n                headers: {\n                    'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n                    'Content-Type': 'application/json'\n                },\n                body : JSON.stringify(data)\n            })\n            .then(response => response.json())\n            .then( response=> {\n                if(!response.error){\n                    alert('berhasil')\n                    document.location.reload()\n                }else{\n                    alert('error - '+response.msg)\n                }\n                this.setState({disabled:true,loading:false})\n            })\n            .catch(err=>{\n                alert(err)\n                console.log(err)\n                this.setState({disabled:true,loading:false})\n            })\n        }\n    }\n\n    render() {\n        const {\n            loading,\n            spiner,\n            id,\n            kategori,\n            harga,\n            image,\n            linktree,\n            deskripsi,\n            disabled,\n            tags,\n            kategoriSelected,\n            defaultTag, \n            noDetail,\n            nama,\n            produsen\n        } = this.state;\n        return (\n            <Container>\n                {noDetail ? \n                <Statistic className='no-produk-msg' label='Tidak ada produk yang dapat ditampilkan' value='Tidak Tersedia' text /> \n                :\n                <Segment loading={loading} vertical textAlign='left' className='detail-container'>\n                    <Form onSubmit={this.handleUpdate}>\n                        <Grid className='detail-group'>\n                            <Grid.Column mobile={16} tablet={6} computer={6}>\n                                <Segment style={{height:'300px'}} className='detail-image'>\n                                    <Form.Field style={{display:'none'}} required>\n                                        <Input disabled name='id' value={id}/>\n                                    </Form.Field>\n                                    {(image.length>0)?image.map((d,i)=>(\n                                        <Button onClick={()=>this.handleHapusGambar(d,id)} type='button' style={{marginBottom:'5px'}} key={i} fluid icon color='orange' labelPosition='right'>\n                                            <Icon name='close'/>\n                                            Hapus Gambar {i+1}\n                                        </Button>\n                                    )):''}\n                                    <Header as='h4' textAlign='center'>Tambah Gambar</Header>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} name='img'  multiple input={{accept:\"image/x-png,image/gif,image/jpeg\"}} type='file'  />\n                                    </Form.Field>\n                                </Segment>\n                                <Form.Field required>\n                                    <Dropdown disabled={disabled} loading={spiner} placeholder='tags' fluid search selection options={tags} multiple allowAdditions\n                                        onChange={(e,value)=>{\n                                            var tmp=''\n                                            for(let i = 0;i<value.value.length;i++){\n                                                tmp=tmp+value.value[i]\n                                                if(i!==value.value.length-1){\n                                                    tmp = tmp+'|'\n                                                }\n                                            }\n                                            this.setState({tagSelected:tmp,defaultTag:value.value})\n                                        }}\n                                        onAddItem={(e,d)=>{\n                                            const tmp = tags\n                                            tmp.push({key:d.value,text:d.value,value:d.value})\n                                            this.setState({tags:tmp})\n                                        }}\n                                        value={defaultTag}\n                                    />\n                                </Form.Field>\n                            </Grid.Column>\n                            <Grid.Column mobile={16} tablet={10} computer={10}>\n                                <Header className='detail-deskripsi'>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} defaultValue={nama} name='nama' fluid placeholder='Kopi Bubuk' label='Nama Produk' />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} defaultValue={produsen}  fluid name='produsen' placeholder='KWT Muda Mudi' label='Produsen' />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Dropdown \n                                            onChange={(e,value)=>{this.setState({kategoriSelected:value.value})}}\n                                            name='kategori' \n                                            value={kategoriSelected}\n                                            loading={spiner} \n                                            placeholder='Kategori' \n                                            fluid \n                                            selection \n                                            options={kategori} \n                                            disabled={disabled} \n                                        />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <ReactQuill \n                                            name='deskripsi'\n                                            theme='snow' \n                                            placeholder='Deskripsi'\n                                            onChange={(e)=>this.setState({deskripsi:e})}\n                                            value={deskripsi}\n                                            modules={this.modules}\n                                            formats={this.formats}\n                                        />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} name='harga' pattern=\"[0-9]*\" fluid placeholder=\"harga\" onChange={(e)=>{\n                                            const num = (e.target.validity.valid) ? e.target.value : harga\n                                            this.setState({harga:num})\n                                        }} value={harga} label='Harga' />\n                                    </Form.Field>\n                                </Header>\n                                <Divider/>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} defaultValue={linktree[0]} name='wa' placeholder='https://wa.me/xxxxxxxx' fluid label='Link Wa' />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} defaultValue={linktree[1]} name='tokped' fluid placeholder='https://tokopedia.com/xxxx' label='Link Tokopedia' />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} defaultValue={linktree[2]} name='shopee' fluid placeholder='https://shopee.com/xxxx' label='Link Shopee' />\n                                    </Form.Field>\n                            </Grid.Column>\n                        </Grid>\n                        <Container className='tags-container'>\n                            <Button disabled={disabled} loading={disabled} type='submit' size='big' fluid icon='refresh' content='Update Produk' color='green' />\n                            <br/><Button type='button' basic disabled={disabled} onClick={()=>this.handleHapus(id)} loading={disabled} size='big' fluid icon='trash' content='Hapus Produk' color='red'/>\n                        </Container>\n                    </Form>\n                </Segment>}\n                <Divider className='bootom-detail' />\n            </Container>\n        );\n    }\n}\n\nexport default Detail;"]},"metadata":{},"sourceType":"module"}