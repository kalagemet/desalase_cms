{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/kalagemet/Data/desalase.id/website/cms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/Users/kalagemet/Data/desalase.id/website/cms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kalagemet/Data/desalase.id/website/cms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kalagemet/Data/desalase.id/website/cms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kalagemet/Data/desalase.id/website/cms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'slick-carousel/slick/slick.css';import'slick-carousel/slick/slick-theme.css';import{Button,Container,Divider,Dropdown,Form,Grid,Header,Icon,Input,Segment,Statistic}from'semantic-ui-react';import apiData from'../../data/api-get';import{scroller}from'react-scroll';import ReactQuill from'react-quill';var Detail=/*#__PURE__*/function(_Component){_inherits(Detail,_Component);var _super=_createSuper(Detail);function Detail(props){var _this;_classCallCheck(this,Detail);_this=_super.call(this,props);_this.handleHapus=function(id){var conf=window.confirm('Anda Yakin menghapus produk');if(conf){_this.setState({loading:true});fetch(apiData.hapusproduk+'?id='+id,{headers:{'Authorization':'Bearer '+JSON.parse(localStorage.getItem('token'))}}).then(function(response){return response.json();}).then(function(response){if(!response.error){alert('berhasil');document.location.reload();}else{alert('error - '+response.msg);}_this.setState({loading:false});}).catch(function(err){alert(err);console.log(err);_this.setState({loading:false});});}};_this.handleUpdate=function(e){var conf=window.confirm('Anda Yakin  ?');if(conf){if(e.target.nama.value===''||e.target.produsen.value===''||e.target.id.value===''||_this.state.kategoriSelected===''||_this.state.deskripsi===''||_this.state.tagSelected===''||e.target.harga.value===0||e.target.wa.value===''||e.target.tokped.value===''||e.target.shopee.value===''){alert('form tidak lengkap');document.location.reload();}else{_this.setState({loading:true,disabled:true});var fromData=new FormData();fromData.append('id',e.target.id.value);fromData.append('nama',e.target.nama.value);fromData.append('desk',_this.state.deskripsi);if(e.target.img.files.length>0){var _iterator=_createForOfIteratorHelper(e.target.img.files),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var file=_step.value;fromData.append('img[]',file,file.name);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}fromData.append('produsen',e.target.produsen.value);fromData.append('harga',e.target.harga.value);fromData.append('url',e.target.wa.value+'|'+e.target.tokped.value+'|'+e.target.shopee.value);fromData.append('tags',_this.state.tagSelected);fromData.append('id_kategori',_this.state.kategoriSelected);fetch(apiData.uppProduk,{method:'POST',headers:{'Authorization':'Bearer '+JSON.parse(localStorage.getItem('token'))},body:fromData}).then(function(response){return response.json();}).then(function(response){if(!response.error){alert('berhasil');console.log(response.msg);document.location.reload();}else{alert('error - '+response.msg);}_this.setState({loading:false,disabled:false});}).catch(function(err){console.log(err);_this.setState({loading:false,disabled:false});});}}};_this.state={loading:true,noDetail:false,linktree:[],nama:'',produsen:'',id:0,image:[],harga:'',kategori:[],spiner:true,defaultTag:[],tags:[],tagSelected:'',kategoriSelected:0,deskripsi:''};return _this;}_createClass(Detail,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var id=this.props.match.params.id;this.setState({id:id});this.scrollTop();fetch(apiData.detail+id).then(function(response){return response.json();}).then(function(response){if(response.error){_this2.setState({noDetail:true,loading:false});}else{var tmp='';response.tags.map(function(d,i){tmp=tmp+d;if(i!==response.tags.length-1){tmp=tmp+'|';}});_this2.setState({tagSelected:tmp,nama:response.nama,image:response.image,produsen:response.produsen,kategoriSelected:response.id_kategori,deskripsi:response.deskripsi,harga:response.harga.replace(',',''),defaultTag:response.tags,linktree:response.link,loading:false,disabled:false,spiner:false});document.title=_this2.state.nama+' - desalase.id';}}).catch(function(err){console.log(err);alert(err);});fetch(apiData.getKategori,{headers:{'Authorization':'Bearer '+JSON.parse(localStorage.getItem('token'))}}).then(function(response){return response.json();}).then(function(response){if(response.error){alert('gagal mengambil kategori');}else{_this2.setState({kategori:response.data,spiner:false});}}).catch(function(err){console.log(err);});fetch(apiData.getTags,{headers:{'Authorization':'Bearer '+JSON.parse(localStorage.getItem('token'))}}).then(function(response){return response.json();}).then(function(response){if(response.error){// alert('gagal mengambil tags')\n}else{_this2.setState({tags:response.data,spiner:false});}}).catch(function(err){console.log(err);});}},{key:\"scrollTop\",value:function scrollTop(){scroller.scrollTo('divider-page',{duration:800,delay:0,smooth:\"easeInOutQuart\"});}},{key:\"handleHapusGambar\",value:function handleHapusGambar(e,id){var _this3=this;var conf=window.confirm('Anda Yakin menghapus '+e+' dari produk?');if(conf){this.setState({disabled:true,loading:true});var data={'id':id,'data':e};fetch(apiData.hapusGambarProduk,{method:'post',headers:{'Authorization':'Bearer '+JSON.parse(localStorage.getItem('token')),'Content-Type':'application/json'},body:JSON.stringify(data)}).then(function(response){return response.json();}).then(function(response){if(!response.error){alert('berhasil');document.location.reload();}else{alert('error - '+response.msg);}_this3.setState({disabled:true,loading:false});}).catch(function(err){alert(err);console.log(err);_this3.setState({disabled:true,loading:false});});}}},{key:\"render\",value:function render(){var _this4=this;var _this$state=this.state,loading=_this$state.loading,spiner=_this$state.spiner,id=_this$state.id,kategori=_this$state.kategori,harga=_this$state.harga,image=_this$state.image,linktree=_this$state.linktree,deskripsi=_this$state.deskripsi,disabled=_this$state.disabled,tags=_this$state.tags,kategoriSelected=_this$state.kategoriSelected,defaultTag=_this$state.defaultTag,noDetail=_this$state.noDetail,nama=_this$state.nama,produsen=_this$state.produsen;return/*#__PURE__*/React.createElement(Container,null,noDetail?/*#__PURE__*/React.createElement(Statistic,{className:\"no-produk-msg\",label:\"Tidak ada produk yang dapat ditampilkan\",value:\"Tidak Tersedia\",text:true}):/*#__PURE__*/React.createElement(Segment,{loading:loading,vertical:true,textAlign:\"left\",className:\"detail-container\"},/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleUpdate},/*#__PURE__*/React.createElement(Grid,{className:\"detail-group\"},/*#__PURE__*/React.createElement(Grid.Column,{mobile:16,tablet:6,computer:6},/*#__PURE__*/React.createElement(Segment,{style:{height:'300px'},className:\"detail-image\"},/*#__PURE__*/React.createElement(Form.Field,{style:{display:'none'},required:true},/*#__PURE__*/React.createElement(Input,{disabled:true,name:\"id\",value:id})),image.length>0?image.map(function(d,i){return/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return _this4.handleHapusGambar(d,id);},type:\"button\",style:{marginBottom:'5px'},key:i,fluid:true,icon:true,color:\"orange\",labelPosition:\"right\"},/*#__PURE__*/React.createElement(Icon,{name:\"close\"}),\"Hapus Gambar \",i+1);}):'',/*#__PURE__*/React.createElement(Header,{as:\"h4\",textAlign:\"center\"},\"Tambah Gambar\"),/*#__PURE__*/React.createElement(Form.Field,{required:true},/*#__PURE__*/React.createElement(Input,{disabled:disabled,name:\"img\",multiple:true,input:{accept:\"image/x-png,image/gif,image/jpeg\"},type:\"file\"}))),/*#__PURE__*/React.createElement(Form.Field,{required:true},/*#__PURE__*/React.createElement(Dropdown,{disabled:disabled,loading:spiner,placeholder:\"tags\",fluid:true,search:true,selection:true,options:tags,multiple:true,allowAdditions:true,onChange:function onChange(e,value){var tmp='';for(var i=0;i<value.value.length;i++){tmp=tmp+value.value[i];if(i!==value.value.length-1){tmp=tmp+'|';}}_this4.setState({tagSelected:tmp,defaultTag:value.value});},onAddItem:function onAddItem(e,d){var tmp=tags;tmp.push({key:d.value,text:d.value,value:d.value});_this4.setState({tags:tmp});},value:defaultTag}))),/*#__PURE__*/React.createElement(Grid.Column,{mobile:16,tablet:10,computer:10},/*#__PURE__*/React.createElement(Header,{className:\"detail-deskripsi\"},/*#__PURE__*/React.createElement(Form.Field,{required:true},/*#__PURE__*/React.createElement(Input,{disabled:disabled,defaultValue:nama,name:\"nama\",fluid:true,placeholder:\"Kopi Bubuk\",label:\"Nama Produk\"})),/*#__PURE__*/React.createElement(Form.Field,{required:true},/*#__PURE__*/React.createElement(Input,{disabled:disabled,defaultValue:produsen,fluid:true,name:\"produsen\",placeholder:\"KWT Muda Mudi\",label:\"Produsen\"})),/*#__PURE__*/React.createElement(Form.Field,{required:true},/*#__PURE__*/React.createElement(Dropdown,{onChange:function onChange(e,value){_this4.setState({kategoriSelected:value.value});},name:\"kategori\",value:kategoriSelected,loading:spiner,placeholder:\"Kategori\",fluid:true,selection:true,options:kategori,disabled:disabled})),/*#__PURE__*/React.createElement(Form.Field,{required:true},/*#__PURE__*/React.createElement(ReactQuill,{name:\"deskripsi\",theme:\"snow\",placeholder:\"Deskripsi\",onChange:function onChange(e){return _this4.setState({deskripsi:e});},value:deskripsi,modules:this.modules,formats:this.formats})),/*#__PURE__*/React.createElement(Form.Field,{required:true},/*#__PURE__*/React.createElement(Input,{disabled:disabled,name:\"harga\",pattern:\"[0-9]*\",fluid:true,placeholder:\"harga\",onChange:function onChange(e){var num=e.target.validity.valid?e.target.value:harga;_this4.setState({harga:num});},value:harga,label:\"Harga\"}))),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(Form.Field,{required:true},/*#__PURE__*/React.createElement(Input,{disabled:disabled,defaultValue:linktree[0],name:\"wa\",placeholder:\"https://wa.me/xxxxxxxx\",fluid:true,label:\"Link Wa\"})),/*#__PURE__*/React.createElement(Form.Field,{required:true},/*#__PURE__*/React.createElement(Input,{disabled:disabled,defaultValue:linktree[1],name:\"tokped\",fluid:true,placeholder:\"https://tokopedia.com/xxxx\",label:\"Link Tokopedia\"})),/*#__PURE__*/React.createElement(Form.Field,{required:true},/*#__PURE__*/React.createElement(Input,{disabled:disabled,defaultValue:linktree[2],name:\"shopee\",fluid:true,placeholder:\"https://shopee.com/xxxx\",label:\"Link Shopee\"})))),/*#__PURE__*/React.createElement(Container,{className:\"tags-container\"},/*#__PURE__*/React.createElement(Button,{disabled:disabled,loading:disabled,type:\"submit\",size:\"big\",fluid:true,icon:\"refresh\",content:\"Update Produk\",color:\"green\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{type:\"button\",basic:true,disabled:disabled,onClick:function onClick(){return _this4.handleHapus(id);},loading:disabled,size:\"big\",fluid:true,icon:\"trash\",content:\"Hapus Produk\",color:\"red\"})))),/*#__PURE__*/React.createElement(Divider,{className:\"bootom-detail\"}));}}]);return Detail;}(Component);export default Detail;","map":{"version":3,"sources":["/Users/kalagemet/Data/desalase.id/website/cms/src/assets/page/Detail.js"],"names":["React","Component","Button","Container","Divider","Dropdown","Form","Grid","Header","Icon","Input","Segment","Statistic","apiData","scroller","ReactQuill","Detail","props","handleHapus","id","conf","window","confirm","setState","loading","fetch","hapusproduk","headers","JSON","parse","localStorage","getItem","then","response","json","error","alert","document","location","reload","msg","catch","err","console","log","handleUpdate","e","target","nama","value","produsen","state","kategoriSelected","deskripsi","tagSelected","harga","wa","tokped","shopee","disabled","fromData","FormData","append","img","files","length","file","name","uppProduk","method","body","noDetail","linktree","image","kategori","spiner","defaultTag","tags","match","params","scrollTop","detail","tmp","map","d","i","id_kategori","replace","link","title","getKategori","data","getTags","scrollTo","duration","delay","smooth","hapusGambarProduk","stringify","height","display","handleHapusGambar","marginBottom","accept","push","key","text","modules","formats","num","validity","valid"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport { Button, Container, Divider, Dropdown, Form, Grid, Header, Icon, Input, Segment, Statistic } from 'semantic-ui-react';\nimport apiData from '../../data/api-get';\nimport { scroller } from 'react-scroll';\nimport ReactQuill from 'react-quill';\n\nclass Detail extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading:true, \n            noDetail:false,\n            linktree:[],\n            nama:'',\n            produsen:'',\n            id:0,\n            image:[],\n            harga:'',\n            kategori:[],\n            spiner:true,\n            defaultTag:[],\n            tags:[],\n            tagSelected:'',\n            kategoriSelected:0,\n            deskripsi:'',\n        }\n    }\n\n    componentDidMount(){\n        const {id} =  this.props.match.params;\n        this.setState({id:id})\n        this.scrollTop();\n        fetch(apiData.detail+id)\n        .then(response => response.json())\n        .then( response=> {\n            if (response.error) {\n                this.setState({noDetail:true, loading:false})\n            }else{\n                var tmp = ''\n                response.tags.map((d,i)=>{\n                    tmp = tmp+d\n                    if(i!==response.tags.length-1){\n                        tmp=tmp+'|'\n                    }\n                })\n                this.setState({ \n                    tagSelected:tmp,\n                    nama:response.nama,\n                    image:response.image,\n                    produsen:response.produsen,\n                    kategoriSelected:response.id_kategori,\n                    deskripsi:response.deskripsi,\n                    harga:response.harga.replace(',',''),\n                    defaultTag:response.tags,\n                    linktree:response.link,\n                    loading:false,\n                    disabled:false,\n                    spiner:false,\n                })\n                document.title = this.state.nama+' - desalase.id'\n            }\n        })\n        .catch(err=>{\n            console.log(err)\n            alert(err)\n        })\n        fetch(apiData.getKategori,{\n            headers:{\n                'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n            },\n        })\n        .then(response => response.json())\n        .then( response=> {\n            if(response.error){\n                alert('gagal mengambil kategori')\n            }else{\n                this.setState({kategori:response.data,spiner:false})\n            }\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n        fetch(apiData.getTags,{\n            headers:{\n                'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n            },\n        })\n        .then(response => response.json())\n        .then( response=> {\n            if(response.error){\n                // alert('gagal mengambil tags')\n            }else{\n                this.setState({tags:response.data,spiner:false})\n            }\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    scrollTop(){\n        scroller.scrollTo('divider-page', {\n            duration: 800,\n            delay: 0,\n            smooth: \"easeInOutQuart\",\n        });\n    }\n\n    handleHapus=(id)=>{\n        var conf = window.confirm('Anda Yakin menghapus produk')\n        if (conf) {\n            this.setState({loading:true})\n            fetch(apiData.hapusproduk+'?id='+id,{\n                headers:{\n                    'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n                },\n            })\n            .then(response => response.json())\n            .then( response=> {\n                if(!response.error){\n                    alert('berhasil')\n                    document.location.reload()\n                }else{\n                    alert('error - '+response.msg)\n                }\n                this.setState({loading:false})\n            })\n            .catch(err=>{\n                alert(err)\n                console.log(err)\n                this.setState({loading:false})\n            })\n        }\n    }\n    handleUpdate=(e)=>{\n        var conf = window.confirm('Anda Yakin  ?')\n        if (conf) {\n            if(e.target.nama.value==='' ||\n            e.target.produsen.value==='' ||\n            e.target.id.value==='' ||\n            this.state.kategoriSelected==='' ||\n            this.state.deskripsi==='' ||\n            this.state.tagSelected==='' ||\n            e.target.harga.value===0 ||\n            e.target.wa.value==='' ||\n            e.target.tokped.value==='' ||\n            e.target.shopee.value===''){\n                alert('form tidak lengkap')\n                document.location.reload()\n            }else{\n                this.setState({loading:true,disabled:true})\n                const fromData = new FormData()\n                fromData.append('id',e.target.id.value)\n                fromData.append('nama',e.target.nama.value)\n                fromData.append('desk',this.state.deskripsi)\n                if(e.target.img.files.length>0){\n                    for(const file of e.target.img.files){\n                        fromData.append('img[]',file, file.name)\n                    }\n                }\n                fromData.append('produsen',e.target.produsen.value)\n                fromData.append('harga',e.target.harga.value)\n                fromData.append('url',e.target.wa.value+'|'+e.target.tokped.value+'|'+e.target.shopee.value)\n                fromData.append('tags',this.state.tagSelected)\n                fromData.append('id_kategori',this.state.kategoriSelected)\n                fetch(apiData.uppProduk, {\n                    method: 'POST',\n                    headers:{\n                        'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n                    },\n                    body: fromData\n                })\n                .then(response => response.json())\n                .then( response=> {\n                    if(!response.error){\n                        alert('berhasil')\n                        console.log(response.msg)\n                        document.location.reload()\n                    }else{\n                        alert('error - '+response.msg)\n                    }\n                    this.setState({loading:false,disabled:false})\n                })\n                .catch(err=>{\n                    console.log(err)\n                    this.setState({loading:false,disabled:false})\n                })\n            }\n        }\n    }\n\n\n    handleHapusGambar(e,id){\n        var conf = window.confirm('Anda Yakin menghapus '+e+' dari produk?')\n        if (conf) {\n            this.setState({disabled:true,loading:true})\n            var data = {\n                'id' : id,\n                'data' : e\n            }\n            fetch(apiData.hapusGambarProduk,{\n                method:'post',\n                headers: {\n                    'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n                    'Content-Type': 'application/json'\n                },\n                body : JSON.stringify(data)\n            })\n            .then(response => response.json())\n            .then( response=> {\n                if(!response.error){\n                    alert('berhasil')\n                    document.location.reload()\n                }else{\n                    alert('error - '+response.msg)\n                }\n                this.setState({disabled:true,loading:false})\n            })\n            .catch(err=>{\n                alert(err)\n                console.log(err)\n                this.setState({disabled:true,loading:false})\n            })\n        }\n    }\n\n    render() {\n        const {\n            loading,\n            spiner,\n            id,\n            kategori,\n            harga,\n            image,\n            linktree,\n            deskripsi,\n            disabled,\n            tags,\n            kategoriSelected,\n            defaultTag, \n            noDetail,\n            nama,\n            produsen\n        } = this.state;\n        return (\n            <Container>\n                {noDetail ? \n                <Statistic className='no-produk-msg' label='Tidak ada produk yang dapat ditampilkan' value='Tidak Tersedia' text /> \n                :\n                <Segment loading={loading} vertical textAlign='left' className='detail-container'>\n                    <Form onSubmit={this.handleUpdate}>\n                        <Grid className='detail-group'>\n                            <Grid.Column mobile={16} tablet={6} computer={6}>\n                                <Segment style={{height:'300px'}} className='detail-image'>\n                                    <Form.Field style={{display:'none'}} required>\n                                        <Input disabled name='id' value={id}/>\n                                    </Form.Field>\n                                    {(image.length>0)?image.map((d,i)=>(\n                                        <Button onClick={()=>this.handleHapusGambar(d,id)} type='button' style={{marginBottom:'5px'}} key={i} fluid icon color='orange' labelPosition='right'>\n                                            <Icon name='close'/>\n                                            Hapus Gambar {i+1}\n                                        </Button>\n                                    )):''}\n                                    <Header as='h4' textAlign='center'>Tambah Gambar</Header>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} name='img'  multiple input={{accept:\"image/x-png,image/gif,image/jpeg\"}} type='file'  />\n                                    </Form.Field>\n                                </Segment>\n                                <Form.Field required>\n                                    <Dropdown disabled={disabled} loading={spiner} placeholder='tags' fluid search selection options={tags} multiple allowAdditions\n                                        onChange={(e,value)=>{\n                                            var tmp=''\n                                            for(let i = 0;i<value.value.length;i++){\n                                                tmp=tmp+value.value[i]\n                                                if(i!==value.value.length-1){\n                                                    tmp = tmp+'|'\n                                                }\n                                            }\n                                            this.setState({tagSelected:tmp,defaultTag:value.value})\n                                        }}\n                                        onAddItem={(e,d)=>{\n                                            const tmp = tags\n                                            tmp.push({key:d.value,text:d.value,value:d.value})\n                                            this.setState({tags:tmp})\n                                        }}\n                                        value={defaultTag}\n                                    />\n                                </Form.Field>\n                            </Grid.Column>\n                            <Grid.Column mobile={16} tablet={10} computer={10}>\n                                <Header className='detail-deskripsi'>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} defaultValue={nama} name='nama' fluid placeholder='Kopi Bubuk' label='Nama Produk' />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} defaultValue={produsen}  fluid name='produsen' placeholder='KWT Muda Mudi' label='Produsen' />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Dropdown \n                                            onChange={(e,value)=>{this.setState({kategoriSelected:value.value})}}\n                                            name='kategori' \n                                            value={kategoriSelected}\n                                            loading={spiner} \n                                            placeholder='Kategori' \n                                            fluid \n                                            selection \n                                            options={kategori} \n                                            disabled={disabled} \n                                        />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <ReactQuill \n                                            name='deskripsi'\n                                            theme='snow' \n                                            placeholder='Deskripsi'\n                                            onChange={(e)=>this.setState({deskripsi:e})}\n                                            value={deskripsi}\n                                            modules={this.modules}\n                                            formats={this.formats}\n                                        />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} name='harga' pattern=\"[0-9]*\" fluid placeholder=\"harga\" onChange={(e)=>{\n                                            const num = (e.target.validity.valid) ? e.target.value : harga\n                                            this.setState({harga:num})\n                                        }} value={harga} label='Harga' />\n                                    </Form.Field>\n                                </Header>\n                                <Divider/>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} defaultValue={linktree[0]} name='wa' placeholder='https://wa.me/xxxxxxxx' fluid label='Link Wa' />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} defaultValue={linktree[1]} name='tokped' fluid placeholder='https://tokopedia.com/xxxx' label='Link Tokopedia' />\n                                    </Form.Field>\n                                    <Form.Field required>\n                                        <Input disabled={disabled} defaultValue={linktree[2]} name='shopee' fluid placeholder='https://shopee.com/xxxx' label='Link Shopee' />\n                                    </Form.Field>\n                            </Grid.Column>\n                        </Grid>\n                        <Container className='tags-container'>\n                            <Button disabled={disabled} loading={disabled} type='submit' size='big' fluid icon='refresh' content='Update Produk' color='green' />\n                            <br/><Button type='button' basic disabled={disabled} onClick={()=>this.handleHapus(id)} loading={disabled} size='big' fluid icon='trash' content='Hapus Produk' color='red'/>\n                        </Container>\n                    </Form>\n                </Segment>}\n                <Divider className='bootom-detail' />\n            </Container>\n        );\n    }\n}\n\nexport default Detail;"]},"metadata":{},"sourceType":"module"}