{"ast":null,"code":"var _jsxFileName = \"/Users/kalagemet/Data/desalase.id/website/cms/src/assets/page/Tentang.js\";\nimport React, { Component } from 'react';\nimport { scroller } from 'react-scroll';\nimport { Button, Container, Divider, Form, Header, Image, Input, Segment } from 'semantic-ui-react';\nimport apiData from '../../data/api-get';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\nclass Tentang extends Component {\n  constructor(props) {\n    super(props);\n    this.modules = {\n      toolbar: [['bold', 'italic', 'underline', 'strike'], // toggled buttons\n      ['blockquote', 'code-block'], // blocks\n      // [{ 'header': 1 }, { 'header': 2 }],              // custom button values\n      [{\n        'list': 'ordered'\n      }, {\n        'list': 'bullet'\n      }], // lists\n      // [{ 'script': 'sub'}, { 'script': 'super' }],     // superscript/subscript\n      [{\n        'indent': '-1'\n      }, {\n        'indent': '+1'\n      }], // outdent/indent\n      [{\n        'direction': 'rtl'\n      }], // text direction\n      // [{ 'size': ['small', false, 'large', 'huge'] }], // custom dropdown\n      [{\n        'header': [1, 2, 3, 4, 5, 6, false]\n      }], // header dropdown\n      [{\n        'color': []\n      }, {\n        'background': []\n      }], // dropdown with defaults\n      // [{ 'font': [] }],                                // font family\n      [{\n        'align': []\n      }], // text align\n      ['clean'] // remove formatting\n      ]\n    };\n    this.formats = ['header', 'font', 'background', 'color', 'code', 'size', 'bold', 'italic', 'underline', 'strike', 'blockquote', 'list', 'bullet', 'indent', 'script', 'align', 'direction', 'link', 'image', 'code-block', 'formula', 'video'];\n\n    this.handleUpdate = e => {\n      var header = e.target.header;\n      var data = e.target.updateSub.id - 100;\n      data = this.state.data[data];\n\n      if (header.value === '' || data === '') {\n        header.focus();\n      } else {\n        var conf = window.confirm('Anda Yakin memperbarui ' + header.value);\n\n        if (conf) {\n          this.setState({\n            disabledbutton: true,\n            updateLoading: true\n          });\n          var dataBody = {\n            'id': e.target.id.value,\n            'header': header.value,\n            'data': data\n          };\n          fetch(apiData.updatetentang, {\n            method: 'post',\n            headers: {\n              'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('token')),\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(dataBody)\n          }).then(response => response.json()).then(response => {\n            if (!response.error) {\n              alert('berhasil');\n              console.log(response.msg);\n              document.location.reload();\n            } else {\n              alert('error - ' + response.msg);\n            }\n\n            this.setState({\n              disabledbutton: false,\n              updateLoading: false\n            });\n          }).catch(err => {\n            alert(err);\n            console.log(err);\n            this.setState({\n              disabledbutton: false,\n              updateLoading: false\n            });\n          });\n        }\n      }\n    };\n\n    this.handleHapus = e => {\n      var conf = window.confirm('Anda Yakin menghapus ' + e.target.name);\n\n      if (conf) {\n        var id = e.target.id;\n        this.setState({\n          disabledbutton: true,\n          hapusLoading: true\n        });\n        fetch(apiData.deltentang + '?id=' + id, {\n          headers: {\n            'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('token'))\n          }\n        }).then(response => response.json()).then(response => {\n          if (!response.error) {\n            alert('berhasil');\n            document.location.reload();\n          } else {\n            alert('error - ' + response.msg);\n          }\n\n          this.setState({\n            disabledbutton: false,\n            hapusLoading: false\n          });\n        }).catch(err => {\n          alert(err);\n          console.log(err);\n          this.setState({\n            disabledbutton: false,\n            hapusLoading: false\n          });\n        });\n      }\n    };\n\n    this.handleSubmitNew = e => {\n      var header = e.target.header;\n      var dataNew = this.state.newTentang;\n\n      if (header.value === '' || dataNew === '') {\n        header.focus();\n      } else {\n        this.setState({\n          disabledbutton: true,\n          addTentangLoading: true\n        });\n        var data = {\n          'header': header.value,\n          'data': dataNew\n        };\n        fetch(apiData.addtentang, {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }).then(response => response.json()).then(response => {\n          if (!response.error) {\n            alert('berhasil');\n            console.log(response.msg);\n            document.location.reload();\n          } else {\n            alert('error - ' + response.msg);\n          }\n\n          this.setState({\n            disabledbutton: false,\n            addTentangLoading: false\n          });\n        }).catch(err => {\n          alert(err);\n          console.log(err);\n          this.setState({\n            disabledbutton: false,\n            addTentangLoading: false\n          });\n        });\n      }\n    };\n\n    this.onChangeTextArea = (e, i) => {\n      const tmp = this.state.data.slice();\n\n      if (tmp[i] !== e) {\n        tmp[i] = e;\n        this.setState({\n          data: tmp\n        });\n      }\n    };\n\n    this.onChangeNewTextArea = e => {\n      this.setState({\n        newTentang: e\n      });\n    };\n\n    this.state = {\n      logo: '',\n      loading: true,\n      tentang: [],\n      newTentang: '',\n      data: [],\n      addTentangLoading: false,\n      hapusLoading: false,\n      updateLoading: false,\n      disabledbutton: false\n    };\n  }\n\n  componentDidMount() {\n    document.title = 'Tentang desalase.id';\n    scroller.scrollTo('divider-page', {\n      duration: 800,\n      delay: 0,\n      smooth: \"easeInOutQuart\"\n    });\n    fetch(apiData.logo).then(response => response.json()).then(response => {\n      this.setState({\n        logo: response\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    fetch(apiData.tentang).then(response => response.json()).then(response => {\n      this.setState({\n        loading: false,\n        tentang: response\n      });\n      response.forEach((d, i) => {\n        const tmp = this.state.data.slice();\n        tmp[i] = d.data;\n        this.setState({\n          data: tmp\n        });\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    const {\n      logo,\n      loading,\n      updateLoading,\n      tentang,\n      addTentangLoading,\n      hapusLoading,\n      disabledbutton\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Segment, {\n      style: {\n        zIndex: 0\n      },\n      loading: loading,\n      vertical: true,\n      className: \"tentang-segment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }\n    }, loading ? /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 26\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      centered: true,\n      size: \"medium\",\n      src: logo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      textAlign: \"justified\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    }, tentang.map((d, i) => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      style: {\n        display: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"id\",\n      disabled: true,\n      value: d.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"header\",\n      disabled: disabledbutton,\n      id: 'header_' + d.id,\n      label: \"Header\",\n      defaultValue: d.header,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(ReactQuill, {\n      disabled: disabledbutton,\n      onChange: e => this.onChangeTextArea(e, i),\n      defaultValue: d.data,\n      theme: \"snow\",\n      placeholder: \"Deskripsi\",\n      modules: this.modules,\n      formats: this.formats,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Button.Group, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      name: \"updateSub\",\n      id: i + 100,\n      color: \"yellow\",\n      loading: updateLoading,\n      disabled: disabledbutton,\n      content: \"Perbarui\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Button.Or, {\n      text: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      color: \"red\",\n      id: d.id,\n      name: d.header,\n      loading: hapusLoading,\n      disabled: disabledbutton,\n      onClick: this.handleHapus,\n      content: \"Hapus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      textAlign: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 25\n      }\n    }, \"Tambah\"), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmitNew,\n      method: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: disabledbutton,\n      name: \"header\",\n      label: \"Header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(ReactQuill, {\n      disabled: disabledbutton,\n      onChange: this.onChangeNewTextArea,\n      theme: \"snow\",\n      placeholder: \"Deskripsi\",\n      modules: this.modules,\n      formats: this.formats,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      disabled: disabledbutton,\n      loading: addTentangLoading,\n      fluid: true,\n      basic: true,\n      color: \"blue\",\n      content: \"Tambah\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 29\n      }\n    })))));\n  }\n\n}\n\nexport default Tentang;","map":{"version":3,"sources":["/Users/kalagemet/Data/desalase.id/website/cms/src/assets/page/Tentang.js"],"names":["React","Component","scroller","Button","Container","Divider","Form","Header","Image","Input","Segment","apiData","ReactQuill","Tentang","constructor","props","modules","toolbar","formats","handleUpdate","e","header","target","data","updateSub","id","state","value","focus","conf","window","confirm","setState","disabledbutton","updateLoading","dataBody","fetch","updatetentang","method","headers","JSON","parse","localStorage","getItem","body","stringify","then","response","json","error","alert","console","log","msg","document","location","reload","catch","err","handleHapus","name","hapusLoading","deltentang","handleSubmitNew","dataNew","newTentang","addTentangLoading","addtentang","onChangeTextArea","i","tmp","slice","onChangeNewTextArea","logo","loading","tentang","componentDidMount","title","scrollTo","duration","delay","smooth","forEach","d","render","zIndex","map","display"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { scroller } from 'react-scroll';\nimport { Button, Container, Divider, Form, Header, Image, Input, Segment } from 'semantic-ui-react';\nimport apiData from '../../data/api-get';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\nclass Tentang extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            logo:'',\n            loading:true,\n            tentang:[],\n            newTentang:'',\n            data:[],\n            addTentangLoading: false,\n            hapusLoading:false,\n            updateLoading:false,\n            disabledbutton:false\n        }\n    }\n\n    modules = {\n        toolbar : [\n            ['bold', 'italic', 'underline', 'strike'],       // toggled buttons\n            ['blockquote', 'code-block'],                    // blocks\n            // [{ 'header': 1 }, { 'header': 2 }],              // custom button values\n            [{ 'list': 'ordered'}, { 'list': 'bullet' }],    // lists\n            // [{ 'script': 'sub'}, { 'script': 'super' }],     // superscript/subscript\n            [{ 'indent': '-1'}, { 'indent': '+1' }],         // outdent/indent\n            [{ 'direction': 'rtl' }],                        // text direction\n            // [{ 'size': ['small', false, 'large', 'huge'] }], // custom dropdown\n            [{ 'header': [1, 2, 3, 4, 5, 6, false] }],       // header dropdown\n            [{ 'color': [] }, { 'background': [] }],         // dropdown with defaults\n            // [{ 'font': [] }],                                // font family\n            [{ 'align': [] }],                               // text align\n            ['clean'],                                       // remove formatting\n        ]\n    }\n\n    formats = [\n        'header', 'font', 'background', 'color', 'code', 'size',\n        'bold', 'italic', 'underline', 'strike', 'blockquote',\n        'list', 'bullet', 'indent', 'script', 'align', 'direction',\n        'link', 'image', 'code-block', 'formula', 'video'\n    ]\n\n    handleUpdate=(e)=>{\n        var header=e.target.header\n        var data=e.target.updateSub.id-100\n        data = this.state.data[data]\n        if(header.value==='' || data===''){\n            header.focus()\n        }else{\n            var conf = window.confirm('Anda Yakin memperbarui '+header.value)\n            if (conf) {\n                this.setState({disabledbutton:true,updateLoading:true})\n                var dataBody = {\n                    'id' : e.target.id.value,\n                    'header' : header.value,\n                    'data' : data\n                }\n                fetch(apiData.updatetentang,{\n                    method:'post',\n                    headers: {\n                        'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n                        'Content-Type': 'application/json'\n                    },\n                    body : JSON.stringify(dataBody)\n                })\n                .then(response => response.json())\n                .then( response=> {\n                    if(!response.error){\n                        alert('berhasil')\n                        console.log(response.msg)\n                        document.location.reload()\n                    }else{\n                        alert('error - '+response.msg)\n                    }\n                    this.setState({disabledbutton:false,updateLoading:false})\n                })\n                .catch(err=>{\n                    alert(err)\n                    console.log(err)\n                    this.setState({disabledbutton:false,updateLoading:false})\n                })\n            }\n        }\n    }\n\n    handleHapus=(e)=>{\n        var conf = window.confirm('Anda Yakin menghapus '+e.target.name)\n        if (conf) {\n            var id = e.target.id\n            this.setState({disabledbutton:true,hapusLoading:true})\n            fetch(apiData.deltentang+'?id='+id,{\n                headers:{\n                    'Authorization': 'Bearer '+JSON.parse(localStorage.getItem('token')),\n                },\n            })\n            .then(response => response.json())\n            .then( response=> {\n                if(!response.error){\n                    alert('berhasil')\n                    document.location.reload()\n                }else{\n                    alert('error - '+response.msg)\n                }\n                this.setState({disabledbutton:false,hapusLoading:false})\n            })\n            .catch(err=>{\n                alert(err)\n                console.log(err)\n                this.setState({disabledbutton:false,hapusLoading:false})\n            })\n        }\n    }\n\n    handleSubmitNew=(e)=>{\n        var header = e.target.header\n        var dataNew = this.state.newTentang\n        if(header.value ==='' || dataNew===''){\n            header.focus()\n        }else{\n            this.setState({disabledbutton:true,addTentangLoading:true})\n            var data = {\n                'header' : header.value,\n                'data' : dataNew\n            }\n            fetch(apiData.addtentang,{\n                method:'post',\n                headers: {'Content-Type': 'application/json'},\n                body : JSON.stringify(data)\n            })\n            .then(response => response.json())\n            .then( response=> {\n                if(!response.error){\n                    alert('berhasil')\n                    console.log(response.msg)\n                    document.location.reload()\n                }else{\n                    alert('error - '+response.msg)\n                }\n                this.setState({disabledbutton:false,addTentangLoading:false})\n            })\n            .catch(err=>{\n                alert(err)\n                console.log(err)\n                this.setState({disabledbutton:false,addTentangLoading:false})\n            })\n        }\n    }\n    \n    componentDidMount(){\n        document.title = 'Tentang desalase.id'\n        scroller.scrollTo('divider-page',{\n            duration: 800,\n            delay: 0,\n            smooth: \"easeInOutQuart\",\n        })\n        fetch(apiData.logo)\n        .then(response => response.json())\n        .then( response=> {\n            this.setState({logo:response})\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n        fetch(apiData.tentang)\n        .then(response => response.json())\n        .then( response=> {\n            this.setState({loading:false,tentang:response})\n            response.forEach((d,i)=>{\n                const tmp = this.state.data.slice()\n                tmp[i]=d.data\n                this.setState({data:tmp})\n            })\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    onChangeTextArea=(e,i)=>{\n        const tmp = this.state.data.slice()\n        if(tmp[i]!==e){\n            tmp[i]=e\n            this.setState({data:tmp})\n        }\n    }\n\n    onChangeNewTextArea=(e)=>{\n        this.setState({newTentang:e})\n    }\n\n    render() {\n        const {logo, loading, updateLoading, tentang, addTentangLoading, hapusLoading, disabledbutton} = this.state\n        return (\n            <Segment style={{zIndex:0}} loading={loading} vertical className='tentang-segment'>\n                {loading?<br/>:\n                <div>\n                <Image centered size='medium' src={logo} />\n                <br/>\n                <Container textAlign='justified'>\n                    {tentang.map((d,i)=>(\n                        <div>\n                        <Form onSubmit={this.handleUpdate}>\n                            <Form.Field style={{display:'none'}}>\n                                <Input name='id' disabled value={d.id}/>\n                            </Form.Field>\n                            <Form.Field>\n                                <Input name='header' disabled={disabledbutton} id={'header_'+d.id} label='Header'  defaultValue={d.header}/>\n                            </Form.Field>\n                            <Form.Field>\n                                <ReactQuill \n                                    disabled={disabledbutton}\n                                    onChange={(e)=>this.onChangeTextArea(e,i)}\n                                    defaultValue={d.data}\n                                    theme='snow' \n                                    placeholder='Deskripsi'\n                                    modules={this.modules}\n                                    formats={this.formats}\n                                />\n                            </Form.Field>\n                            <Button.Group fluid>\n                                <Button type='submit' name='updateSub' id={i+100} color='yellow' loading={updateLoading} disabled={disabledbutton} content='Perbarui' />\n                                <Button.Or text='/' />\n                                <Button color='red' id={d.id} name={d.header} loading={hapusLoading} disabled={disabledbutton} onClick={this.handleHapus} content='Hapus' />\n                            </Button.Group>\n                        </Form>\n                        <Divider/>\n                        <br/></div>\n                    ))}\n                        <br/>\n                        <Header textAlign='center'>Tambah</Header>\n                        <Form onSubmit={this.handleSubmitNew} method='post'>\n                            <Form.Field>\n                                <Input disabled={disabledbutton} name='header' label='Header'/>\n                            </Form.Field>\n                            <Form.Field>\n                                <ReactQuill \n                                    disabled={disabledbutton}\n                                    onChange={this.onChangeNewTextArea}\n                                    theme='snow' \n                                    placeholder='Deskripsi'\n                                    modules={this.modules}\n                                    formats={this.formats}\n                                />\n                            </Form.Field>\n                            <Button type='submit' disabled={disabledbutton} loading={addTentangLoading} fluid basic color='blue' content='Tambah' />\n                        </Form>\n                </Container>\n                </div>}\n            </Segment>\n        );\n    }\n}\n\nexport default Tentang;"]},"metadata":{},"sourceType":"module"}